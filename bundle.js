/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={568:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(354),r=n.n(i),s=n(314),a=n.n(s)()(r());a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap);"]),a.push([t.id,"head, body{\n    position: absolute;\n    overflow-y: hidden;\n    overflow-x: hidden;\n}\n\n/* .loading-screen{\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(244, 244, 244, 255);\n    background-color: black;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n#progress-bar{\n    width: 30%;\n    margin-top: 0.5%;\n    height: 2%;\n}\n\nlabel {\n    color: aliceblue;\n    font-size: 2rem;\n\n} */\n\n.pre-loader,\n.loader,\n.loader-bg,\n.loader-content {\n    pointer-events: none;\n}\n\n\n.pre-loader{\n    background-color: rgba(0, 0, 255, 0);\n    position: fixed;\n    top:0;\n    width: 100%;\n    height: 100%;\n    clip-path: polygon(0%, 0%, 100%, 0%, 100%, 100%, 0%, 100%);\n}\n\n.loader {\n    position: absolute;\n    top:0;\n    width: 100%;\n    height: 100%;\n    background: black;\n    color: aliceblue;\n    justify-content: center;\n    align-items: center;\n}\n\n.loader-content{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    width: 400px;\n    z-index: 2;\n    color: aliceblue;\n}\n\n.count{\n    flex: 2;\n    text-align: right;\n    line-height: 1;\n    padding: 0 1em;\n}\n\n.copy{\n    flex: 6;\n    font-family: 'Poppins';\n    font-size: 40px;\n    text-transform: uppercase;\n    line-height: 1;\n}\n\n.ml16{\n    overflow: hidden;\n}\n\n.ml16 .letter {\n    display: inline-block;\n    line-height: 1em;\n    font-weight: 700;\n}\n\n.loader-bg{\n    position: absolute;\n    display: block;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(199, 149, 1, 0.804);\n    z-index: -1;\n}\n\n.loader-2{\n    position: absolute;\n    top:0;\n    width: 100%;\n    height: 100%;\n}\n\n.glass-btn {\n    display: inline-block;\n    padding: 4% 10%;\n    border: 0;\n    text-decoration: none;\n    border-radius: 15px;\n    background-color: rgba(255, 255, 255, 0.077);\n    /* border: 1px solid rgba(255,255,255,0.1); */\n    backdrop-filter: blur(30px);\n    color: rgba(255, 255, 255, 0.732);\n    font-size: 110%;\n    letter-spacing: 2px;\n    cursor: pointer;\n    text-transform: uppercase;\n    transform: translateY(100px);\n}\n\n.glass-btn.disappear {\n    animation: fade-disappear 0.5s forwards;\n}\n\n.glass-btn.appear {\n    animation: fade-appear 0.5s forwards;\n}\n\n.glass-btn:hover{\n    background-color: rgba(255, 255, 255, 0.267);\n}\n\n#enter-btn{\n    pointer-events: auto;\n    z-index: 1; \n    font-family: 'Poppins';\n    font-weight: 600;\n    color: aliceblue;\n    position: absolute;\n    display: flex;\n    width: 100%;\n    bottom: 30%;\n    justify-content: center;\n    align-items: center;\n}\n\n.contorls-sec{\n    opacity: 0.6;\n    position: absolute;\n    font-family: 'Poppins';\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    bottom: 10%;\n    justify-content: flex-end;\n    align-items: center;\n}\n\n.contorls-sec.hide{\n    animation: hide-controls 2s forwards;\n}\n\n#spacebar {\n    font-weight: 1000;\n    padding: 4% 20%;\n    border: 0;\n    text-decoration: none;\n    border-radius: 15px;\n    background-color: rgba(255, 255, 255, 0.304);\n    border: 1px solid rgba(255,255,255,0.1);\n    backdrop-filter: blur(30px);\n    color: rgba(53, 53, 53, 0.548);\n    font-size: 150%;\n    letter-spacing: 2px;\n    cursor: pointer;\n    text-transform: uppercase;\n\n    animation-name: spacebar-anim;\n    animation-duration: 2s;\n    animation-iteration-count: infinite;\n    animation-timing-function: ease-in-out;\n}\n\n.instr{\n    font-family: 'Poppins';\n    font-weight: 600;\n    font-size: 130%;\n    color: aliceblue;\n}\n\n.instr-2{\n  transform: translateY(50px);\n  position: absolute;\n  font-family: 'Poppins';\n  font-weight: 600;\n  font-size: 130%;\n  color: aliceblue;\n}\n\n@keyframes spacebar-anim {\n    0%, 100% {\n        transform: scale(1);\n        box-shadow: rgba(0, 0, 0, 0) 0 0 0px 0px;\n    }\n    20% {\n        transform: scale(0.92);\n\n    }\n    40%, 50% {\n        box-shadow: rgba(255, 255, 255, 0.8) 0 0 30px 5px;\n        opacity: 0.7;\n    }\n    40%, 60% {\n        transform: scale(0.92);\n    }\n    80% {\n        box-shadow: rgba(0, 0, 0, 0) 0 0 0px 0px;\n        opacity: 1;\n        transform: scale(1);\n    }\n}\n\n@keyframes hide-controls {\n    0%{\n        opacity: 1;\n    }\n    100%{\n        opacity: 0;\n    }\n}\n\n@keyframes fade-disappear {\n    from {\n        display: block;\n        opacity: 1;\n    }\n    to {\n        display: none;\n        opacity: 0;\n    }\n  }\n\n  \n@keyframes fade-appear {\n    0% {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n  }\n\n  .notifications {\n    position: fixed;\n    top: 30px;\n    right: 20px;\n  }\n  .notifications :where(.toast, .column) {\n    display: flex;\n    align-items: center;\n  }\n  .notifications .toast {\n    font-family: \"Poppins\";\n    width: 200px;\n    position: relative;\n    overflow: hidden;\n    list-style: none;\n    border-radius: 4px;\n    padding: 16px 17px;\n    margin-bottom: 10px;\n    background: var(--light);\n    justify-content: space-between;\n    animation: show_toast 0.3s ease forwards;\n  }\n  @keyframes show_toast {\n    0% {\n      transform: translateX(100%);\n    }\n    40% {\n      transform: translateX(-5%);\n    }\n    80% {\n      transform: translateX(0%);\n    }\n    100% {\n      transform: translateX(-10px);\n    }\n  }\n  .notifications .toast.hide {\n    animation: hide_toast 0.3s ease forwards;\n  }\n  @keyframes hide_toast {\n    0% {\n      transform: translateX(-10px);\n    }\n    40% {\n      transform: translateX(0%);\n    }\n    80% {\n      transform: translateX(-5%);\n    }\n    100% {\n      transform: translateX(calc(100% + 20px));\n    }\n  }\n  .toast::before {\n    position: absolute;\n    content: \"\";\n    height: 3px;\n    width: 100%;\n    bottom: 0px;\n    left: 0px;\n    animation: progress 5s linear forwards;\n  }\n  @keyframes progress {\n    100% {\n      width: 0%;\n    }\n  }\n  .toast.success::before,\n  .btn#success {\n    background: var(--success);\n  }\n  .toast.error::before,\n  .btn#error {\n    background: var(--error);\n  }\n  .toast.warning::before,\n  .btn#warning {\n    background: var(--warning);\n  }\n  .toast.info::before,\n  .btn#info {\n    background: var(--info);\n  }\n  .toast.random::before,\n  .btn#random {\n    background: var(--random);\n  }\n \n  .column{\n    background-color: rgba(255, 255, 255, 0.437);\n    backdrop-filter: blur(20px);\n    padding: 5%;\n    padding-right: 6%;\n    border-radius: 10px;\n  }\n  .toast .column i {\n    font-size: 1.75rem;\n  }\n  .toast.success .column i {\n    color: var(--success);\n  }\n  .toast.error .column i {\n    color: var(--error);\n  }\n  .toast.warning .column i {\n    color: var(--warning);\n  }\n  .toast.info .column i {\n    color: var(--info);\n  }\n  .toast.random .column i {\n    color: var(--random);\n  }\n  .toast .column span {\n    font-size: 1.07rem;\n    margin-left: 12px;\n  }\n  .toast i:last-child {\n    color: #aeb0d7;\n    cursor: pointer;\n  }\n  .toast i:last-child:hover {\n    color: var(--dark);\n  }\n\n  .buttons {\n    position: relative; /* or absolute/fixed depending on your layout */\n    z-index: 100000;\n}\n  .buttons .btn {\n    \n    border: none;\n    outline: none;\n    cursor: pointer;\n    margin: 0 5px;\n    color: var(--light);\n    font-size: 1.2rem;\n    padding: 10px 20px;\n    border-radius: 4px;\n  }\n  \n  @media screen and (max-width: 530px) {\n    .notifications {\n      width: 95%;\n    }\n    .notifications .toast {\n      width: 100%;\n      font-size: 1rem;\n      margin-left: 20px;\n    }\n    .buttons .btn {\n      margin: 0 1px;\n      font-size: 1.1rem;\n      padding: 8px 15px;\n    }\n  }\n\n/* nav{\n    padding: 4%;\n    position: absolute;\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n}\n\nnav a{\n    color: aliceblue;\n    font-family: 'Poppins';\n} */\n\n\n","",{version:3,sources:["webpack://./src/main.css"],names:[],mappings:"AACA;IACI,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;AACtB;;AAEA;;;;;;;;;;;;;;;;;;;;;GAqBG;;AAEH;;;;IAII,oBAAoB;AACxB;;;AAGA;IACI,oCAAoC;IACpC,eAAe;IACf,KAAK;IACL,WAAW;IACX,YAAY;IACZ,0DAA0D;AAC9D;;AAEA;IACI,kBAAkB;IAClB,KAAK;IACL,WAAW;IACX,YAAY;IACZ,iBAAiB;IACjB,gBAAgB;IAChB,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,gCAAgC;IAChC,aAAa;IACb,YAAY;IACZ,UAAU;IACV,gBAAgB;AACpB;;AAEA;IACI,OAAO;IACP,iBAAiB;IACjB,cAAc;IACd,cAAc;AAClB;;AAEA;IACI,OAAO;IACP,sBAAsB;IACtB,eAAe;IACf,yBAAyB;IACzB,cAAc;AAClB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,qBAAqB;IACrB,gBAAgB;IAChB,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,cAAc;IACd,MAAM;IACN,WAAW;IACX,YAAY;IACZ,oCAAoC;IACpC,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,KAAK;IACL,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,qBAAqB;IACrB,eAAe;IACf,SAAS;IACT,qBAAqB;IACrB,mBAAmB;IACnB,4CAA4C;IAC5C,6CAA6C;IAC7C,2BAA2B;IAC3B,iCAAiC;IACjC,eAAe;IACf,mBAAmB;IACnB,eAAe;IACf,yBAAyB;IACzB,4BAA4B;AAChC;;AAEA;IACI,uCAAuC;AAC3C;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,4CAA4C;AAChD;;AAEA;IACI,oBAAoB;IACpB,UAAU;IACV,sBAAsB;IACtB,gBAAgB;IAChB,gBAAgB;IAChB,kBAAkB;IAClB,aAAa;IACb,WAAW;IACX,WAAW;IACX,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,sBAAsB;IACtB,aAAa;IACb,sBAAsB;IACtB,WAAW;IACX,WAAW;IACX,yBAAyB;IACzB,mBAAmB;AACvB;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,iBAAiB;IACjB,eAAe;IACf,SAAS;IACT,qBAAqB;IACrB,mBAAmB;IACnB,4CAA4C;IAC5C,uCAAuC;IACvC,2BAA2B;IAC3B,8BAA8B;IAC9B,eAAe;IACf,mBAAmB;IACnB,eAAe;IACf,yBAAyB;;IAEzB,6BAA6B;IAC7B,sBAAsB;IACtB,mCAAmC;IACnC,sCAAsC;AAC1C;;AAEA;IACI,sBAAsB;IACtB,gBAAgB;IAChB,eAAe;IACf,gBAAgB;AACpB;;AAEA;EACE,2BAA2B;EAC3B,kBAAkB;EAClB,sBAAsB;EACtB,gBAAgB;EAChB,eAAe;EACf,gBAAgB;AAClB;;AAEA;IACI;QACI,mBAAmB;QACnB,wCAAwC;IAC5C;IACA;QACI,sBAAsB;;IAE1B;IACA;QACI,iDAAiD;QACjD,YAAY;IAChB;IACA;QACI,sBAAsB;IAC1B;IACA;QACI,wCAAwC;QACxC,UAAU;QACV,mBAAmB;IACvB;AACJ;;AAEA;IACI;QACI,UAAU;IACd;IACA;QACI,UAAU;IACd;AACJ;;AAEA;IACI;QACI,cAAc;QACd,UAAU;IACd;IACA;QACI,aAAa;QACb,UAAU;IACd;EACF;;;AAGF;IACI;QACI,UAAU;IACd;IACA;QACI,UAAU;IACd;EACF;;EAEA;IACE,eAAe;IACf,SAAS;IACT,WAAW;EACb;EACA;IACE,aAAa;IACb,mBAAmB;EACrB;EACA;IACE,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;IAClB,gBAAgB;IAChB,gBAAgB;IAChB,kBAAkB;IAClB,kBAAkB;IAClB,mBAAmB;IACnB,wBAAwB;IACxB,8BAA8B;IAC9B,wCAAwC;EAC1C;EACA;IACE;MACE,2BAA2B;IAC7B;IACA;MACE,0BAA0B;IAC5B;IACA;MACE,yBAAyB;IAC3B;IACA;MACE,4BAA4B;IAC9B;EACF;EACA;IACE,wCAAwC;EAC1C;EACA;IACE;MACE,4BAA4B;IAC9B;IACA;MACE,yBAAyB;IAC3B;IACA;MACE,0BAA0B;IAC5B;IACA;MACE,wCAAwC;IAC1C;EACF;EACA;IACE,kBAAkB;IAClB,WAAW;IACX,WAAW;IACX,WAAW;IACX,WAAW;IACX,SAAS;IACT,sCAAsC;EACxC;EACA;IACE;MACE,SAAS;IACX;EACF;EACA;;IAEE,0BAA0B;EAC5B;EACA;;IAEE,wBAAwB;EAC1B;EACA;;IAEE,0BAA0B;EAC5B;EACA;;IAEE,uBAAuB;EACzB;EACA;;IAEE,yBAAyB;EAC3B;;EAEA;IACE,4CAA4C;IAC5C,2BAA2B;IAC3B,WAAW;IACX,iBAAiB;IACjB,mBAAmB;EACrB;EACA;IACE,kBAAkB;EACpB;EACA;IACE,qBAAqB;EACvB;EACA;IACE,mBAAmB;EACrB;EACA;IACE,qBAAqB;EACvB;EACA;IACE,kBAAkB;EACpB;EACA;IACE,oBAAoB;EACtB;EACA;IACE,kBAAkB;IAClB,iBAAiB;EACnB;EACA;IACE,cAAc;IACd,eAAe;EACjB;EACA;IACE,kBAAkB;EACpB;;EAEA;IACE,kBAAkB,EAAE,+CAA+C;IACnE,eAAe;AACnB;EACE;;IAEE,YAAY;IACZ,aAAa;IACb,eAAe;IACf,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;EACpB;;EAEA;IACE;MACE,UAAU;IACZ;IACA;MACE,WAAW;MACX,eAAe;MACf,iBAAiB;IACnB;IACA;MACE,aAAa;MACb,iBAAiB;MACjB,iBAAiB;IACnB;EACF;;AAEF;;;;;;;;;;;GAWG",sourcesContent:["@import url(\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap\");\r\nhead, body{\r\n    position: absolute;\r\n    overflow-y: hidden;\r\n    overflow-x: hidden;\r\n}\r\n\r\n/* .loading-screen{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(244, 244, 244, 255);\r\n    background-color: black;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n#progress-bar{\r\n    width: 30%;\r\n    margin-top: 0.5%;\r\n    height: 2%;\r\n}\r\n\r\nlabel {\r\n    color: aliceblue;\r\n    font-size: 2rem;\r\n\r\n} */\r\n\r\n.pre-loader,\r\n.loader,\r\n.loader-bg,\r\n.loader-content {\r\n    pointer-events: none;\r\n}\r\n\r\n\r\n.pre-loader{\r\n    background-color: rgba(0, 0, 255, 0);\r\n    position: fixed;\r\n    top:0;\r\n    width: 100%;\r\n    height: 100%;\r\n    clip-path: polygon(0%, 0%, 100%, 0%, 100%, 100%, 0%, 100%);\r\n}\r\n\r\n.loader {\r\n    position: absolute;\r\n    top:0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: black;\r\n    color: aliceblue;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.loader-content{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    display: flex;\r\n    width: 400px;\r\n    z-index: 2;\r\n    color: aliceblue;\r\n}\r\n\r\n.count{\r\n    flex: 2;\r\n    text-align: right;\r\n    line-height: 1;\r\n    padding: 0 1em;\r\n}\r\n\r\n.copy{\r\n    flex: 6;\r\n    font-family: 'Poppins';\r\n    font-size: 40px;\r\n    text-transform: uppercase;\r\n    line-height: 1;\r\n}\r\n\r\n.ml16{\r\n    overflow: hidden;\r\n}\r\n\r\n.ml16 .letter {\r\n    display: inline-block;\r\n    line-height: 1em;\r\n    font-weight: 700;\r\n}\r\n\r\n.loader-bg{\r\n    position: absolute;\r\n    display: block;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(199, 149, 1, 0.804);\r\n    z-index: -1;\r\n}\r\n\r\n.loader-2{\r\n    position: absolute;\r\n    top:0;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.glass-btn {\r\n    display: inline-block;\r\n    padding: 4% 10%;\r\n    border: 0;\r\n    text-decoration: none;\r\n    border-radius: 15px;\r\n    background-color: rgba(255, 255, 255, 0.077);\r\n    /* border: 1px solid rgba(255,255,255,0.1); */\r\n    backdrop-filter: blur(30px);\r\n    color: rgba(255, 255, 255, 0.732);\r\n    font-size: 110%;\r\n    letter-spacing: 2px;\r\n    cursor: pointer;\r\n    text-transform: uppercase;\r\n    transform: translateY(100px);\r\n}\r\n\r\n.glass-btn.disappear {\r\n    animation: fade-disappear 0.5s forwards;\r\n}\r\n\r\n.glass-btn.appear {\r\n    animation: fade-appear 0.5s forwards;\r\n}\r\n\r\n.glass-btn:hover{\r\n    background-color: rgba(255, 255, 255, 0.267);\r\n}\r\n\r\n#enter-btn{\r\n    pointer-events: auto;\r\n    z-index: 1; \r\n    font-family: 'Poppins';\r\n    font-weight: 600;\r\n    color: aliceblue;\r\n    position: absolute;\r\n    display: flex;\r\n    width: 100%;\r\n    bottom: 30%;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.contorls-sec{\r\n    opacity: 0.6;\r\n    position: absolute;\r\n    font-family: 'Poppins';\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    bottom: 10%;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n}\r\n\r\n.contorls-sec.hide{\r\n    animation: hide-controls 2s forwards;\r\n}\r\n\r\n#spacebar {\r\n    font-weight: 1000;\r\n    padding: 4% 20%;\r\n    border: 0;\r\n    text-decoration: none;\r\n    border-radius: 15px;\r\n    background-color: rgba(255, 255, 255, 0.304);\r\n    border: 1px solid rgba(255,255,255,0.1);\r\n    backdrop-filter: blur(30px);\r\n    color: rgba(53, 53, 53, 0.548);\r\n    font-size: 150%;\r\n    letter-spacing: 2px;\r\n    cursor: pointer;\r\n    text-transform: uppercase;\r\n\r\n    animation-name: spacebar-anim;\r\n    animation-duration: 2s;\r\n    animation-iteration-count: infinite;\r\n    animation-timing-function: ease-in-out;\r\n}\r\n\r\n.instr{\r\n    font-family: 'Poppins';\r\n    font-weight: 600;\r\n    font-size: 130%;\r\n    color: aliceblue;\r\n}\r\n\r\n.instr-2{\r\n  transform: translateY(50px);\r\n  position: absolute;\r\n  font-family: 'Poppins';\r\n  font-weight: 600;\r\n  font-size: 130%;\r\n  color: aliceblue;\r\n}\r\n\r\n@keyframes spacebar-anim {\r\n    0%, 100% {\r\n        transform: scale(1);\r\n        box-shadow: rgba(0, 0, 0, 0) 0 0 0px 0px;\r\n    }\r\n    20% {\r\n        transform: scale(0.92);\r\n\r\n    }\r\n    40%, 50% {\r\n        box-shadow: rgba(255, 255, 255, 0.8) 0 0 30px 5px;\r\n        opacity: 0.7;\r\n    }\r\n    40%, 60% {\r\n        transform: scale(0.92);\r\n    }\r\n    80% {\r\n        box-shadow: rgba(0, 0, 0, 0) 0 0 0px 0px;\r\n        opacity: 1;\r\n        transform: scale(1);\r\n    }\r\n}\r\n\r\n@keyframes hide-controls {\r\n    0%{\r\n        opacity: 1;\r\n    }\r\n    100%{\r\n        opacity: 0;\r\n    }\r\n}\r\n\r\n@keyframes fade-disappear {\r\n    from {\r\n        display: block;\r\n        opacity: 1;\r\n    }\r\n    to {\r\n        display: none;\r\n        opacity: 0;\r\n    }\r\n  }\r\n\r\n  \r\n@keyframes fade-appear {\r\n    0% {\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        opacity: 1;\r\n    }\r\n  }\r\n\r\n  .notifications {\r\n    position: fixed;\r\n    top: 30px;\r\n    right: 20px;\r\n  }\r\n  .notifications :where(.toast, .column) {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .notifications .toast {\r\n    font-family: \"Poppins\";\r\n    width: 200px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    list-style: none;\r\n    border-radius: 4px;\r\n    padding: 16px 17px;\r\n    margin-bottom: 10px;\r\n    background: var(--light);\r\n    justify-content: space-between;\r\n    animation: show_toast 0.3s ease forwards;\r\n  }\r\n  @keyframes show_toast {\r\n    0% {\r\n      transform: translateX(100%);\r\n    }\r\n    40% {\r\n      transform: translateX(-5%);\r\n    }\r\n    80% {\r\n      transform: translateX(0%);\r\n    }\r\n    100% {\r\n      transform: translateX(-10px);\r\n    }\r\n  }\r\n  .notifications .toast.hide {\r\n    animation: hide_toast 0.3s ease forwards;\r\n  }\r\n  @keyframes hide_toast {\r\n    0% {\r\n      transform: translateX(-10px);\r\n    }\r\n    40% {\r\n      transform: translateX(0%);\r\n    }\r\n    80% {\r\n      transform: translateX(-5%);\r\n    }\r\n    100% {\r\n      transform: translateX(calc(100% + 20px));\r\n    }\r\n  }\r\n  .toast::before {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 3px;\r\n    width: 100%;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    animation: progress 5s linear forwards;\r\n  }\r\n  @keyframes progress {\r\n    100% {\r\n      width: 0%;\r\n    }\r\n  }\r\n  .toast.success::before,\r\n  .btn#success {\r\n    background: var(--success);\r\n  }\r\n  .toast.error::before,\r\n  .btn#error {\r\n    background: var(--error);\r\n  }\r\n  .toast.warning::before,\r\n  .btn#warning {\r\n    background: var(--warning);\r\n  }\r\n  .toast.info::before,\r\n  .btn#info {\r\n    background: var(--info);\r\n  }\r\n  .toast.random::before,\r\n  .btn#random {\r\n    background: var(--random);\r\n  }\r\n \r\n  .column{\r\n    background-color: rgba(255, 255, 255, 0.437);\r\n    backdrop-filter: blur(20px);\r\n    padding: 5%;\r\n    padding-right: 6%;\r\n    border-radius: 10px;\r\n  }\r\n  .toast .column i {\r\n    font-size: 1.75rem;\r\n  }\r\n  .toast.success .column i {\r\n    color: var(--success);\r\n  }\r\n  .toast.error .column i {\r\n    color: var(--error);\r\n  }\r\n  .toast.warning .column i {\r\n    color: var(--warning);\r\n  }\r\n  .toast.info .column i {\r\n    color: var(--info);\r\n  }\r\n  .toast.random .column i {\r\n    color: var(--random);\r\n  }\r\n  .toast .column span {\r\n    font-size: 1.07rem;\r\n    margin-left: 12px;\r\n  }\r\n  .toast i:last-child {\r\n    color: #aeb0d7;\r\n    cursor: pointer;\r\n  }\r\n  .toast i:last-child:hover {\r\n    color: var(--dark);\r\n  }\r\n\r\n  .buttons {\r\n    position: relative; /* or absolute/fixed depending on your layout */\r\n    z-index: 100000;\r\n}\r\n  .buttons .btn {\r\n    \r\n    border: none;\r\n    outline: none;\r\n    cursor: pointer;\r\n    margin: 0 5px;\r\n    color: var(--light);\r\n    font-size: 1.2rem;\r\n    padding: 10px 20px;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  @media screen and (max-width: 530px) {\r\n    .notifications {\r\n      width: 95%;\r\n    }\r\n    .notifications .toast {\r\n      width: 100%;\r\n      font-size: 1rem;\r\n      margin-left: 20px;\r\n    }\r\n    .buttons .btn {\r\n      margin: 0 1px;\r\n      font-size: 1.1rem;\r\n      padding: 8px 15px;\r\n    }\r\n  }\r\n\r\n/* nav{\r\n    padding: 4%;\r\n    position: absolute;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-around;\r\n}\r\n\r\nnav a{\r\n    color: aliceblue;\r\n    font-family: 'Poppins';\r\n} */\r\n\r\n\r\n"],sourceRoot:""}]);const o=a},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var o=0;o<this.length;o++){var h=this[o][0];null!=h&&(a[h]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);i&&a[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(r," */");return[e].concat([s]).join("\n")}return[e].join("\n")}},72:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var s={},a=[],o=0;o<t.length;o++){var h=t[o],l=i.base?h[0]+i.base:h[0],c=s[l]||0,u="".concat(l," ").concat(c);s[l]=c+1;var d=n(u),p={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var m=r(p,i);i.byIndex=o,e.splice(o,0,{identifier:u,updater:m,references:1})}a.push(u)}return a}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=i(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var o=n(s[a]);e[o].references--}for(var h=i(t,r),l=0;l<s.length;l++){var c=n(s[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=h}}},659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={id:i,exports:{}};return t[i](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;const i="attached",r=1e3,s=1001,a=1002,o=1015,h=2300,l=2301,c=2302,u="srgb",d="srgb-linear",p="display-p3",m="display-p3-linear",f="linear",g="srgb",y="rec709",_=7680,v=35044,x=2e3,b=2001;class A{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t);t.target=null}}}const w=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const M=Math.PI/180,T=180/Math.PI;function C(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(w[255&t]+w[t>>8&255]+w[t>>16&255]+w[t>>24&255]+"-"+w[255&e]+w[e>>8&255]+"-"+w[e>>16&15|64]+w[e>>24&255]+"-"+w[63&n|128]+w[n>>8&255]+"-"+w[n>>16&255]+w[n>>24&255]+w[255&i]+w[i>>8&255]+w[i>>16&255]+w[i>>24&255]).toLowerCase()}function S(t,e,n){return Math.max(e,Math.min(n,t))}function B(t,e){return(t%e+e)%e}function E(t,e,n){return(1-n)*t+n*e}function k(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function I(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}const z=function(t){return t*T};class P{constructor(t=0,e=0){P.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(S(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,s=this.y-t.y;return this.x=r*n-s*i+t.x,this.y=r*i+s*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class R{constructor(t,e,n,i,r,s,a,o,h){R.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,s,a,o,h)}set(t,e,n,i,r,s,a,o,h){const l=this.elements;return l[0]=t,l[1]=i,l[2]=a,l[3]=e,l[4]=r,l[5]=o,l[6]=n,l[7]=s,l[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,s=n[0],a=n[3],o=n[6],h=n[1],l=n[4],c=n[7],u=n[2],d=n[5],p=n[8],m=i[0],f=i[3],g=i[6],y=i[1],_=i[4],v=i[7],x=i[2],b=i[5],A=i[8];return r[0]=s*m+a*y+o*x,r[3]=s*f+a*_+o*b,r[6]=s*g+a*v+o*A,r[1]=h*m+l*y+c*x,r[4]=h*f+l*_+c*b,r[7]=h*g+l*v+c*A,r[2]=u*m+d*y+p*x,r[5]=u*f+d*_+p*b,r[8]=u*g+d*v+p*A,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8];return e*s*l-e*a*h-n*r*l+n*a*o+i*r*h-i*s*o}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8],c=l*s-a*h,u=a*o-l*r,d=h*r-s*o,p=e*c+n*u+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return t[0]=c*m,t[1]=(i*h-l*n)*m,t[2]=(a*n-i*s)*m,t[3]=u*m,t[4]=(l*e-i*o)*m,t[5]=(i*r-a*e)*m,t[6]=d*m,t[7]=(n*o-h*e)*m,t[8]=(s*e-n*r)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,s,a){const o=Math.cos(r),h=Math.sin(r);return this.set(n*o,n*h,-n*(o*s+h*a)+s+t,-i*h,i*o,-i*(-h*s+o*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply(O.makeScale(t,e)),this}rotate(t){return this.premultiply(O.makeRotation(-t)),this}translate(t,e){return this.premultiply(O.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const O=new R;function L(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const D={};function N(t){t in D||(D[t]=!0,console.warn(t))}const F=(new R).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),U=(new R).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),V={[d]:{transfer:f,primaries:y,toReference:t=>t,fromReference:t=>t},[u]:{transfer:g,primaries:y,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[m]:{transfer:f,primaries:"p3",toReference:t=>t.applyMatrix3(U),fromReference:t=>t.applyMatrix3(F)},[p]:{transfer:g,primaries:"p3",toReference:t=>t.convertSRGBToLinear().applyMatrix3(U),fromReference:t=>t.applyMatrix3(F).convertLinearToSRGB()}},j=new Set([d,m]),W={enabled:!0,_workingColorSpace:d,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!j.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(!1===this.enabled||e===n||!e||!n)return t;const i=V[e].toReference;return(0,V[n].fromReference)(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return V[t].primaries},getTransfer:function(t){return""===t?f:V[t].transfer}};function H(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function q(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let G;class X{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===G&&(G=L("canvas")),G.width=t.width,G.height=t.height;const n=G.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=G}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=L("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const i=n.getImageData(0,0,t.width,t.height),r=i.data;for(let t=0;t<r.length;t++)r[t]=255*H(r[t]/255);return n.putImageData(i,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*H(e[t]/255)):e[t]=H(e[t]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Y=0;class Z{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Y++}),this.uuid=C(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let t;if(Array.isArray(i)){t=[];for(let e=0,n=i.length;e<n;e++)i[e].isDataTexture?t.push(J(i[e].image)):t.push(J(i[e]))}else t=J(i);n.url=t}return e||(t.images[this.uuid]=n),n}}function J(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?X.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Q=0;class K extends A{constructor(t=K.DEFAULT_IMAGE,e=K.DEFAULT_MAPPING,n=1001,i=1001,r=1006,s=1008,a=1023,o=1009,h=K.DEFAULT_ANISOTROPY,l=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Q++}),this.uuid=C(),this.name="",this.source=new Z(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=s,this.anisotropy=h,this.format=a,this.internalFormat=null,this.type=o,this.offset=new P(0,0),this.repeat=new P(1,1),this.center=new P(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new R,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=l,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case r:t.x=t.x-Math.floor(t.x);break;case s:t.x=t.x<0?0:1;break;case a:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case r:t.y=t.y-Math.floor(t.y);break;case s:t.y=t.y<0?0:1;break;case a:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}K.DEFAULT_IMAGE=null,K.DEFAULT_MAPPING=300,K.DEFAULT_ANISOTROPY=1;class ${constructor(t=0,e=0,n=0,i=1){$.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*e+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*e+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*e+s[7]*n+s[11]*i+s[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const s=.01,a=.1,o=t.elements,h=o[0],l=o[4],c=o[8],u=o[1],d=o[5],p=o[9],m=o[2],f=o[6],g=o[10];if(Math.abs(l-u)<s&&Math.abs(c-m)<s&&Math.abs(p-f)<s){if(Math.abs(l+u)<a&&Math.abs(c+m)<a&&Math.abs(p+f)<a&&Math.abs(h+d+g-3)<a)return this.set(1,0,0,0),this;e=Math.PI;const t=(h+1)/2,o=(d+1)/2,y=(g+1)/2,_=(l+u)/4,v=(c+m)/4,x=(p+f)/4;return t>o&&t>y?t<s?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=_/n,r=v/n):o>y?o<s?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(o),n=_/i,r=x/i):y<s?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(y),n=v/r,i=x/r),this.set(n,i,r,e),this}let y=Math.sqrt((f-p)*(f-p)+(c-m)*(c-m)+(u-l)*(u-l));return Math.abs(y)<.001&&(y=1),this.x=(f-p)/y,this.y=(c-m)/y,this.z=(u-l)/y,this.w=Math.acos((h+d+g-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class tt{constructor(t=0,e=0,n=0,i=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=i}static slerpFlat(t,e,n,i,r,s,a){let o=n[i+0],h=n[i+1],l=n[i+2],c=n[i+3];const u=r[s+0],d=r[s+1],p=r[s+2],m=r[s+3];if(0===a)return t[e+0]=o,t[e+1]=h,t[e+2]=l,void(t[e+3]=c);if(1===a)return t[e+0]=u,t[e+1]=d,t[e+2]=p,void(t[e+3]=m);if(c!==m||o!==u||h!==d||l!==p){let t=1-a;const e=o*u+h*d+l*p+c*m,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),s=Math.atan2(r,e*n);t=Math.sin(t*s)/r,a=Math.sin(a*s)/r}const r=a*n;if(o=o*t+u*r,h=h*t+d*r,l=l*t+p*r,c=c*t+m*r,t===1-a){const t=1/Math.sqrt(o*o+h*h+l*l+c*c);o*=t,h*=t,l*=t,c*=t}}t[e]=o,t[e+1]=h,t[e+2]=l,t[e+3]=c}static multiplyQuaternionsFlat(t,e,n,i,r,s){const a=n[i],o=n[i+1],h=n[i+2],l=n[i+3],c=r[s],u=r[s+1],d=r[s+2],p=r[s+3];return t[e]=a*p+l*c+o*d-h*u,t[e+1]=o*p+l*u+h*c-a*d,t[e+2]=h*p+l*d+a*u-o*c,t[e+3]=l*p-a*c-o*u-h*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,i=t._y,r=t._z,s=t._order,a=Math.cos,o=Math.sin,h=a(n/2),l=a(i/2),c=a(r/2),u=o(n/2),d=o(i/2),p=o(r/2);switch(s){case"XYZ":this._x=u*l*c+h*d*p,this._y=h*d*c-u*l*p,this._z=h*l*p+u*d*c,this._w=h*l*c-u*d*p;break;case"YXZ":this._x=u*l*c+h*d*p,this._y=h*d*c-u*l*p,this._z=h*l*p-u*d*c,this._w=h*l*c+u*d*p;break;case"ZXY":this._x=u*l*c-h*d*p,this._y=h*d*c+u*l*p,this._z=h*l*p+u*d*c,this._w=h*l*c-u*d*p;break;case"ZYX":this._x=u*l*c-h*d*p,this._y=h*d*c+u*l*p,this._z=h*l*p-u*d*c,this._w=h*l*c+u*d*p;break;case"YZX":this._x=u*l*c+h*d*p,this._y=h*d*c+u*l*p,this._z=h*l*p-u*d*c,this._w=h*l*c-u*d*p;break;case"XZY":this._x=u*l*c-h*d*p,this._y=h*d*c-u*l*p,this._z=h*l*p+u*d*c,this._w=h*l*c+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],s=e[1],a=e[5],o=e[9],h=e[2],l=e[6],c=e[10],u=n+a+c;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(l-o)*t,this._y=(r-h)*t,this._z=(s-i)*t}else if(n>a&&n>c){const t=2*Math.sqrt(1+n-a-c);this._w=(l-o)/t,this._x=.25*t,this._y=(i+s)/t,this._z=(r+h)/t}else if(a>c){const t=2*Math.sqrt(1+a-n-c);this._w=(r-h)/t,this._x=(i+s)/t,this._y=.25*t,this._z=(o+l)/t}else{const t=2*Math.sqrt(1+c-n-a);this._w=(s-i)/t,this._x=(r+h)/t,this._y=(o+l)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(S(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,s=t._w,a=e._x,o=e._y,h=e._z,l=e._w;return this._x=n*l+s*a+i*h-r*o,this._y=i*l+s*o+r*a-n*h,this._z=r*l+s*h+n*o-i*a,this._w=s*l-n*a-i*o-r*h,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,s=this._w;let a=s*t._w+n*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this}const h=Math.sqrt(o),l=Math.atan2(h,a),c=Math.sin((1-e)*l)/h,u=Math.sin(e*l)/h;return this._w=s*c+this._w*u,this._x=n*c+this._x*u,this._y=i*c+this._y*u,this._z=r*c+this._z*u,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(t),i*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class et{constructor(t=0,e=0,n=0){et.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(it.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(it.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,s=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*s,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,s=t.y,a=t.z,o=t.w,h=2*(s*i-a*n),l=2*(a*e-r*i),c=2*(r*n-s*e);return this.x=e+o*h+s*c-a*l,this.y=n+o*l+a*h-r*c,this.z=i+o*c+r*l-s*h,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,s=e.x,a=e.y,o=e.z;return this.x=i*o-r*a,this.y=r*s-n*o,this.z=n*a-i*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return nt.copy(this).projectOnVector(t),this.sub(nt)}reflect(t){return this.sub(nt.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(S(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const nt=new et,it=new tt;class rt{constructor(t=new et(1/0,1/0,1/0),e=new et(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(at.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(at.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=at.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const i=n.getAttribute("position");if(!0===e&&void 0!==i&&!0!==t.isInstancedMesh)for(let e=0,n=i.count;e<n;e++)!0===t.isMesh?t.getVertexPosition(e,at):at.fromBufferAttribute(i,e),at.applyMatrix4(t.matrixWorld),this.expandByPoint(at);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),ot.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),ot.copy(n.boundingBox)),ot.applyMatrix4(t.matrixWorld),this.union(ot)}const i=t.children;for(let t=0,n=i.length;t<n;t++)this.expandByObject(i[t],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,at),at.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(mt),ft.subVectors(this.max,mt),ht.subVectors(t.a,mt),lt.subVectors(t.b,mt),ct.subVectors(t.c,mt),ut.subVectors(lt,ht),dt.subVectors(ct,lt),pt.subVectors(ht,ct);let e=[0,-ut.z,ut.y,0,-dt.z,dt.y,0,-pt.z,pt.y,ut.z,0,-ut.x,dt.z,0,-dt.x,pt.z,0,-pt.x,-ut.y,ut.x,0,-dt.y,dt.x,0,-pt.y,pt.x,0];return!!_t(e,ht,lt,ct,ft)&&(e=[1,0,0,0,1,0,0,0,1],!!_t(e,ht,lt,ct,ft)&&(gt.crossVectors(ut,dt),e=[gt.x,gt.y,gt.z],_t(e,ht,lt,ct,ft)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,at).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(at).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(st[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),st[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),st[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),st[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),st[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),st[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),st[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),st[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(st)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const st=[new et,new et,new et,new et,new et,new et,new et,new et],at=new et,ot=new rt,ht=new et,lt=new et,ct=new et,ut=new et,dt=new et,pt=new et,mt=new et,ft=new et,gt=new et,yt=new et;function _t(t,e,n,i,r){for(let s=0,a=t.length-3;s<=a;s+=3){yt.fromArray(t,s);const a=r.x*Math.abs(yt.x)+r.y*Math.abs(yt.y)+r.z*Math.abs(yt.z),o=e.dot(yt),h=n.dot(yt),l=i.dot(yt);if(Math.max(-Math.max(o,h,l),Math.min(o,h,l))>a)return!1}return!0}const vt=new rt,xt=new et,bt=new et;class At{constructor(t=new et,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):vt.setFromPoints(t).getCenter(n);let i=0;for(let e=0,r=t.length;e<r;e++)i=Math.max(i,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;xt.subVectors(t,this.center);const e=xt.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.addScaledVector(xt,n/t),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(bt.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(xt.copy(t.center).add(bt)),this.expandByPoint(xt.copy(t.center).sub(bt))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const wt=new et,Mt=new et,Tt=new et,Ct=new et,St=new et,Bt=new et,Et=new et;class kt{constructor(t=new et,e=new et(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,wt)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=wt.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(wt.copy(this.origin).addScaledVector(this.direction,e),wt.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){Mt.copy(t).add(e).multiplyScalar(.5),Tt.copy(e).sub(t).normalize(),Ct.copy(this.origin).sub(Mt);const r=.5*t.distanceTo(e),s=-this.direction.dot(Tt),a=Ct.dot(this.direction),o=-Ct.dot(Tt),h=Ct.lengthSq(),l=Math.abs(1-s*s);let c,u,d,p;if(l>0)if(c=s*o-a,u=s*a-o,p=r*l,c>=0)if(u>=-p)if(u<=p){const t=1/l;c*=t,u*=t,d=c*(c+s*u+2*a)+u*(s*c+u+2*o)+h}else u=r,c=Math.max(0,-(s*u+a)),d=-c*c+u*(u+2*o)+h;else u=-r,c=Math.max(0,-(s*u+a)),d=-c*c+u*(u+2*o)+h;else u<=-p?(c=Math.max(0,-(-s*r+a)),u=c>0?-r:Math.min(Math.max(-r,-o),r),d=-c*c+u*(u+2*o)+h):u<=p?(c=0,u=Math.min(Math.max(-r,-o),r),d=u*(u+2*o)+h):(c=Math.max(0,-(s*r+a)),u=c>0?r:Math.min(Math.max(-r,-o),r),d=-c*c+u*(u+2*o)+h);else u=s>0?-r:r,c=Math.max(0,-(s*u+a)),d=-c*c+u*(u+2*o)+h;return n&&n.copy(this.origin).addScaledVector(this.direction,c),i&&i.copy(Mt).addScaledVector(Tt,u),d}intersectSphere(t,e){wt.subVectors(t.center,this.origin);const n=wt.dot(this.direction),i=wt.dot(wt)-n*n,r=t.radius*t.radius;if(i>r)return null;const s=Math.sqrt(r-i),a=n-s,o=n+s;return o<0?null:a<0?this.at(o,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,s,a,o;const h=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,u=this.origin;return h>=0?(n=(t.min.x-u.x)*h,i=(t.max.x-u.x)*h):(n=(t.max.x-u.x)*h,i=(t.min.x-u.x)*h),l>=0?(r=(t.min.y-u.y)*l,s=(t.max.y-u.y)*l):(r=(t.max.y-u.y)*l,s=(t.min.y-u.y)*l),n>s||r>i?null:((r>n||isNaN(n))&&(n=r),(s<i||isNaN(i))&&(i=s),c>=0?(a=(t.min.z-u.z)*c,o=(t.max.z-u.z)*c):(a=(t.max.z-u.z)*c,o=(t.min.z-u.z)*c),n>o||a>i?null:((a>n||n!=n)&&(n=a),(o<i||i!=i)&&(i=o),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,wt)}intersectTriangle(t,e,n,i,r){St.subVectors(e,t),Bt.subVectors(n,t),Et.crossVectors(St,Bt);let s,a=this.direction.dot(Et);if(a>0){if(i)return null;s=1}else{if(!(a<0))return null;s=-1,a=-a}Ct.subVectors(this.origin,t);const o=s*this.direction.dot(Bt.crossVectors(Ct,Bt));if(o<0)return null;const h=s*this.direction.dot(St.cross(Ct));if(h<0)return null;if(o+h>a)return null;const l=-s*Ct.dot(Et);return l<0?null:this.at(l/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class It{constructor(t,e,n,i,r,s,a,o,h,l,c,u,d,p,m,f){It.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,s,a,o,h,l,c,u,d,p,m,f)}set(t,e,n,i,r,s,a,o,h,l,c,u,d,p,m,f){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=a,g[13]=o,g[2]=h,g[6]=l,g[10]=c,g[14]=u,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new It).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/zt.setFromMatrixColumn(t,0).length(),r=1/zt.setFromMatrixColumn(t,1).length(),s=1/zt.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,i=t.y,r=t.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(i),h=Math.sin(i),l=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){const t=s*l,n=s*c,i=a*l,r=a*c;e[0]=o*l,e[4]=-o*c,e[8]=h,e[1]=n+i*h,e[5]=t-r*h,e[9]=-a*o,e[2]=r-t*h,e[6]=i+n*h,e[10]=s*o}else if("YXZ"===t.order){const t=o*l,n=o*c,i=h*l,r=h*c;e[0]=t+r*a,e[4]=i*a-n,e[8]=s*h,e[1]=s*c,e[5]=s*l,e[9]=-a,e[2]=n*a-i,e[6]=r+t*a,e[10]=s*o}else if("ZXY"===t.order){const t=o*l,n=o*c,i=h*l,r=h*c;e[0]=t-r*a,e[4]=-s*c,e[8]=i+n*a,e[1]=n+i*a,e[5]=s*l,e[9]=r-t*a,e[2]=-s*h,e[6]=a,e[10]=s*o}else if("ZYX"===t.order){const t=s*l,n=s*c,i=a*l,r=a*c;e[0]=o*l,e[4]=i*h-n,e[8]=t*h+r,e[1]=o*c,e[5]=r*h+t,e[9]=n*h-i,e[2]=-h,e[6]=a*o,e[10]=s*o}else if("YZX"===t.order){const t=s*o,n=s*h,i=a*o,r=a*h;e[0]=o*l,e[4]=r-t*c,e[8]=i*c+n,e[1]=c,e[5]=s*l,e[9]=-a*l,e[2]=-h*l,e[6]=n*c+i,e[10]=t-r*c}else if("XZY"===t.order){const t=s*o,n=s*h,i=a*o,r=a*h;e[0]=o*l,e[4]=-c,e[8]=h*l,e[1]=t*c+r,e[5]=s*l,e[9]=n*c-i,e[2]=i*c-n,e[6]=a*l,e[10]=r*c+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Rt,t,Ot)}lookAt(t,e,n){const i=this.elements;return Nt.subVectors(t,e),0===Nt.lengthSq()&&(Nt.z=1),Nt.normalize(),Lt.crossVectors(n,Nt),0===Lt.lengthSq()&&(1===Math.abs(n.z)?Nt.x+=1e-4:Nt.z+=1e-4,Nt.normalize(),Lt.crossVectors(n,Nt)),Lt.normalize(),Dt.crossVectors(Nt,Lt),i[0]=Lt.x,i[4]=Dt.x,i[8]=Nt.x,i[1]=Lt.y,i[5]=Dt.y,i[9]=Nt.y,i[2]=Lt.z,i[6]=Dt.z,i[10]=Nt.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,s=n[0],a=n[4],o=n[8],h=n[12],l=n[1],c=n[5],u=n[9],d=n[13],p=n[2],m=n[6],f=n[10],g=n[14],y=n[3],_=n[7],v=n[11],x=n[15],b=i[0],A=i[4],w=i[8],M=i[12],T=i[1],C=i[5],S=i[9],B=i[13],E=i[2],k=i[6],I=i[10],z=i[14],P=i[3],R=i[7],O=i[11],L=i[15];return r[0]=s*b+a*T+o*E+h*P,r[4]=s*A+a*C+o*k+h*R,r[8]=s*w+a*S+o*I+h*O,r[12]=s*M+a*B+o*z+h*L,r[1]=l*b+c*T+u*E+d*P,r[5]=l*A+c*C+u*k+d*R,r[9]=l*w+c*S+u*I+d*O,r[13]=l*M+c*B+u*z+d*L,r[2]=p*b+m*T+f*E+g*P,r[6]=p*A+m*C+f*k+g*R,r[10]=p*w+m*S+f*I+g*O,r[14]=p*M+m*B+f*z+g*L,r[3]=y*b+_*T+v*E+x*P,r[7]=y*A+_*C+v*k+x*R,r[11]=y*w+_*S+v*I+x*O,r[15]=y*M+_*B+v*z+x*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],s=t[1],a=t[5],o=t[9],h=t[13],l=t[2],c=t[6],u=t[10],d=t[14];return t[3]*(+r*o*c-i*h*c-r*a*u+n*h*u+i*a*d-n*o*d)+t[7]*(+e*o*d-e*h*u+r*s*u-i*s*d+i*h*l-r*o*l)+t[11]*(+e*h*c-e*a*d-r*s*c+n*s*d+r*a*l-n*h*l)+t[15]*(-i*a*l-e*o*c+e*a*u+i*s*c-n*s*u+n*o*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8],c=t[9],u=t[10],d=t[11],p=t[12],m=t[13],f=t[14],g=t[15],y=c*f*h-m*u*h+m*o*d-a*f*d-c*o*g+a*u*g,_=p*u*h-l*f*h-p*o*d+s*f*d+l*o*g-s*u*g,v=l*m*h-p*c*h+p*a*d-s*m*d-l*a*g+s*c*g,x=p*c*o-l*m*o-p*a*u+s*m*u+l*a*f-s*c*f,b=e*y+n*_+i*v+r*x;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/b;return t[0]=y*A,t[1]=(m*u*r-c*f*r-m*i*d+n*f*d+c*i*g-n*u*g)*A,t[2]=(a*f*r-m*o*r+m*i*h-n*f*h-a*i*g+n*o*g)*A,t[3]=(c*o*r-a*u*r-c*i*h+n*u*h+a*i*d-n*o*d)*A,t[4]=_*A,t[5]=(l*f*r-p*u*r+p*i*d-e*f*d-l*i*g+e*u*g)*A,t[6]=(p*o*r-s*f*r-p*i*h+e*f*h+s*i*g-e*o*g)*A,t[7]=(s*u*r-l*o*r+l*i*h-e*u*h-s*i*d+e*o*d)*A,t[8]=v*A,t[9]=(p*c*r-l*m*r-p*n*d+e*m*d+l*n*g-e*c*g)*A,t[10]=(s*m*r-p*a*r+p*n*h-e*m*h-s*n*g+e*a*g)*A,t[11]=(l*a*r-s*c*r-l*n*h+e*c*h+s*n*d-e*a*d)*A,t[12]=x*A,t[13]=(l*m*i-p*c*i+p*n*u-e*m*u-l*n*f+e*c*f)*A,t[14]=(p*a*i-s*m*i-p*n*o+e*m*o+s*n*f-e*a*f)*A,t[15]=(s*c*i-l*a*i+l*n*o-e*c*o-s*n*u+e*a*u)*A,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,s=t.x,a=t.y,o=t.z,h=r*s,l=r*a;return this.set(h*s+n,h*a-i*o,h*o+i*a,0,h*a+i*o,l*a+n,l*o-i*s,0,h*o-i*a,l*o+i*s,r*o*o+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,i,r,s){return this.set(1,n,r,0,t,1,s,0,e,i,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,s=e._y,a=e._z,o=e._w,h=r+r,l=s+s,c=a+a,u=r*h,d=r*l,p=r*c,m=s*l,f=s*c,g=a*c,y=o*h,_=o*l,v=o*c,x=n.x,b=n.y,A=n.z;return i[0]=(1-(m+g))*x,i[1]=(d+v)*x,i[2]=(p-_)*x,i[3]=0,i[4]=(d-v)*b,i[5]=(1-(u+g))*b,i[6]=(f+y)*b,i[7]=0,i[8]=(p+_)*A,i[9]=(f-y)*A,i[10]=(1-(u+m))*A,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=zt.set(i[0],i[1],i[2]).length();const s=zt.set(i[4],i[5],i[6]).length(),a=zt.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],Pt.copy(this);const o=1/r,h=1/s,l=1/a;return Pt.elements[0]*=o,Pt.elements[1]*=o,Pt.elements[2]*=o,Pt.elements[4]*=h,Pt.elements[5]*=h,Pt.elements[6]*=h,Pt.elements[8]*=l,Pt.elements[9]*=l,Pt.elements[10]*=l,e.setFromRotationMatrix(Pt),n.x=r,n.y=s,n.z=a,this}makePerspective(t,e,n,i,r,s,a=2e3){const o=this.elements,h=2*r/(e-t),l=2*r/(n-i),c=(e+t)/(e-t),u=(n+i)/(n-i);let d,p;if(a===x)d=-(s+r)/(s-r),p=-2*s*r/(s-r);else{if(a!==b)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);d=-s/(s-r),p=-s*r/(s-r)}return o[0]=h,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,n,i,r,s,a=2e3){const o=this.elements,h=1/(e-t),l=1/(n-i),c=1/(s-r),u=(e+t)*h,d=(n+i)*l;let p,m;if(a===x)p=(s+r)*c,m=-2*c;else{if(a!==b)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=r*c,m=-1*c}return o[0]=2*h,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=m,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const zt=new et,Pt=new It,Rt=new et(0,0,0),Ot=new et(1,1,1),Lt=new et,Dt=new et,Nt=new et,Ft=new It,Ut=new tt;class Vt{constructor(t=0,e=0,n=0,i=Vt.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i=this._order){return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const i=t.elements,r=i[0],s=i[4],a=i[8],o=i[1],h=i[5],l=i[9],c=i[2],u=i[6],d=i[10];switch(e){case"XYZ":this._y=Math.asin(S(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-s,r)):(this._x=Math.atan2(u,h),this._z=0);break;case"YXZ":this._x=Math.asin(-S(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(o,h)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin(S(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-s,h)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-S(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(u,d),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-s,h));break;case"YZX":this._z=Math.asin(S(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-S(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(u,h),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return Ft.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ft,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Ut.setFromEuler(this),this.setFromQuaternion(Ut,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Vt.DEFAULT_ORDER="XYZ";class jt{constructor(){this.mask=1}set(t){this.mask=1<<t>>>0}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return!!(this.mask&t.mask)}isEnabled(t){return!!(this.mask&1<<t)}}let Wt=0;const Ht=new et,qt=new tt,Gt=new It,Xt=new et,Yt=new et,Zt=new et,Jt=new tt,Qt=new et(1,0,0),Kt=new et(0,1,0),$t=new et(0,0,1),te={type:"added"},ee={type:"removed"},ne={type:"childadded",child:null},ie={type:"childremoved",child:null};class re extends A{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Wt++}),this.uuid=C(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=re.DEFAULT_UP.clone();const t=new et,e=new Vt,n=new tt,i=new et(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new It},normalMatrix:{value:new R}}),this.matrix=new It,this.matrixWorld=new It,this.matrixAutoUpdate=re.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=re.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new jt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return qt.setFromAxisAngle(t,e),this.quaternion.multiply(qt),this}rotateOnWorldAxis(t,e){return qt.setFromAxisAngle(t,e),this.quaternion.premultiply(qt),this}rotateX(t){return this.rotateOnAxis(Qt,t)}rotateY(t){return this.rotateOnAxis(Kt,t)}rotateZ(t){return this.rotateOnAxis($t,t)}translateOnAxis(t,e){return Ht.copy(t).applyQuaternion(this.quaternion),this.position.add(Ht.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Qt,t)}translateY(t){return this.translateOnAxis(Kt,t)}translateZ(t){return this.translateOnAxis($t,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Gt.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?Xt.copy(t):Xt.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Yt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Gt.lookAt(Yt,Xt,this.up):Gt.lookAt(Xt,Yt,this.up),this.quaternion.setFromRotationMatrix(Gt),i&&(Gt.extractRotation(i.matrixWorld),qt.setFromRotationMatrix(Gt),this.quaternion.premultiply(qt.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(te),ne.child=t,this.dispatchEvent(ne),ne.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(ee),ie.child=t,this.dispatchEvent(ie),ie.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Gt.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Gt.multiply(t.parent.matrixWorld)),t.applyMatrix4(Gt),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(te),ne.child=t,this.dispatchEvent(ne),ne.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yt,t,Zt),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yt,Jt,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map((t=>({boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()}))),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(i.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),null!==this.boundingBox&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=s(t.geometries),i=s(t.materials),r=s(t.textures),a=s(t.images),o=s(t.shapes),h=s(t.skeletons),l=s(t.animations),c=s(t.nodes);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),a.length>0&&(n.images=a),o.length>0&&(n.shapes=o),h.length>0&&(n.skeletons=h),l.length>0&&(n.animations=l),c.length>0&&(n.nodes=c)}return n.object=i,n;function s(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}}re.DEFAULT_UP=new et(0,1,0),re.DEFAULT_MATRIX_AUTO_UPDATE=!0,re.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const se=new et,ae=new et,oe=new et,he=new et,le=new et,ce=new et,ue=new et,de=new et,pe=new et,me=new et;class fe{constructor(t=new et,e=new et,n=new et){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,i){i.subVectors(n,e),se.subVectors(t,e),i.cross(se);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){se.subVectors(i,e),ae.subVectors(n,e),oe.subVectors(t,e);const s=se.dot(se),a=se.dot(ae),o=se.dot(oe),h=ae.dot(ae),l=ae.dot(oe),c=s*h-a*a;if(0===c)return r.set(0,0,0),null;const u=1/c,d=(h*o-a*l)*u,p=(s*l-a*o)*u;return r.set(1-d-p,p,d)}static containsPoint(t,e,n,i){return null!==this.getBarycoord(t,e,n,i,he)&&he.x>=0&&he.y>=0&&he.x+he.y<=1}static getInterpolation(t,e,n,i,r,s,a,o){return null===this.getBarycoord(t,e,n,i,he)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(r,he.x),o.addScaledVector(s,he.y),o.addScaledVector(a,he.z),o)}static isFrontFacing(t,e,n,i){return se.subVectors(n,e),ae.subVectors(t,e),se.cross(ae).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}setFromAttributeAndIndices(t,e,n,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return se.subVectors(this.c,this.b),ae.subVectors(this.a,this.b),.5*se.cross(ae).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return fe.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return fe.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,i,r){return fe.getInterpolation(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return fe.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return fe.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,i=this.b,r=this.c;let s,a;le.subVectors(i,n),ce.subVectors(r,n),de.subVectors(t,n);const o=le.dot(de),h=ce.dot(de);if(o<=0&&h<=0)return e.copy(n);pe.subVectors(t,i);const l=le.dot(pe),c=ce.dot(pe);if(l>=0&&c<=l)return e.copy(i);const u=o*c-l*h;if(u<=0&&o>=0&&l<=0)return s=o/(o-l),e.copy(n).addScaledVector(le,s);me.subVectors(t,r);const d=le.dot(me),p=ce.dot(me);if(p>=0&&d<=p)return e.copy(r);const m=d*h-o*p;if(m<=0&&h>=0&&p<=0)return a=h/(h-p),e.copy(n).addScaledVector(ce,a);const f=l*p-d*c;if(f<=0&&c-l>=0&&d-p>=0)return ue.subVectors(r,i),a=(c-l)/(c-l+(d-p)),e.copy(i).addScaledVector(ue,a);const g=1/(f+m+u);return s=m*g,a=u*g,e.copy(n).addScaledVector(le,s).addScaledVector(ce,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const ge={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ye={h:0,s:0,l:0},_e={h:0,s:0,l:0};function ve(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}class xe{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const e=t;e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=u){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,W.toWorkingColorSpace(this,e),this}setRGB(t,e,n,i=W.workingColorSpace){return this.r=t,this.g=e,this.b=n,W.toWorkingColorSpace(this,i),this}setHSL(t,e,n,i=W.workingColorSpace){if(t=B(t,1),e=S(e,0,1),n=S(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=ve(r,i,t+1/3),this.g=ve(r,i,t),this.b=ve(r,i,t-1/3)}return W.toWorkingColorSpace(this,i),this}setStyle(t,e=u){function n(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const n=i[1],r=n.length;if(3===r)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,e);if(6===r)return this.setHex(parseInt(n,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=u){const n=ge[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=H(t.r),this.g=H(t.g),this.b=H(t.b),this}copyLinearToSRGB(t){return this.r=q(t.r),this.g=q(t.g),this.b=q(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=u){return W.fromWorkingColorSpace(be.copy(this),t),65536*Math.round(S(255*be.r,0,255))+256*Math.round(S(255*be.g,0,255))+Math.round(S(255*be.b,0,255))}getHexString(t=u){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=W.workingColorSpace){W.fromWorkingColorSpace(be.copy(this),e);const n=be.r,i=be.g,r=be.b,s=Math.max(n,i,r),a=Math.min(n,i,r);let o,h;const l=(a+s)/2;if(a===s)o=0,h=0;else{const t=s-a;switch(h=l<=.5?t/(s+a):t/(2-s-a),s){case n:o=(i-r)/t+(i<r?6:0);break;case i:o=(r-n)/t+2;break;case r:o=(n-i)/t+4}o/=6}return t.h=o,t.s=h,t.l=l,t}getRGB(t,e=W.workingColorSpace){return W.fromWorkingColorSpace(be.copy(this),e),t.r=be.r,t.g=be.g,t.b=be.b,t}getStyle(t=u){W.fromWorkingColorSpace(be.copy(this),t);const e=be.r,n=be.g,i=be.b;return t!==u?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*n)},${Math.round(255*i)})`}offsetHSL(t,e,n){return this.getHSL(ye),this.setHSL(ye.h+t,ye.s+e,ye.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(ye),t.getHSL(_e);const n=E(ye.h,_e.h,e),i=E(ye.s,_e.s,e),r=E(ye.l,_e.l,e);return this.setHSL(n,i,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,i=this.b,r=t.elements;return this.r=r[0]*e+r[3]*n+r[6]*i,this.g=r[1]*e+r[4]*n+r[7]*i,this.b=r[2]*e+r[5]*n+r[8]*i,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const be=new xe;xe.NAMES=ge;let Ae=0;class we extends A{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ae++}),this.uuid=C(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xe(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_,this.stencilZFail=_,this.stencilZPass=_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==_&&(n.stencilFail=this.stencilFail),this.stencilZFail!==_&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==_&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class Me extends we{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vt,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Te=new et,Ce=new P;class Se{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=v,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=o,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}get updateRange(){return N("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Ce.fromBufferAttribute(this,e),Ce.applyMatrix3(t),this.setXY(e,Ce.x,Ce.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)Te.fromBufferAttribute(this,e),Te.applyMatrix3(t),this.setXYZ(e,Te.x,Te.y,Te.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)Te.fromBufferAttribute(this,e),Te.applyMatrix4(t),this.setXYZ(e,Te.x,Te.y,Te.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Te.fromBufferAttribute(this,e),Te.applyNormalMatrix(t),this.setXYZ(e,Te.x,Te.y,Te.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Te.fromBufferAttribute(this,e),Te.transformDirection(t),this.setXYZ(e,Te.x,Te.y,Te.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=k(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=I(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=k(e,this.array)),e}setX(t,e){return this.normalized&&(e=I(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=k(e,this.array)),e}setY(t,e){return this.normalized&&(e=I(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=k(e,this.array)),e}setZ(t,e){return this.normalized&&(e=I(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=k(e,this.array)),e}setW(t,e){return this.normalized&&(e=I(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=I(e,this.array),n=I(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=I(e,this.array),n=I(n,this.array),i=I(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t*=this.itemSize,this.normalized&&(e=I(e,this.array),n=I(n,this.array),i=I(i,this.array),r=I(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==v&&(t.usage=this.usage),t}}class Be extends Se{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class Ee extends Se{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class ke extends Se{constructor(t,e,n){super(new Float32Array(t),e,n)}}let Ie=0;const ze=new It,Pe=new re,Re=new et,Oe=new rt,Le=new rt,De=new et;class Ne extends A{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ie++}),this.uuid=C(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(function(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}(t)?Ee:Be)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new R).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return ze.makeRotationFromQuaternion(t),this.applyMatrix4(ze),this}rotateX(t){return ze.makeRotationX(t),this.applyMatrix4(ze),this}rotateY(t){return ze.makeRotationY(t),this.applyMatrix4(ze),this}rotateZ(t){return ze.makeRotationZ(t),this.applyMatrix4(ze),this}translate(t,e,n){return ze.makeTranslation(t,e,n),this.applyMatrix4(ze),this}scale(t,e,n){return ze.makeScale(t,e,n),this.applyMatrix4(ze),this}lookAt(t){return Pe.lookAt(t),Pe.updateMatrix(),this.applyMatrix4(Pe.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Re).negate(),this.translate(Re.x,Re.y,Re.z),this}setFromPoints(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new ke(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new rt);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new et(-1/0,-1/0,-1/0),new et(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Oe.setFromBufferAttribute(n),this.morphTargetsRelative?(De.addVectors(this.boundingBox.min,Oe.min),this.boundingBox.expandByPoint(De),De.addVectors(this.boundingBox.max,Oe.max),this.boundingBox.expandByPoint(De)):(this.boundingBox.expandByPoint(Oe.min),this.boundingBox.expandByPoint(Oe.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new At);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new et,1/0);if(t){const n=this.boundingSphere.center;if(Oe.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Le.setFromBufferAttribute(n),this.morphTargetsRelative?(De.addVectors(Oe.min,Le.min),Oe.expandByPoint(De),De.addVectors(Oe.max,Le.max),Oe.expandByPoint(De)):(Oe.expandByPoint(Le.min),Oe.expandByPoint(Le.max))}Oe.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)De.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(De));if(e)for(let r=0,s=e.length;r<s;r++){const s=e[r],a=this.morphTargetsRelative;for(let e=0,r=s.count;e<r;e++)De.fromBufferAttribute(s,e),a&&(Re.fromBufferAttribute(t,e),De.add(Re)),i=Math.max(i,n.distanceToSquared(De))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.position,i=e.normal,r=e.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Se(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),a=[],o=[];for(let t=0;t<n.count;t++)a[t]=new et,o[t]=new et;const h=new et,l=new et,c=new et,u=new P,d=new P,p=new P,m=new et,f=new et;function g(t,e,i){h.fromBufferAttribute(n,t),l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,i),u.fromBufferAttribute(r,t),d.fromBufferAttribute(r,e),p.fromBufferAttribute(r,i),l.sub(h),c.sub(h),d.sub(u),p.sub(u);const s=1/(d.x*p.y-p.x*d.y);isFinite(s)&&(m.copy(l).multiplyScalar(p.y).addScaledVector(c,-d.y).multiplyScalar(s),f.copy(c).multiplyScalar(d.x).addScaledVector(l,-p.x).multiplyScalar(s),a[t].add(m),a[e].add(m),a[i].add(m),o[t].add(f),o[e].add(f),o[i].add(f))}let y=this.groups;0===y.length&&(y=[{start:0,count:t.count}]);for(let e=0,n=y.length;e<n;++e){const n=y[e],i=n.start;for(let e=i,r=i+n.count;e<r;e+=3)g(t.getX(e+0),t.getX(e+1),t.getX(e+2))}const _=new et,v=new et,x=new et,b=new et;function A(t){x.fromBufferAttribute(i,t),b.copy(x);const e=a[t];_.copy(e),_.sub(x.multiplyScalar(x.dot(e))).normalize(),v.crossVectors(b,e);const n=v.dot(o[t])<0?-1:1;s.setXYZW(t,_.x,_.y,_.z,n)}for(let e=0,n=y.length;e<n;++e){const n=y[e],i=n.start;for(let e=i,r=i+n.count;e<r;e+=3)A(t.getX(e+0)),A(t.getX(e+1)),A(t.getX(e+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Se(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new et,r=new et,s=new et,a=new et,o=new et,h=new et,l=new et,c=new et;if(t)for(let u=0,d=t.count;u<d;u+=3){const d=t.getX(u+0),p=t.getX(u+1),m=t.getX(u+2);i.fromBufferAttribute(e,d),r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,m),l.subVectors(s,r),c.subVectors(i,r),l.cross(c),a.fromBufferAttribute(n,d),o.fromBufferAttribute(n,p),h.fromBufferAttribute(n,m),a.add(l),o.add(l),h.add(l),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(p,o.x,o.y,o.z),n.setXYZ(m,h.x,h.y,h.z)}else for(let t=0,a=e.count;t<a;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),s.fromBufferAttribute(e,t+2),l.subVectors(s,r),c.subVectors(i,r),l.cross(c),n.setXYZ(t+0,l.x,l.y,l.z),n.setXYZ(t+1,l.x,l.y,l.z),n.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)De.fromBufferAttribute(t,e),De.normalize(),t.setXYZ(e,De.x,De.y,De.z)}toNonIndexed(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,s=new n.constructor(e.length*i);let a=0,o=0;for(let r=0,h=e.length;r<h;r++){a=t.isInterleavedBufferAttribute?e[r]*t.data.stride+t.offset:e[r]*i;for(let t=0;t<i;t++)s[o++]=n[a++]}return new Se(s,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Ne,n=this.index.array,i=this.attributes;for(const r in i){const s=t(i[r],n);e.setAttribute(r,s)}const r=this.morphAttributes;for(const i in r){const s=[],a=r[i];for(let e=0,i=a.length;e<i;e++){const i=t(a[e],n);s.push(i)}e.morphAttributes[i]=s}e.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let t=0,n=s.length;t<n;t++){const n=s[t];e.addGroup(n.start,n.count,n.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const i=n[e];t.data.attributes[e]=i.toJSON(t.data)}const i={};let r=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],s=[];for(let e=0,i=n.length;e<i;e++){const i=n[e];s.push(i.toJSON(t.data))}s.length>0&&(i[e]=s,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const t in i){const n=i[t];this.setAttribute(t,n.clone(e))}const r=t.morphAttributes;for(const t in r){const n=[],i=r[t];for(let t=0,r=i.length;t<r;t++)n.push(i[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const s=t.groups;for(let t=0,e=s.length;t<e;t++){const e=s[t];this.addGroup(e.start,e.count,e.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=t.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Fe=new It,Ue=new kt,Ve=new At,je=new et,We=new et,He=new et,qe=new et,Ge=new et,Xe=new et,Ye=new P,Ze=new P,Je=new P,Qe=new et,Ke=new et,$e=new et,tn=new et,en=new et;class nn extends re{constructor(t=new Ne,e=new Me){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,s=n.morphTargetsRelative;e.fromBufferAttribute(i,t);const a=this.morphTargetInfluences;if(r&&a){Xe.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=a[n],o=r[n];0!==i&&(Ge.fromBufferAttribute(o,t),s?Xe.addScaledVector(Ge,i):Xe.addScaledVector(Ge.sub(e),i))}e.add(Xe)}return e}raycast(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),Ve.copy(n.boundingSphere),Ve.applyMatrix4(r),Ue.copy(t.ray).recast(t.near),!1===Ve.containsPoint(Ue.origin)){if(null===Ue.intersectSphere(Ve,je))return;if(Ue.origin.distanceToSquared(je)>(t.far-t.near)**2)return}Fe.copy(r).invert(),Ue.copy(t.ray).applyMatrix4(Fe),null!==n.boundingBox&&!1===Ue.intersectsBox(n.boundingBox)||this._computeIntersections(t,e,Ue)}}_computeIntersections(t,e,n){let i;const r=this.geometry,s=this.material,a=r.index,o=r.attributes.position,h=r.attributes.uv,l=r.attributes.uv1,c=r.attributes.normal,u=r.groups,d=r.drawRange;if(null!==a)if(Array.isArray(s))for(let r=0,o=u.length;r<o;r++){const o=u[r],p=s[o.materialIndex];for(let r=Math.max(o.start,d.start),s=Math.min(a.count,Math.min(o.start+o.count,d.start+d.count));r<s;r+=3)i=rn(this,p,t,n,h,l,c,a.getX(r),a.getX(r+1),a.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=o.materialIndex,e.push(i))}else for(let r=Math.max(0,d.start),o=Math.min(a.count,d.start+d.count);r<o;r+=3)i=rn(this,s,t,n,h,l,c,a.getX(r),a.getX(r+1),a.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),e.push(i));else if(void 0!==o)if(Array.isArray(s))for(let r=0,a=u.length;r<a;r++){const a=u[r],p=s[a.materialIndex];for(let r=Math.max(a.start,d.start),s=Math.min(o.count,Math.min(a.start+a.count,d.start+d.count));r<s;r+=3)i=rn(this,p,t,n,h,l,c,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=a.materialIndex,e.push(i))}else for(let r=Math.max(0,d.start),a=Math.min(o.count,d.start+d.count);r<a;r+=3)i=rn(this,s,t,n,h,l,c,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),e.push(i))}}function rn(t,e,n,i,r,s,a,o,h,l){t.getVertexPosition(o,We),t.getVertexPosition(h,He),t.getVertexPosition(l,qe);const c=function(t,e,n,i,r,s,a,o){let h;if(h=1===e.side?i.intersectTriangle(a,s,r,!0,o):i.intersectTriangle(r,s,a,0===e.side,o),null===h)return null;en.copy(o),en.applyMatrix4(t.matrixWorld);const l=n.ray.origin.distanceTo(en);return l<n.near||l>n.far?null:{distance:l,point:en.clone(),object:t}}(t,e,n,i,We,He,qe,tn);if(c){r&&(Ye.fromBufferAttribute(r,o),Ze.fromBufferAttribute(r,h),Je.fromBufferAttribute(r,l),c.uv=fe.getInterpolation(tn,We,He,qe,Ye,Ze,Je,new P)),s&&(Ye.fromBufferAttribute(s,o),Ze.fromBufferAttribute(s,h),Je.fromBufferAttribute(s,l),c.uv1=fe.getInterpolation(tn,We,He,qe,Ye,Ze,Je,new P)),a&&(Qe.fromBufferAttribute(a,o),Ke.fromBufferAttribute(a,h),$e.fromBufferAttribute(a,l),c.normal=fe.getInterpolation(tn,We,He,qe,Qe,Ke,$e,new et),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));const t={a:o,b:h,c:l,normal:new et,materialIndex:0};fe.getNormal(We,He,qe,t.normal),c.face=t}return c}function sn(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function an(t){const e={};for(let n=0;n<t.length;n++){const i=sn(t[n]);for(const t in i)e[t]=i[t]}return e}class on extends re{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new It,this.projectionMatrix=new It,this.projectionMatrixInverse=new It,this.coordinateSystem=x}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const hn=new et,ln=new P,cn=new P;class un extends on{constructor(t=50,e=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*T*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*M*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*T*Math.atan(Math.tan(.5*M*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){hn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(hn.x,hn.y).multiplyScalar(-t/hn.z),hn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(hn.x,hn.y).multiplyScalar(-t/hn.z)}getViewSize(t,e){return this.getViewBounds(t,ln,cn),e.subVectors(cn,ln)}setViewOffset(t,e,n,i,r,s){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*M*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const t=s.fullWidth,a=s.fullHeight;r+=s.offsetX*i/t,e-=s.offsetY*n/a,i*=s.width/t,n*=s.height/a}const a=this.filmOffset;0!==a&&(r+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const dn=new et,pn=new et,mn=new R;class fn{constructor(t=new et(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=dn.subVectors(n,e).cross(pn.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(dn),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(t.start).addScaledVector(n,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||mn.getNormalMatrix(t),i=this.coplanarPoint(dn).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const gn=new At,yn=new et;class _n{constructor(t=new fn,e=new fn,n=new fn,i=new fn,r=new fn,s=new fn){this.planes=[t,e,n,i,r,s]}set(t,e,n,i,r,s){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(s),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=2e3){const n=this.planes,i=t.elements,r=i[0],s=i[1],a=i[2],o=i[3],h=i[4],l=i[5],c=i[6],u=i[7],d=i[8],p=i[9],m=i[10],f=i[11],g=i[12],y=i[13],_=i[14],v=i[15];if(n[0].setComponents(o-r,u-h,f-d,v-g).normalize(),n[1].setComponents(o+r,u+h,f+d,v+g).normalize(),n[2].setComponents(o+s,u+l,f+p,v+y).normalize(),n[3].setComponents(o-s,u-l,f-p,v-y).normalize(),n[4].setComponents(o-a,u-c,f-m,v-_).normalize(),e===x)n[5].setComponents(o+a,u+c,f+m,v+_).normalize();else{if(e!==b)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(a,c,m,_).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),gn.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),gn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(gn)}intersectsSprite(t){return gn.center.set(0,0,0),gn.radius=.7071067811865476,gn.applyMatrix4(t.matrixWorld),this.intersectsSphere(gn)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(yn.x=i.normal.x>0?t.max.x:t.min.x,yn.y=i.normal.y>0?t.max.y:t.min.y,yn.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(yn)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}const vn="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",xn="uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",bn="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",An="#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",wn="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Mn="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Tn="#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",Cn="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",Sn="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",Bn="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",En="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",kn="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",In="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",zn="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Pn="#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",Rn="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",On="#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Ln="#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Dn="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",Nn="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Fn="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",Un="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",Vn="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",jn="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Wn="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",Hn="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",qn="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Gn="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Xn="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",Yn="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Zn="#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Jn="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",Qn="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Kn="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",$n={common:{diffuse:{value:new xe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new R},alphaMap:{value:null},alphaMapTransform:{value:new R},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new R}},envmap:{envMap:{value:null},envMapRotation:{value:new R},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new R}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new R}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new R},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new R},normalScale:{value:new P(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new R},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new R}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new R}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new R}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new R},alphaTest:{value:0},uvTransform:{value:new R}},sprite:{diffuse:{value:new xe(16777215)},opacity:{value:1},center:{value:new P(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new R},alphaMap:{value:null},alphaMapTransform:{value:new R},alphaTest:{value:0}}},ti={basic:{uniforms:an([$n.common,$n.specularmap,$n.envmap,$n.aomap,$n.lightmap,$n.fog]),vertexShader:Pn,fragmentShader:Rn},lambert:{uniforms:an([$n.common,$n.specularmap,$n.envmap,$n.aomap,$n.lightmap,$n.emissivemap,$n.bumpmap,$n.normalmap,$n.displacementmap,$n.fog,$n.lights,{emissive:{value:new xe(0)}}]),vertexShader:On,fragmentShader:Ln},phong:{uniforms:an([$n.common,$n.specularmap,$n.envmap,$n.aomap,$n.lightmap,$n.emissivemap,$n.bumpmap,$n.normalmap,$n.displacementmap,$n.fog,$n.lights,{emissive:{value:new xe(0)},specular:{value:new xe(1118481)},shininess:{value:30}}]),vertexShader:Vn,fragmentShader:jn},standard:{uniforms:an([$n.common,$n.envmap,$n.aomap,$n.lightmap,$n.emissivemap,$n.bumpmap,$n.normalmap,$n.displacementmap,$n.roughnessmap,$n.metalnessmap,$n.fog,$n.lights,{emissive:{value:new xe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wn,fragmentShader:Hn},toon:{uniforms:an([$n.common,$n.aomap,$n.lightmap,$n.emissivemap,$n.bumpmap,$n.normalmap,$n.displacementmap,$n.gradientmap,$n.fog,$n.lights,{emissive:{value:new xe(0)}}]),vertexShader:qn,fragmentShader:Gn},matcap:{uniforms:an([$n.common,$n.bumpmap,$n.normalmap,$n.displacementmap,$n.fog,{matcap:{value:null}}]),vertexShader:Dn,fragmentShader:Nn},points:{uniforms:an([$n.points,$n.fog]),vertexShader:Xn,fragmentShader:Yn},dashed:{uniforms:an([$n.common,$n.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:In,fragmentShader:zn},depth:{uniforms:an([$n.common,$n.displacementmap]),vertexShader:Tn,fragmentShader:Cn},normal:{uniforms:an([$n.common,$n.bumpmap,$n.normalmap,$n.displacementmap,{opacity:{value:1}}]),vertexShader:Fn,fragmentShader:Un},sprite:{uniforms:an([$n.sprite,$n.fog]),vertexShader:Qn,fragmentShader:Kn},background:{uniforms:{uvTransform:{value:new R},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:vn,fragmentShader:xn},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new R}},vertexShader:bn,fragmentShader:An},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wn,fragmentShader:Mn},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:En,fragmentShader:kn},distanceRGBA:{uniforms:an([$n.common,$n.displacementmap,{referencePosition:{value:new et},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Sn,fragmentShader:Bn},shadow:{uniforms:an([$n.lights,$n.fog,{color:{value:new xe(0)},opacity:{value:1}}]),vertexShader:Zn,fragmentShader:Jn}};ti.physical={uniforms:an([ti.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new R},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new R},clearcoatNormalScale:{value:new P(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new R},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new R},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new R},sheen:{value:0},sheenColor:{value:new xe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new R},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new R},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new R},transmissionSamplerSize:{value:new P},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new R},attenuationDistance:{value:0},attenuationColor:{value:new xe(0)},specularColor:{value:new xe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new R},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new R},anisotropyVector:{value:new P},anisotropyMap:{value:null},anisotropyMapTransform:{value:new R}}]),vertexShader:Wn,fragmentShader:Hn};class ei extends on{constructor(t=-1,e=1,n=1,i=-1,r=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=s,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,s=n+t,a=i+e,o=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,s=r+t*this.view.width,a-=e*this.view.offsetY,o=a-e*this.view.height}this.projectionMatrix.makeOrthographic(r,s,a,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}Math.sqrt(5),new Float32Array(16),new Float32Array(9),new Float32Array(4),new Map;class ni extends re{constructor(){super(),this.isGroup=!0,this.type="Group"}}class ii{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=v,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=C()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}get updateRange(){return N("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=C()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=C()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ri=new et;class si{constructor(t,e,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)ri.fromBufferAttribute(this,e),ri.applyMatrix4(t),this.setXYZ(e,ri.x,ri.y,ri.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)ri.fromBufferAttribute(this,e),ri.applyNormalMatrix(t),this.setXYZ(e,ri.x,ri.y,ri.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)ri.fromBufferAttribute(this,e),ri.transformDirection(t),this.setXYZ(e,ri.x,ri.y,ri.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=k(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=I(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=I(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=I(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=I(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=I(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=k(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=k(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=k(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=k(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=I(e,this.array),n=I(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=I(e,this.array),n=I(n,this.array),i=I(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=I(e,this.array),n=I(n,this.array),i=I(i,this.array),r=I(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new Se(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new si(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const ai=new et,oi=new $,hi=new $,li=new et,ci=new It,ui=new et,di=new At,pi=new It,mi=new kt;class fi extends nn{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=i,this.bindMatrix=new It,this.bindMatrixInverse=new It,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new rt),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let t=0;t<e.count;t++)this.getVertexPosition(t,ui),this.boundingBox.expandByPoint(ui)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new At),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let t=0;t<e.count;t++)this.getVertexPosition(t,ui),this.boundingSphere.expandByPoint(ui)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const n=this.material,i=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),di.copy(this.boundingSphere),di.applyMatrix4(i),!1!==t.ray.intersectsSphere(di)&&(pi.copy(i).invert(),mi.copy(t.ray).applyMatrix4(pi),null!==this.boundingBox&&!1===mi.intersectsBox(this.boundingBox)||this._computeIntersections(t,e,mi)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new $,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.fromBufferAttribute(e,n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===i?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const n=this.skeleton,i=this.geometry;oi.fromBufferAttribute(i.attributes.skinIndex,t),hi.fromBufferAttribute(i.attributes.skinWeight,t),ai.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const i=hi.getComponent(t);if(0!==i){const r=oi.getComponent(t);ci.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),e.addScaledVector(li.copy(ai).applyMatrix4(ci),i)}}return e.applyMatrix4(this.bindMatrixInverse)}}class gi extends re{constructor(){super(),this.isBone=!0,this.type="Bone"}}class yi extends K{constructor(t=null,e=1,n=1,i,r,s,a,o,h=1003,l=1003,c,u){super(null,s,a,o,h,l,i,r,c,u),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _i=new It,vi=new It;class xi{constructor(t=[],e=[]){this.uuid=C(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new It)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new It;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:vi;_i.multiplyMatrices(r,e[i]),_i.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new xi(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new yi(e,t,t,1023,o);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const i=t.bones[n];let r=e[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new gi),this.bones.push(r),this.boneInverses.push((new It).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++){const r=e[i];t.bones.push(r.uuid);const s=n[i];t.boneInverses.push(s.toArray())}return t}}class bi extends Se{constructor(t,e,n,i=1){super(t,e,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Ai=new It,wi=new It,Mi=[],Ti=new rt,Ci=new It,Si=new nn,Bi=new At;class Ei extends nn{constructor(t,e,n){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new bi(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let t=0;t<n;t++)this.setMatrixAt(t,Ci)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new rt),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Ai),Ti.copy(t.boundingBox).applyMatrix4(Ai),this.boundingBox.union(Ti)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new At),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Ai),Bi.copy(t.boundingSphere).applyMatrix4(Ai),this.boundingSphere.union(Bi)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.morphTexture&&(this.morphTexture=t.morphTexture.clone()),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}getMorphAt(t,e){const n=e.morphTargetInfluences,i=this.morphTexture.source.data.data,r=t*(n.length+1)+1;for(let t=0;t<n.length;t++)n[t]=i[r+t]}raycast(t,e){const n=this.matrixWorld,i=this.count;if(Si.geometry=this.geometry,Si.material=this.material,void 0!==Si.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Bi.copy(this.boundingSphere),Bi.applyMatrix4(n),!1!==t.ray.intersectsSphere(Bi)))for(let r=0;r<i;r++){this.getMatrixAt(r,Ai),wi.multiplyMatrices(n,Ai),Si.matrixWorld=wi,Si.raycast(t,Mi);for(let t=0,n=Mi.length;t<n;t++){const n=Mi[t];n.instanceId=r,n.object=this,e.push(n)}Mi.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new bi(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}setMorphAt(t,e){const n=e.morphTargetInfluences,i=n.length+1;null===this.morphTexture&&(this.morphTexture=new yi(new Float32Array(i*this.count),i,this.count,1028,o));const r=this.morphTexture.source.data.data;let s=0;for(let t=0;t<n.length;t++)s+=n[t];const a=this.geometry.morphTargetsRelative?1:1-s,h=i*t;r[h]=a,r.set(n,h+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class ki extends we{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Ii=new et,zi=new et,Pi=new It,Ri=new kt,Oi=new At,Li=new et,Di=new et;class Ni extends re{constructor(t=new Ne,e=new ki){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)Ii.fromBufferAttribute(e,t-1),zi.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=Ii.distanceTo(zi);t.setAttribute("lineDistance",new ke(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Oi.copy(n.boundingSphere),Oi.applyMatrix4(i),Oi.radius+=r,!1===t.ray.intersectsSphere(Oi))return;Pi.copy(i).invert(),Ri.copy(t.ray).applyMatrix4(Pi);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,h=this.isLineSegments?2:1,l=n.index,c=n.attributes.position;if(null!==l){const n=Math.max(0,s.start),i=Math.min(l.count,s.start+s.count);for(let r=n,s=i-1;r<s;r+=h){const n=l.getX(r),i=l.getX(r+1),s=Fi(this,t,Ri,o,n,i);s&&e.push(s)}if(this.isLineLoop){const r=l.getX(i-1),s=l.getX(n),a=Fi(this,t,Ri,o,r,s);a&&e.push(a)}}else{const n=Math.max(0,s.start),i=Math.min(c.count,s.start+s.count);for(let r=n,s=i-1;r<s;r+=h){const n=Fi(this,t,Ri,o,r,r+1);n&&e.push(n)}if(this.isLineLoop){const r=Fi(this,t,Ri,o,i-1,n);r&&e.push(r)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function Fi(t,e,n,i,r,s){const a=t.geometry.attributes.position;if(Ii.fromBufferAttribute(a,r),zi.fromBufferAttribute(a,s),n.distanceSqToSegment(Ii,zi,Li,Di)>i)return;Li.applyMatrix4(t.matrixWorld);const o=e.ray.origin.distanceTo(Li);return o<e.near||o>e.far?void 0:{distance:o,point:Di.clone().applyMatrix4(t.matrixWorld),index:r,face:null,faceIndex:null,object:t}}const Ui=new et,Vi=new et;class ji extends Ni{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)Ui.fromBufferAttribute(e,t),Vi.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+Ui.distanceTo(Vi);t.setAttribute("lineDistance",new ke(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Wi extends Ni{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class Hi extends we{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const qi=new It,Gi=new kt,Xi=new At,Yi=new et;class Zi extends re{constructor(t=new Ne,e=new Hi){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Xi.copy(n.boundingSphere),Xi.applyMatrix4(i),Xi.radius+=r,!1===t.ray.intersectsSphere(Xi))return;qi.copy(i).invert(),Gi.copy(t.ray).applyMatrix4(qi);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,h=n.index,l=n.attributes.position;if(null!==h)for(let n=Math.max(0,s.start),r=Math.min(h.count,s.start+s.count);n<r;n++){const r=h.getX(n);Yi.fromBufferAttribute(l,r),Ji(Yi,r,o,i,t,e,this)}else for(let n=Math.max(0,s.start),r=Math.min(l.count,s.start+s.count);n<r;n++)Yi.fromBufferAttribute(l,n),Ji(Yi,n,o,i,t,e,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function Ji(t,e,n,i,r,s,a){const o=Gi.distanceSqToPoint(t);if(o<n){const n=new et;Gi.closestPointToPoint(t,n),n.applyMatrix4(i);const h=r.ray.origin.distanceTo(n);if(h<r.near||h>r.far)return;s.push({distance:h,distanceToRay:Math.sqrt(o),point:n,index:e,face:null,object:a})}}class Qi extends we{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new P(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vt,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Ki extends Qi{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new P(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return S(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}function $i(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function tr(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n}function er(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,a=0;a!==i;++s){const i=n[s]*e;for(let n=0;n!==e;++n)r[a++]=t[i+n]}return r}function nr(t,e,n,i){let r=1,s=t[0];for(;void 0!==s&&void 0===s[i];)s=t[r++];if(void 0===s)return;let a=s[i];if(void 0!==a)if(Array.isArray(a))do{a=s[i],void 0!==a&&(e.push(s.time),n.push.apply(n,a)),s=t[r++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[i],void 0!==a&&(e.push(s.time),a.toArray(n,n.length)),s=t[r++]}while(void 0!==s);else do{a=s[i],void 0!==a&&(e.push(s.time),n.push(a)),s=t[r++]}while(void 0!==s)}class ir{constructor(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let s;n:{i:if(!(t<i)){for(let s=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(r=i,i=e[++n],t<i)break e}s=e.length;break n}if(t>=r)break t;{const a=e[1];t<a&&(n=2,r=a);for(let s=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===s)break;if(i=r,r=e[--n-1],t>=r)break e}s=n,n=0}}for(;n<s;){const i=n+s>>>1;t<e[i]?s=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let t=0;t!==i;++t)e[t]=n[r+t];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rr extends ir{constructor(t,e,n,i){super(t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,n){const i=this.parameterPositions;let r=t-2,s=t+1,a=i[r],o=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:r=t,a=2*e-n;break;case 2402:r=i.length-2,a=e+i[r]-i[r+1];break;default:r=t,a=n}if(void 0===o)switch(this.getSettings_().endingEnd){case 2401:s=t,o=2*n-e;break;case 2402:s=1,o=n+i[1]-i[0];break;default:s=t-1,o=e}const h=.5*(n-e),l=this.valueSize;this._weightPrev=h/(e-a),this._weightNext=h/(o-n),this._offsetPrev=r*l,this._offsetNext=s*l}interpolate_(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=t*a,h=o-a,l=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(n-e)/(i-e),m=p*p,f=m*p,g=-u*f+2*u*m-u*p,y=(1+u)*f+(-1.5-2*u)*m+(-.5+u)*p+1,_=(-1-d)*f+(1.5+d)*m+.5*p,v=d*f-d*m;for(let t=0;t!==a;++t)r[t]=g*s[l+t]+y*s[h+t]+_*s[o+t]+v*s[c+t];return r}}class sr extends ir{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=t*a,h=o-a,l=(n-e)/(i-e),c=1-l;for(let t=0;t!==a;++t)r[t]=s[h+t]*c+s[o+t]*l;return r}}class ar extends ir{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t){return this.copySampleValue_(t-1)}}class or{constructor(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=$i(e,this.TimeBufferType),this.values=$i(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:$i(t.times,Array),values:$i(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new ar(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new sr(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new rr(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case h:e=this.InterpolantFactoryMethodDiscrete;break;case l:e=this.InterpolantFactoryMethodLinear;break;case c:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return h;case this.InterpolantFactoryMethodLinear:return l;case this.InterpolantFactoryMethodSmooth:return c}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this}trim(t,e){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==s&&n[s]>e;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const t=this.getValueSize();this.times=n.slice(r,s),this.values=this.values.slice(r*t,s*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let s=null;for(let e=0;e!==r;e++){const i=n[e];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,i),t=!1;break}if(null!==s&&s>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,i,s),t=!1;break}s=i}if(void 0!==i&&(a=i,ArrayBuffer.isView(a)&&!(a instanceof DataView)))for(let e=0,n=i.length;e!==n;++e){const n=i[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}var a;return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===c,r=t.length-1;let s=1;for(let a=1;a<r;++a){let r=!1;const o=t[a];if(o!==t[a+1]&&(1!==a||o!==t[0]))if(i)r=!0;else{const t=a*n,i=t-n,s=t+n;for(let a=0;a!==n;++a){const n=e[t+a];if(n!==e[i+a]||n!==e[s+a]){r=!0;break}}}if(r){if(a!==s){t[s]=t[a];const i=a*n,r=s*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++s}}if(r>0){t[s]=t[r];for(let t=r*n,i=s*n,a=0;a!==n;++a)e[i+a]=e[t+a];++s}return s!==t.length?(this.times=t.slice(0,s),this.values=e.slice(0,s*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}or.prototype.TimeBufferType=Float32Array,or.prototype.ValueBufferType=Float32Array,or.prototype.DefaultInterpolation=l;class hr extends or{constructor(t,e,n){super(t,e,n)}}hr.prototype.ValueTypeName="bool",hr.prototype.ValueBufferType=Array,hr.prototype.DefaultInterpolation=h,hr.prototype.InterpolantFactoryMethodLinear=void 0,hr.prototype.InterpolantFactoryMethodSmooth=void 0;class lr extends or{}lr.prototype.ValueTypeName="color";class cr extends or{}cr.prototype.ValueTypeName="number";class ur extends ir{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(n-e)/(i-e);let h=t*a;for(let t=h+a;h!==t;h+=4)tt.slerpFlat(r,0,s,h-a,s,h,o);return r}}class dr extends or{InterpolantFactoryMethodLinear(t){return new ur(this.times,this.values,this.getValueSize(),t)}}dr.prototype.ValueTypeName="quaternion",dr.prototype.InterpolantFactoryMethodSmooth=void 0;class pr extends or{constructor(t,e,n){super(t,e,n)}}pr.prototype.ValueTypeName="string",pr.prototype.ValueBufferType=Array,pr.prototype.DefaultInterpolation=h,pr.prototype.InterpolantFactoryMethodLinear=void 0,pr.prototype.InterpolantFactoryMethodSmooth=void 0;class mr extends or{}mr.prototype.ValueTypeName="vector";class fr{constructor(t="",e=-1,n=[],i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=C(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let t=0,r=n.length;t!==r;++t)e.push(gr(n[t]).scale(i));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,i=n.length;t!==i;++t)e.push(or.toJSON(n[t]));return i}static CreateFromMorphTargetSequence(t,e,n,i){const r=e.length,s=[];for(let t=0;t<r;t++){let a=[],o=[];a.push((t+r-1)%r,t,(t+1)%r),o.push(0,1,0);const h=tr(a);a=er(a,1,h),o=er(o,1,h),i||0!==a[0]||(a.push(r),o.push(o[0])),s.push(new cr(".morphTargetInfluences["+e[t].name+"]",a,o).scale(1/n))}return new this(t,-1,s)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],s=n.name.match(r);if(s&&s.length>1){const t=s[1];let e=i[t];e||(i[t]=e=[]),e.push(n)}}const s=[];for(const t in i)s.push(this.CreateFromMorphTargetSequence(t,i[t],e,n));return s}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,i,r){if(0!==n.length){const s=[],a=[];nr(n,s,a,i),0!==s.length&&r.push(new t(e,s,a))}},i=[],r=t.name||"default",s=t.fps||30,a=t.blendMode;let o=t.length||-1;const h=t.hierarchy||[];for(let t=0;t<h.length;t++){const r=h[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(const n in t){const t=[],s=[];for(let i=0;i!==r[e].morphTargets.length;++i){const i=r[e];t.push(i.time),s.push(i.morphTarget===n?1:0)}i.push(new cr(".morphTargetInfluence["+n+"]",t,s))}o=t.length*s}else{const s=".bones["+e[t].name+"]";n(mr,s+".position",r,"pos",i),n(dr,s+".quaternion",r,"rot",i),n(mr,s+".scale",r,"scl",i)}}return 0===i.length?null:new this(r,o,i,a)}resetDuration(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function gr(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cr;case"vector":case"vector2":case"vector3":case"vector4":return mr;case"color":return lr;case"quaternion":return dr;case"bool":case"boolean":return hr;case"string":return pr}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];nr(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const yr={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class _r{constructor(t,e,n){const i=this;let r,s=!1,a=0,o=0;const h=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===s&&void 0!==i.onStart&&i.onStart(t,a,o),s=!0},this.itemEnd=function(t){a++,void 0!==i.onProgress&&i.onProgress(t,a,o),a===o&&(s=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return h.push(t,e),this},this.removeHandler=function(t){const e=h.indexOf(t);return-1!==e&&h.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=h.length;e<n;e+=2){const n=h[e],i=h[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}}}const vr=new _r;class xr{constructor(t){this.manager=void 0!==t?t:vr,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}xr.DEFAULT_MATERIAL_NAME="__DEFAULT";const br={};class Ar extends Error{constructor(t,e){super(t),this.response=e}}class wr extends xr{constructor(t){super(t)}load(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=yr.get(t);if(void 0!==r)return this.manager.itemStart(t),setTimeout((()=>{e&&e(r),this.manager.itemEnd(t)}),0),r;if(void 0!==br[t])return void br[t].push({onLoad:e,onProgress:n,onError:i});br[t]=[],br[t].push({onLoad:e,onProgress:n,onError:i});const s=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(s).then((e=>{if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const n=br[t],i=e.body.getReader(),r=e.headers.get("X-File-Size")||e.headers.get("Content-Length"),s=r?parseInt(r):0,a=0!==s;let o=0;const h=new ReadableStream({start(t){!function e(){i.read().then((({done:i,value:r})=>{if(i)t.close();else{o+=r.byteLength;const i=new ProgressEvent("progress",{lengthComputable:a,loaded:o,total:s});for(let t=0,e=n.length;t<e;t++){const e=n[t];e.onProgress&&e.onProgress(i)}t.enqueue(r),e()}}),(e=>{t.error(e)}))}()}});return new Response(h)}throw new Ar(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`,e)})).then((t=>{switch(o){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((t=>(new DOMParser).parseFromString(t,a)));case"json":return t.json();default:if(void 0===a)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(a),n=e&&e[1]?e[1].toLowerCase():void 0,i=new TextDecoder(n);return t.arrayBuffer().then((t=>i.decode(t)))}}})).then((e=>{yr.add(t,e);const n=br[t];delete br[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onLoad&&i.onLoad(e)}})).catch((e=>{const n=br[t];if(void 0===n)throw this.manager.itemError(t),e;delete br[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}this.manager.itemError(t)})).finally((()=>{this.manager.itemEnd(t)})),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Mr extends xr{constructor(t){super(t)}load(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=yr.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout((function(){e&&e(s),r.manager.itemEnd(t)}),0),s;const a=L("img");function o(){l(),yr.add(t,this),e&&e(this),r.manager.itemEnd(t)}function h(e){l(),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}function l(){a.removeEventListener("load",o,!1),a.removeEventListener("error",h,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",h,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(t),a.src=t,a}}class Tr extends xr{constructor(t){super(t)}load(t,e,n,i){const r=new K,s=new Mr(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,(function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}class Cr extends re{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new xe(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(e.object.target=this.target.uuid),e}}const Sr=new It,Br=new et,Er=new et;class kr{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new P(512,512),this.map=null,this.mapPass=null,this.matrix=new It,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new _n,this._frameExtents=new P(1,1),this._viewportCount=1,this._viewports=[new $(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;Br.setFromMatrixPosition(t.matrixWorld),e.position.copy(Br),Er.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Er),e.updateMatrixWorld(),Sr.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sr),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Sr)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 1!==this.intensity&&(t.intensity=this.intensity),0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Ir extends kr{constructor(){super(new un(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,n=2*T*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class zr extends Cr{constructor(t,e,n=0,i=Math.PI/3,r=0,s=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(re.DEFAULT_UP),this.updateMatrix(),this.target=new re,this.distance=n,this.angle=i,this.penumbra=r,this.decay=s,this.map=null,this.shadow=new Ir}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const Pr=new It,Rr=new et,Or=new et;class Lr extends kr{constructor(){super(new un(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new P(4,2),this._viewportCount=6,this._viewports=[new $(2,1,1,1),new $(0,1,1,1),new $(3,1,1,1),new $(1,1,1,1),new $(3,0,1,1),new $(1,0,1,1)],this._cubeDirections=[new et(1,0,0),new et(-1,0,0),new et(0,0,1),new et(0,0,-1),new et(0,1,0),new et(0,-1,0)],this._cubeUps=[new et(0,1,0),new et(0,1,0),new et(0,1,0),new et(0,1,0),new et(0,0,1),new et(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,i=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),Rr.setFromMatrixPosition(t.matrixWorld),n.position.copy(Rr),Or.copy(n.position),Or.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(Or),n.updateMatrixWorld(),i.makeTranslation(-Rr.x,-Rr.y,-Rr.z),Pr.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Pr)}}class Dr extends Cr{constructor(t,e,n=0,i=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Lr}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Nr extends kr{constructor(){super(new ei(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Fr extends Cr{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(re.DEFAULT_UP),this.updateMatrix(),this.target=new re,this.shadow=new Nr}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class Ur{static decodeText(t){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Vr extends xr{constructor(t){super(t),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=yr.get(t);if(void 0!==s)return r.manager.itemStart(t),s.then?void s.then((n=>{e&&e(n),r.manager.itemEnd(t)})).catch((t=>{i&&i(t)})):(setTimeout((function(){e&&e(s),r.manager.itemEnd(t)}),0),s);const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader;const o=fetch(t,a).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(n){return yr.add(t,n),e&&e(n),r.manager.itemEnd(t),n})).catch((function(e){i&&i(e),yr.remove(t),r.manager.itemError(t),r.manager.itemEnd(t)}));yr.add(t,o),r.manager.itemStart(t)}}const jr="\\[\\]\\.:\\/",Wr=new RegExp("["+jr+"]","g"),Hr="[^"+jr+"]",qr="[^"+jr.replace("\\.","")+"]",Gr=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Hr)+/(WCOD+)?/.source.replace("WCOD",qr)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Hr)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Hr)+"$"),Xr=["material","materials","bones","map"];class Yr{constructor(t,e,n){this.path=e,this.parsedPath=n||Yr.parseTrackName(e),this.node=Yr.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new Yr.Composite(t,e,n):new Yr(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Wr,"")}static parseTrackName(t){const e=Gr.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==Xr.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const s=n(r.children);if(s)return s}return null},i=n(t.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=Yr.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[i]}}const s=t[i];if(void 0===s){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",t)}let a=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}function Zr(t,e){if(0===e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(2===e||1===e){let n=t.getIndex();if(null===n){const e=[],i=t.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let t=0;t<i.count;t++)e.push(t);t.setIndex(e),n=t.getIndex()}const i=n.count-2,r=[];if(2===e)for(let t=1;t<=i;t++)r.push(n.getX(0)),r.push(n.getX(t)),r.push(n.getX(t+1));else for(let t=0;t<i;t++)t%2==0?(r.push(n.getX(t)),r.push(n.getX(t+1)),r.push(n.getX(t+2))):(r.push(n.getX(t+2)),r.push(n.getX(t+1)),r.push(n.getX(t)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(r),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}function Jr(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}Yr.Composite=class{constructor(t,e,n){const i=n||Yr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Yr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Yr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Yr.prototype.GetterByBindingType=[Yr.prototype._getValue_direct,Yr.prototype._getValue_array,Yr.prototype._getValue_arrayElement,Yr.prototype._getValue_toArray],Yr.prototype.SetterByBindingTypeAndVersioning=[[Yr.prototype._setValue_direct,Yr.prototype._setValue_direct_setNeedsUpdate,Yr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_array,Yr.prototype._setValue_array_setNeedsUpdate,Yr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_arrayElement,Yr.prototype._setValue_arrayElement_setNeedsUpdate,Yr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_fromArray,Yr.prototype._setValue_fromArray_setNeedsUpdate,Yr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"166"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="166");const Qr="KHR_binary_glTF",Kr="KHR_draco_mesh_compression",$r="KHR_lights_punctual",ts="KHR_materials_clearcoat",es="KHR_materials_dispersion",ns="KHR_materials_ior",is="KHR_materials_sheen",rs="KHR_materials_specular",ss="KHR_materials_transmission",as="KHR_materials_iridescence",os="KHR_materials_anisotropy",hs="KHR_materials_unlit",ls="KHR_materials_volume",cs="KHR_texture_basisu",us="KHR_texture_transform",ds="KHR_mesh_quantization",ps="KHR_materials_emissive_strength",ms="EXT_materials_bump",fs="EXT_texture_webp",gs="EXT_texture_avif",ys="EXT_meshopt_compression",_s="EXT_mesh_gpu_instancing";class vs{constructor(t){this.parser=t,this.name=$r,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,i=e.length;n<i;n++){const i=e[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&t._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let i=e.cache.get(n);if(i)return i;const r=e.json,s=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let a;const o=new xe(16777215);void 0!==s.color&&o.setRGB(s.color[0],s.color[1],s.color[2],d);const h=void 0!==s.range?s.range:0;switch(s.type){case"directional":a=new Fr(o),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new Dr(o),a.distance=h;break;case"spot":a=new zr(o),a.distance=h,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),a.decay=2,ea(a,s),void 0!==s.intensity&&(a.intensity=s.intensity),a.name=e.createUniqueName(s.name||"light_"+t),i=Promise.resolve(a),e.cache.add(n,i),i}getDependency(t,e){if("light"===t)return this._loadLight(e)}createNodeAttachment(t){const e=this,n=this.parser,i=n.json.nodes[t],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(t){return n._getNodeRef(e.cache,r,t)}))}}class xs{constructor(){this.name=hs}getMaterialType(){return Me}extendParams(t,e,n){const i=[];t.color=new xe(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const e=r.baseColorFactor;t.color.setRGB(e[0],e[1],e[2],d),t.opacity=e[3]}void 0!==r.baseColorTexture&&i.push(n.assignTexture(t,"map",r.baseColorTexture,u))}return Promise.all(i)}}class bs{constructor(t){this.parser=t,this.name=ps}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name].emissiveStrength;return void 0!==i&&(e.emissiveIntensity=i),Promise.resolve()}}class As{constructor(t){this.parser=t,this.name=ts}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];if(void 0!==s.clearcoatFactor&&(e.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(e.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){const t=s.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new P(t,t)}return Promise.all(r)}}class ws{constructor(t){this.parser=t,this.name=es}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return e.dispersion=void 0!==i.dispersion?i.dispersion:0,Promise.resolve()}}class Ms{constructor(t){this.parser=t,this.name=as}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return void 0!==s.iridescenceFactor&&(e.iridescence=s.iridescenceFactor),void 0!==s.iridescenceTexture&&r.push(n.assignTexture(e,"iridescenceMap",s.iridescenceTexture)),void 0!==s.iridescenceIor&&(e.iridescenceIOR=s.iridescenceIor),void 0===e.iridescenceThicknessRange&&(e.iridescenceThicknessRange=[100,400]),void 0!==s.iridescenceThicknessMinimum&&(e.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),void 0!==s.iridescenceThicknessMaximum&&(e.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),void 0!==s.iridescenceThicknessTexture&&r.push(n.assignTexture(e,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(r)}}class Ts{constructor(t){this.parser=t,this.name=is}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[];e.sheenColor=new xe(0,0,0),e.sheenRoughness=0,e.sheen=1;const s=i.extensions[this.name];if(void 0!==s.sheenColorFactor){const t=s.sheenColorFactor;e.sheenColor.setRGB(t[0],t[1],t[2],d)}return void 0!==s.sheenRoughnessFactor&&(e.sheenRoughness=s.sheenRoughnessFactor),void 0!==s.sheenColorTexture&&r.push(n.assignTexture(e,"sheenColorMap",s.sheenColorTexture,u)),void 0!==s.sheenRoughnessTexture&&r.push(n.assignTexture(e,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(r)}}class Cs{constructor(t){this.parser=t,this.name=ss}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return void 0!==s.transmissionFactor&&(e.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",s.transmissionTexture)),Promise.all(r)}}class Ss{constructor(t){this.parser=t,this.name=ls}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];e.thickness=void 0!==s.thicknessFactor?s.thicknessFactor:0,void 0!==s.thicknessTexture&&r.push(n.assignTexture(e,"thicknessMap",s.thicknessTexture)),e.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return e.attenuationColor=(new xe).setRGB(a[0],a[1],a[2],d),Promise.all(r)}}class Bs{constructor(t){this.parser=t,this.name=ns}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return e.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}class Es{constructor(t){this.parser=t,this.name=rs}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];e.specularIntensity=void 0!==s.specularFactor?s.specularFactor:1,void 0!==s.specularTexture&&r.push(n.assignTexture(e,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return e.specularColor=(new xe).setRGB(a[0],a[1],a[2],d),void 0!==s.specularColorTexture&&r.push(n.assignTexture(e,"specularColorMap",s.specularColorTexture,u)),Promise.all(r)}}class ks{constructor(t){this.parser=t,this.name=ms}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return e.bumpScale=void 0!==s.bumpFactor?s.bumpFactor:1,void 0!==s.bumpTexture&&r.push(n.assignTexture(e,"bumpMap",s.bumpTexture)),Promise.all(r)}}class Is{constructor(t){this.parser=t,this.name=os}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Ki:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return void 0!==s.anisotropyStrength&&(e.anisotropy=s.anisotropyStrength),void 0!==s.anisotropyRotation&&(e.anisotropyRotation=s.anisotropyRotation),void 0!==s.anisotropyTexture&&r.push(n.assignTexture(e,"anisotropyMap",s.anisotropyTexture)),Promise.all(r)}}class zs{constructor(t){this.parser=t,this.name=cs}loadTexture(t){const e=this.parser,n=e.json,i=n.textures[t];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],s=e.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r.source,s)}}class Ps{constructor(t){this.parser=t,this.name=fs,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;const s=r.extensions[e],a=i.images[s.source];let o=n.textureLoader;if(a.uri){const t=n.options.manager.getHandler(a.uri);null!==t&&(o=t)}return this.detectSupport().then((function(r){if(r)return n.loadTextureImage(t,s.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported}}class Rs{constructor(t){this.parser=t,this.name=gs,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;const s=r.extensions[e],a=i.images[s.source];let o=n.textureLoader;if(a.uri){const t=n.options.manager.getHandler(a.uri);null!==t&&(o=t)}return this.detectSupport().then((function(r){if(r)return n.loadTextureImage(t,s.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported}}class Os{constructor(t){this.name=ys,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const t=n.extensions[this.name],i=this.parser.getDependency("buffer",t.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){const n=t.byteOffset||0,i=t.byteLength||0,s=t.count,a=t.byteStride,o=new Uint8Array(e,n,i);return r.decodeGltfBufferAsync?r.decodeGltfBufferAsync(s,a,o,t.mode,t.filter).then((function(t){return t.buffer})):r.ready.then((function(){const e=new ArrayBuffer(s*a);return r.decodeGltfBuffer(new Uint8Array(e),s,a,o,t.mode,t.filter),e}))}))}return null}}class Ls{constructor(t){this.name=_s,this.parser=t}createNodeMesh(t){const e=this.parser.json,n=e.nodes[t];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const i=e.meshes[n.mesh];for(const t of i.primitives)if(t.mode!==qs.TRIANGLES&&t.mode!==qs.TRIANGLE_STRIP&&t.mode!==qs.TRIANGLE_FAN&&void 0!==t.mode)return null;const r=n.extensions[this.name].attributes,s=[],a={};for(const t in r)s.push(this.parser.getDependency("accessor",r[t]).then((e=>(a[t]=e,a[t]))));return s.length<1?null:(s.push(this.parser.createNodeMesh(t)),Promise.all(s).then((t=>{const e=t.pop(),n=e.isGroup?e.children:[e],i=t[0].count,r=[];for(const t of n){const e=new It,n=new et,s=new tt,o=new et(1,1,1),h=new Ei(t.geometry,t.material,i);for(let t=0;t<i;t++)a.TRANSLATION&&n.fromBufferAttribute(a.TRANSLATION,t),a.ROTATION&&s.fromBufferAttribute(a.ROTATION,t),a.SCALE&&o.fromBufferAttribute(a.SCALE,t),h.setMatrixAt(t,e.compose(n,s,o));for(const e in a)if("_COLOR_0"===e){const t=a[e];h.instanceColor=new bi(t.array,t.itemSize,t.normalized)}else"TRANSLATION"!==e&&"ROTATION"!==e&&"SCALE"!==e&&t.geometry.setAttribute(e,a[e]);re.prototype.copy.call(h,t),this.parser.assignFinalMaterial(h),r.push(h)}return e.isGroup?(e.clear(),e.add(...r),e):r[0]})))}}const Ds="glTF";class Ns{constructor(t){this.name=Qr,this.content=null,this.body=null;const e=new DataView(t,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==Ds)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-12,r=new DataView(t,12);let s=0;for(;s<i;){const e=r.getUint32(s,!0);s+=4;const i=r.getUint32(s,!0);if(s+=4,1313821514===i){const i=new Uint8Array(t,12+s,e);this.content=n.decode(i)}else if(5130562===i){const n=12+s;this.body=t.slice(n,n+e)}s+=e}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Fs{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Kr,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,i=this.dracoLoader,r=t.extensions[this.name].bufferView,s=t.extensions[this.name].attributes,a={},o={},h={};for(const t in s){const e=Js[t]||t.toLowerCase();a[e]=s[t]}for(const e in t.attributes){const i=Js[e]||e.toLowerCase();if(void 0!==s[e]){const r=n.accessors[t.attributes[e]],s=Gs[r.componentType];h[i]=s.name,o[i]=!0===r.normalized}}return e.getDependency("bufferView",r).then((function(t){return new Promise((function(e,n){i.decodeDracoFile(t,(function(t){for(const e in t.attributes){const n=t.attributes[e],i=o[e];void 0!==i&&(n.normalized=i)}e(t)}),a,h,d,n)}))}))}}class Us{constructor(){this.name=us}extendTexture(t,e){return void 0!==e.texCoord&&e.texCoord!==t.channel||void 0!==e.offset||void 0!==e.rotation||void 0!==e.scale?(t=t.clone(),void 0!==e.texCoord&&(t.channel=e.texCoord),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0,t):t}}class Vs{constructor(){this.name=ds}}class js extends ir{constructor(t,e,n,i){super(t,e,n,i)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i*3+i;for(let t=0;t!==i;t++)e[t]=n[r+t];return e}interpolate_(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=2*a,h=3*a,l=i-e,c=(n-e)/l,u=c*c,d=u*c,p=t*h,m=p-h,f=-2*d+3*u,g=d-u,y=1-f,_=g-u+c;for(let t=0;t!==a;t++){const e=s[m+t+a],n=s[m+t+o]*l,i=s[p+t+a],h=s[p+t]*l;r[t]=y*e+_*n+f*i+g*h}return r}}const Ws=new tt;class Hs extends js{interpolate_(t,e,n,i){const r=super.interpolate_(t,e,n,i);return Ws.fromArray(r).normalize().toArray(r),r}}const qs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Gs={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Xs={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},Ys={33071:s,33648:a,10497:r},Zs={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Js={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Qs={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ks={CUBICSPLINE:void 0,LINEAR:l,STEP:h};function $s(t){return void 0===t.DefaultMaterial&&(t.DefaultMaterial=new Qi({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),t.DefaultMaterial}function ta(t,e,n){for(const i in n.extensions)void 0===t[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function ea(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function na(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let e=0,i=n.length;e<i;e++)t.morphTargetDictionary[n[e]]=e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ia(t){let e;const n=t.extensions&&t.extensions[Kr];if(e=n?"draco:"+n.bufferView+":"+n.indices+":"+ra(n.attributes):t.indices+":"+ra(t.attributes)+":"+t.mode,void 0!==t.targets)for(let n=0,i=t.targets.length;n<i;n++)e+=":"+ra(t.targets[n]);return e}function ra(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function sa(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const aa=new It;class oa{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new Jr,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=-1,r=!1,s=-1;if("undefined"!=typeof navigator){const t=navigator.userAgent;n=!0===/^((?!chrome|android).)*safari/i.test(t);const e=t.match(/Version\/(\d+)/);i=n&&e?parseInt(e[1],10):-1,r=t.indexOf("Firefox")>-1,s=r?t.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"==typeof createImageBitmap||n&&i<17||r&&s<98?this.textureLoader=new Tr(this.options.manager):this.textureLoader=new Vr(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new wr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all(this._invokeAll((function(t){return t.beforeRoot&&t.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(e){const s={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:n,userData:{}};return ta(r,s,i),ea(s,i),Promise.all(n._invokeAll((function(t){return t.afterRoot&&t.afterRoot(s)}))).then((function(){for(const t of s.scenes)t.updateMatrixWorld();t(s)}))})).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let n=0,i=e.length;n<i;n++){const i=e[n].joints;for(let e=0,n=i.length;e<n;e++)t[i[e]].isBone=!0}for(let e=0,i=t.length;e<i;e++){const i=t[e];void 0!==i.mesh&&(this._addNodeRef(this.meshCache,i.mesh),void 0!==i.skin&&(n[i.mesh].isSkinnedMesh=!0)),void 0!==i.camera&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const i=n.clone(),r=(t,e)=>{const n=this.associations.get(t);null!=n&&this.associations.set(e,n);for(const[n,i]of t.children.entries())r(i,e.children[n])};return r(n,i),i.name+="_instance_"+t.uses[e]++,i}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const i=t(e[n]);if(i)return i}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let i=0;i<e.length;i++){const r=t(e[i]);r&&n.push(r)}return n}getDependency(t,e){const n=t+":"+e;let i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this._invokeOne((function(t){return t.loadNode&&t.loadNode(e)}));break;case"mesh":i=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":i=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":i=this.loadSkin(e);break;case"animation":i=this._invokeOne((function(t){return t.loadAnimation&&t.loadAnimation(e)}));break;case"camera":i=this.loadCamera(e);break;default:if(i=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(t,e)})),!i)throw new Error("Unknown type: "+t)}this.cache.add(n,i)}return i}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this,i=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(i.map((function(e,i){return n.getDependency(t,i)}))),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[Qr].body);const i=this.options;return new Promise((function(t,r){n.load(Ur.resolveURL(e.uri,i.path),t,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){const n=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+n)}))}loadAccessor(t){const e=this,n=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse){const t=Zs[i.type],e=Gs[i.componentType],n=!0===i.normalized,r=new e(i.count*t);return Promise.resolve(new Se(r,t,n))}const r=[];return void 0!==i.bufferView?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),void 0!==i.sparse&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then((function(t){const r=t[0],s=Zs[i.type],a=Gs[i.componentType],o=a.BYTES_PER_ELEMENT,h=o*s,l=i.byteOffset||0,c=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,u=!0===i.normalized;let d,p;if(c&&c!==h){const t=Math.floor(l/c),n="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+t+":"+i.count;let h=e.cache.get(n);h||(d=new a(r,t*c,i.count*c/o),h=new ii(d,c/o),e.cache.add(n,h)),p=new si(h,s,l%c/o,u)}else d=null===r?new a(i.count*s):new a(r,l,i.count*s),p=new Se(d,s,u);if(void 0!==i.sparse){const e=Zs.SCALAR,n=Gs[i.sparse.indices.componentType],o=i.sparse.indices.byteOffset||0,h=i.sparse.values.byteOffset||0,l=new n(t[1],o,i.sparse.count*e),c=new a(t[2],h,i.sparse.count*s);null!==r&&(p=new Se(p.array.slice(),p.itemSize,p.normalized));for(let t=0,e=l.length;t<e;t++){const e=l[t];if(p.setX(e,c[t*s]),s>=2&&p.setY(e,c[t*s+1]),s>=3&&p.setZ(e,c[t*s+2]),s>=4&&p.setW(e,c[t*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p}))}loadTexture(t){const e=this.json,n=this.options,i=e.textures[t].source,r=e.images[i];let s=this.textureLoader;if(r.uri){const t=n.manager.getHandler(r.uri);null!==t&&(s=t)}return this.loadTextureImage(t,i,s)}loadTextureImage(t,e,n){const i=this,s=this.json,a=s.textures[t],o=s.images[e],h=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[h])return this.textureCache[h];const l=this.loadImageSource(e,n).then((function(e){e.flipY=!1,e.name=a.name||o.name||"",""===e.name&&"string"==typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(e.name=o.uri);const n=(s.samplers||{})[a.sampler]||{};return e.magFilter=Xs[n.magFilter]||1006,e.minFilter=Xs[n.minFilter]||1008,e.wrapS=Ys[n.wrapS]||r,e.wrapT=Ys[n.wrapT]||r,i.associations.set(e,{textures:t}),e})).catch((function(){return null}));return this.textureCache[h]=l,l}loadImageSource(t,e){const n=this.json,i=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then((t=>t.clone()));const r=n.images[t],s=self.URL||self.webkitURL;let a=r.uri||"",o=!1;if(void 0!==r.bufferView)a=this.getDependency("bufferView",r.bufferView).then((function(t){o=!0;const e=new Blob([t],{type:r.mimeType});return a=s.createObjectURL(e),a}));else if(void 0===r.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const h=Promise.resolve(a).then((function(t){return new Promise((function(n,r){let s=n;!0===e.isImageBitmapLoader&&(s=function(t){const e=new K(t);e.needsUpdate=!0,n(e)}),e.load(Ur.resolveURL(t,i.path),s,void 0,r)}))})).then((function(t){var e;return!0===o&&s.revokeObjectURL(a),ea(t,r),t.userData.mimeType=r.mimeType||((e=r.uri).search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/)?"image/jpeg":e.search(/\.webp($|\?)/i)>0||0===e.search(/^data\:image\/webp/)?"image/webp":"image/png"),t})).catch((function(t){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),t}));return this.sourceCache[t]=h,h}assignTexture(t,e,n,i){const r=this;return this.getDependency("texture",n.index).then((function(s){if(!s)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((s=s.clone()).channel=n.texCoord),r.extensions[us]){const t=void 0!==n.extensions?n.extensions[us]:void 0;if(t){const e=r.associations.get(s);s=r.extensions[us].extendTexture(s,t),r.associations.set(s,e)}}return void 0!==i&&(s.colorSpace=i),t[e]=s,s}))}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const i=void 0===e.attributes.tangent,r=void 0!==e.attributes.color,s=void 0===e.attributes.normal;if(t.isPoints){const t="PointsMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new Hi,we.prototype.copy.call(e,n),e.color.copy(n.color),e.map=n.map,e.sizeAttenuation=!1,this.cache.add(t,e)),n=e}else if(t.isLine){const t="LineBasicMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new ki,we.prototype.copy.call(e,n),e.color.copy(n.color),e.map=n.map,this.cache.add(t,e)),n=e}if(i||r||s){let t="ClonedMaterial:"+n.uuid+":";i&&(t+="derivative-tangents:"),r&&(t+="vertex-colors:"),s&&(t+="flat-shading:");let e=this.cache.get(t);e||(e=n.clone(),r&&(e.vertexColors=!0),s&&(e.flatShading=!0),i&&(e.normalScale&&(e.normalScale.y*=-1),e.clearcoatNormalScale&&(e.clearcoatNormalScale.y*=-1)),this.cache.add(t,e),this.associations.set(e,this.associations.get(n))),n=e}t.material=n}getMaterialType(){return Qi}loadMaterial(t){const e=this,n=this.json,i=this.extensions,r=n.materials[t];let s;const a={},o=[];if((r.extensions||{})[hs]){const t=i[hs];s=t.getMaterialType(),o.push(t.extendParams(a,r,e))}else{const n=r.pbrMetallicRoughness||{};if(a.color=new xe(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)){const t=n.baseColorFactor;a.color.setRGB(t[0],t[1],t[2],d),a.opacity=t[3]}void 0!==n.baseColorTexture&&o.push(e.assignTexture(a,"map",n.baseColorTexture,u)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(o.push(e.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),o.push(e.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture))),s=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),o.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,a)}))))}!0===r.doubleSided&&(a.side=2);const h=r.alphaMode||"OPAQUE";if("BLEND"===h?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===h&&(a.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&s!==Me&&(o.push(e.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new P(1,1),void 0!==r.normalTexture.scale)){const t=r.normalTexture.scale;a.normalScale.set(t,t)}if(void 0!==r.occlusionTexture&&s!==Me&&(o.push(e.assignTexture(a,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(a.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&s!==Me){const t=r.emissiveFactor;a.emissive=(new xe).setRGB(t[0],t[1],t[2],d)}return void 0!==r.emissiveTexture&&s!==Me&&o.push(e.assignTexture(a,"emissiveMap",r.emissiveTexture,u)),Promise.all(o).then((function(){const n=new s(a);return r.name&&(n.name=r.name),ea(n,r),e.associations.set(n,{materials:t}),r.extensions&&ta(i,n,r),n}))}createUniqueName(t){const e=Yr.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,n=this.extensions,i=this.primitiveCache;function r(t){return n[Kr].decodePrimitive(t,e).then((function(n){return ha(n,t,e)}))}const s=[];for(let n=0,a=t.length;n<a;n++){const a=t[n],o=ia(a),h=i[o];if(h)s.push(h.promise);else{let t;t=a.extensions&&a.extensions[Kr]?r(a):ha(new Ne,a,e),i[o]={primitive:a,promise:t},s.push(t)}}return Promise.all(s)}loadMesh(t){const e=this,n=this.json,i=this.extensions,r=n.meshes[t],s=r.primitives,a=[];for(let t=0,e=s.length;t<e;t++){const e=void 0===s[t].material?$s(this.cache):this.getDependency("material",s[t].material);a.push(e)}return a.push(e.loadGeometries(s)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),o=n[n.length-1],h=[];for(let n=0,l=o.length;n<l;n++){const l=o[n],c=s[n];let u;const d=a[n];if(c.mode===qs.TRIANGLES||c.mode===qs.TRIANGLE_STRIP||c.mode===qs.TRIANGLE_FAN||void 0===c.mode)u=!0===r.isSkinnedMesh?new fi(l,d):new nn(l,d),!0===u.isSkinnedMesh&&u.normalizeSkinWeights(),c.mode===qs.TRIANGLE_STRIP?u.geometry=Zr(u.geometry,1):c.mode===qs.TRIANGLE_FAN&&(u.geometry=Zr(u.geometry,2));else if(c.mode===qs.LINES)u=new ji(l,d);else if(c.mode===qs.LINE_STRIP)u=new Ni(l,d);else if(c.mode===qs.LINE_LOOP)u=new Wi(l,d);else{if(c.mode!==qs.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);u=new Zi(l,d)}Object.keys(u.geometry.morphAttributes).length>0&&na(u,r),u.name=e.createUniqueName(r.name||"mesh_"+t),ea(u,r),c.extensions&&ta(i,u,c),e.assignFinalMaterial(u),h.push(u)}for(let n=0,i=h.length;n<i;n++)e.associations.set(h[n],{meshes:t,primitives:n});if(1===h.length)return r.extensions&&ta(i,h[0],r),h[0];const l=new ni;r.extensions&&ta(i,l,r),e.associations.set(l,{meshes:t});for(let t=0,e=h.length;t<e;t++)l.add(h[t]);return l}))}loadCamera(t){let e;const n=this.json.cameras[t],i=n[n.type];if(i)return"perspective"===n.type?e=new un(z(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(e=new ei(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),ea(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],n=[];for(let t=0,i=e.joints.length;t<i;t++)n.push(this._loadNodeShallow(e.joints[t]));return void 0!==e.inverseBindMatrices?n.push(this.getDependency("accessor",e.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(t){const n=t.pop(),i=t,r=[],s=[];for(let t=0,a=i.length;t<a;t++){const a=i[t];if(a){r.push(a);const e=new It;null!==n&&e.fromArray(n.array,16*t),s.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[t])}return new xi(r,s)}))}loadAnimation(t){const e=this.json,n=this,i=e.animations[t],r=i.name?i.name:"animation_"+t,s=[],a=[],o=[],h=[],l=[];for(let t=0,e=i.channels.length;t<e;t++){const e=i.channels[t],n=i.samplers[e.sampler],r=e.target,c=r.node,u=void 0!==i.parameters?i.parameters[n.input]:n.input,d=void 0!==i.parameters?i.parameters[n.output]:n.output;void 0!==r.node&&(s.push(this.getDependency("node",c)),a.push(this.getDependency("accessor",u)),o.push(this.getDependency("accessor",d)),h.push(n),l.push(r))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(o),Promise.all(h),Promise.all(l)]).then((function(t){const e=t[0],i=t[1],s=t[2],a=t[3],o=t[4],h=[];for(let t=0,r=e.length;t<r;t++){const r=e[t],l=i[t],c=s[t],u=a[t],d=o[t];if(void 0===r)continue;r.updateMatrix&&r.updateMatrix();const p=n._createAnimationTracks(r,l,c,u,d);if(p)for(let t=0;t<p.length;t++)h.push(p[t])}return new fr(r,void 0,h)}))}createNodeMesh(t){const e=this.json,n=this,i=e.nodes[t];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then((function(t){const e=n._getNodeRef(n.meshCache,i.mesh,t);return void 0!==i.weights&&e.traverse((function(t){if(t.isMesh)for(let e=0,n=i.weights.length;e<n;e++)t.morphTargetInfluences[e]=i.weights[e]})),e}))}loadNode(t){const e=this,n=this.json.nodes[t],i=e._loadNodeShallow(t),r=[],s=n.children||[];for(let t=0,n=s.length;t<n;t++)r.push(e.getDependency("node",s[t]));const a=void 0===n.skin?Promise.resolve(null):e.getDependency("skin",n.skin);return Promise.all([i,Promise.all(r),a]).then((function(t){const e=t[0],n=t[1],i=t[2];null!==i&&e.traverse((function(t){t.isSkinnedMesh&&t.bind(i,aa)}));for(let t=0,i=n.length;t<i;t++)e.add(n[t]);return e}))}_loadNodeShallow(t){const e=this.json,n=this.extensions,i=this;if(void 0!==this.nodeCache[t])return this.nodeCache[t];const r=e.nodes[t],s=r.name?i.createUniqueName(r.name):"",a=[],o=i._invokeOne((function(e){return e.createNodeMesh&&e.createNodeMesh(t)}));return o&&a.push(o),void 0!==r.camera&&a.push(i.getDependency("camera",r.camera).then((function(t){return i._getNodeRef(i.cameraCache,r.camera,t)}))),i._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){a.push(t)})),this.nodeCache[t]=Promise.all(a).then((function(e){let a;if(a=!0===r.isBone?new gi:e.length>1?new ni:1===e.length?e[0]:new re,a!==e[0])for(let t=0,n=e.length;t<n;t++)a.add(e[t]);if(r.name&&(a.userData.name=r.name,a.name=s),ea(a,r),r.extensions&&ta(n,a,r),void 0!==r.matrix){const t=new It;t.fromArray(r.matrix),a.applyMatrix4(t)}else void 0!==r.translation&&a.position.fromArray(r.translation),void 0!==r.rotation&&a.quaternion.fromArray(r.rotation),void 0!==r.scale&&a.scale.fromArray(r.scale);return i.associations.has(a)||i.associations.set(a,{}),i.associations.get(a).nodes=t,a})),this.nodeCache[t]}loadScene(t){const e=this.extensions,n=this.json.scenes[t],i=this,r=new ni;n.name&&(r.name=i.createUniqueName(n.name)),ea(r,n),n.extensions&&ta(e,r,n);const s=n.nodes||[],a=[];for(let t=0,e=s.length;t<e;t++)a.push(i.getDependency("node",s[t]));return Promise.all(a).then((function(t){for(let e=0,n=t.length;e<n;e++)r.add(t[e]);return i.associations=(t=>{const e=new Map;for(const[t,n]of i.associations)(t instanceof we||t instanceof K)&&e.set(t,n);return t.traverse((t=>{const n=i.associations.get(t);null!=n&&e.set(t,n)})),e})(r),r}))}_createAnimationTracks(t,e,n,i,r){const s=[],a=t.name?t.name:t.uuid,o=[];let h;switch(Qs[r.path]===Qs.weights?t.traverse((function(t){t.morphTargetInfluences&&o.push(t.name?t.name:t.uuid)})):o.push(a),Qs[r.path]){case Qs.weights:h=cr;break;case Qs.rotation:h=dr;break;case Qs.position:case Qs.scale:h=mr;break;default:h=1===n.itemSize?cr:mr}const c=void 0!==i.interpolation?Ks[i.interpolation]:l,u=this._getArrayFromAccessor(n);for(let t=0,n=o.length;t<n;t++){const n=new h(o[t]+"."+Qs[r.path],e.array,u,c);"CUBICSPLINE"===i.interpolation&&this._createCubicSplineTrackInterpolant(n),s.push(n)}return s}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const t=sa(e.constructor),n=new Float32Array(e.length);for(let i=0,r=e.length;i<r;i++)n[i]=e[i]*t;e=n}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(t){return new(this instanceof dr?Hs:js)(this.times,this.values,this.getValueSize()/3,t)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ha(t,e,n){const i=e.attributes,r=[];function s(e,i){return n.getDependency("accessor",e).then((function(e){t.setAttribute(i,e)}))}for(const e in i){const n=Js[e]||e.toLowerCase();n in t.attributes||r.push(s(i[e],n))}if(void 0!==e.indices&&!t.index){const i=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));r.push(i)}return W.workingColorSpace!==d&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${W.workingColorSpace}" not supported.`),ea(t,e),function(t,e,n){const i=e.attributes,r=new rt;if(void 0===i.POSITION)return;{const t=n.json.accessors[i.POSITION],e=t.min,s=t.max;if(void 0===e||void 0===s)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new et(e[0],e[1],e[2]),new et(s[0],s[1],s[2])),t.normalized){const e=sa(Gs[t.componentType]);r.min.multiplyScalar(e),r.max.multiplyScalar(e)}}const s=e.targets;if(void 0!==s){const t=new et,e=new et;for(let i=0,r=s.length;i<r;i++){const r=s[i];if(void 0!==r.POSITION){const i=n.json.accessors[r.POSITION],s=i.min,a=i.max;if(void 0!==s&&void 0!==a){if(e.setX(Math.max(Math.abs(s[0]),Math.abs(a[0]))),e.setY(Math.max(Math.abs(s[1]),Math.abs(a[1]))),e.setZ(Math.max(Math.abs(s[2]),Math.abs(a[2]))),i.normalized){const t=sa(Gs[i.componentType]);e.multiplyScalar(t)}t.max(e)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(t)}t.boundingBox=r;const a=new At;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=a}(t,e,n),Promise.all(r).then((function(){return void 0!==e.targets?function(t,e,n){let i=!1,r=!1,s=!1;for(let t=0,n=e.length;t<n;t++){const n=e[t];if(void 0!==n.POSITION&&(i=!0),void 0!==n.NORMAL&&(r=!0),void 0!==n.COLOR_0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(t);const a=[],o=[],h=[];for(let l=0,c=e.length;l<c;l++){const c=e[l];if(i){const e=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):t.attributes.position;a.push(e)}if(r){const e=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):t.attributes.normal;o.push(e)}if(s){const e=void 0!==c.COLOR_0?n.getDependency("accessor",c.COLOR_0):t.attributes.color;h.push(e)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(h)]).then((function(e){const n=e[0],a=e[1],o=e[2];return i&&(t.morphAttributes.position=n),r&&(t.morphAttributes.normal=a),s&&(t.morphAttributes.color=o),t.morphTargetsRelative=!0,t}))}(t,e.targets,n):t}))}const la=new WeakMap;function ca(){let t,e;function n(t,e,n,i,r,s){const a=s.num_components(),o=n.num_points()*a,h=o*r.BYTES_PER_ELEMENT,l=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32}}(t,r),c=t._malloc(h);e.GetAttributeDataArrayForAllPoints(n,s,l,h,c);const u=new r(t.HEAPF32.buffer,c,o).slice();return t._free(c),{name:i,array:u,itemSize:a}}onmessage=function(i){const r=i.data;switch(r.type){case"init":t=r.decoderConfig,e=new Promise((function(e){t.onModuleLoaded=function(t){e({draco:t})},DracoDecoderModule(t)}));break;case"decode":const i=r.buffer,s=r.taskConfig;e.then((t=>{const e=t.draco,a=new e.Decoder;try{const t=function(t,e,i,r){const s=r.attributeIDs,a=r.attributeTypes;let o,h;const l=e.GetEncodedGeometryType(i);if(l===t.TRIANGULAR_MESH)o=new t.Mesh,h=e.DecodeArrayToMesh(i,i.byteLength,o);else{if(l!==t.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new t.PointCloud,h=e.DecodeArrayToPointCloud(i,i.byteLength,o)}if(!h.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const c={index:null,attributes:[]};for(const i in s){const h=self[a[i]];let l,u;if(r.useUniqueIDs)u=s[i],l=e.GetAttributeByUniqueId(o,u);else{if(u=e.GetAttributeId(o,t[s[i]]),-1===u)continue;l=e.GetAttribute(o,u)}const d=n(t,e,o,i,h,l);"color"===i&&(d.vertexColorSpace=r.vertexColorSpace),c.attributes.push(d)}return l===t.TRIANGULAR_MESH&&(c.index=function(t,e,n){const i=3*n.num_faces(),r=4*i,s=t._malloc(r);e.GetTrianglesUInt32Array(n,r,s);const a=new Uint32Array(t.HEAPF32.buffer,s,i).slice();return t._free(s),{array:a,itemSize:1}}(t,e,o)),t.destroy(o),c}(e,a,new Int8Array(i),s),o=t.attributes.map((t=>t.array.buffer));t.index&&o.push(t.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:t},o)}catch(t){console.error(t),self.postMessage({type:"error",id:r.id,error:t.message})}finally{e.destroy(a)}}))}}}function ua(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function da(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var pa,ma,fa,ga,ya,_a,va,xa,ba,Aa,wa,Ma,Ta,Ca,Sa,Ba,Ea,ka={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ia={duration:.5,overwrite:!1,delay:0},za=1e8,Pa=1e-8,Ra=2*Math.PI,Oa=Ra/4,La=0,Da=Math.sqrt,Na=Math.cos,Fa=Math.sin,Ua=function(t){return"string"==typeof t},Va=function(t){return"function"==typeof t},ja=function(t){return"number"==typeof t},Wa=function(t){return void 0===t},Ha=function(t){return"object"==typeof t},qa=function(t){return!1!==t},Ga=function(){return"undefined"!=typeof window},Xa=function(t){return Va(t)||Ua(t)},Ya="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Za=Array.isArray,Ja=/(?:-?\.?\d|\.)+/gi,Qa=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ka=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,$a=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,to=/[+-]=-?[.\d]+/,eo=/[^,'"\[\]\s]+/gi,no=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,io={},ro={},so=function(t){return(ro=Oo(t,io))&&Ol},ao=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},oo=function(t,e){return!e&&console.warn(t)},ho=function(t,e){return t&&(io[t]=e)&&ro&&(ro[t]=e)||io},lo=function(){return 0},co={suppressEvents:!0,isStart:!0,kill:!1},uo={suppressEvents:!0,kill:!1},po={suppressEvents:!0},mo={},fo=[],go={},yo={},_o={},vo=30,xo=[],bo="",Ao=function(t){var e,n,i=t[0];if(Ha(i)||Va(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=xo.length;n--&&!xo[n].targetTest(i););e=xo[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Zh(t[n],e)))||t.splice(n,1);return t},wo=function(t){return t._gsap||Ao(dh(t))[0]._gsap},Mo=function(t,e,n){return(n=t[e])&&Va(n)?t[e]():Wa(n)&&t.getAttribute&&t.getAttribute(e)||n},To=function(t,e){return(t=t.split(",")).forEach(e)||t},Co=function(t){return Math.round(1e5*t)/1e5||0},So=function(t){return Math.round(1e7*t)/1e7||0},Bo=function(t,e){var n=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+i:"-"===n?t-i:"*"===n?t*i:t/i},Eo=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},ko=function(){var t,e,n=fo.length,i=fo.slice(0);for(go={},fo.length=0,t=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Io=function(t,e,n,i){fo.length&&!ma&&ko(),t.render(e,n,i||ma&&e<0&&(t._initted||t._startAt)),fo.length&&!ma&&ko()},zo=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(eo).length<2?e:Ua(t)?t.trim():t},Po=function(t){return t},Ro=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Oo=function(t,e){for(var n in e)t[n]=e[n];return t},Lo=function t(e,n){for(var i in n)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=Ha(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},Do=function(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i},No=function(t){var e,n=t.parent||ga,i=t.keyframes?(e=Za(t.keyframes),function(t,n){for(var i in n)i in t||"duration"===i&&e||"ease"===i||(t[i]=n[i])}):Ro;if(qa(t.inherit))for(;n;)i(t,n.vars.defaults),n=n.parent||n._dp;return t},Fo=function(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var s,a=t[i];if(r)for(s=e[r];a&&a[r]>s;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=a,e.parent=e._dp=t,e},Uo=function(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,s=e._next;r?r._next=s:t[n]===e&&(t[n]=s),s?s._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null},Vo=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},jo=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Wo=function(t,e,n,i){return t._startAt&&(ma?t._startAt.revert(uo):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,i))},Ho=function t(e){return!e||e._ts&&t(e.parent)},qo=function(t){return t._repeat?Go(t._tTime,t=t.duration()+t._rDelay)*t:0},Go=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Xo=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Yo=function(t){return t._end=So(t._start+(t._tDur/Math.abs(t._ts||t._rts||Pa)||0))},Zo=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=So(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Yo(t),n._dirty||jo(n,t)),t},Jo=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Xo(t.rawTime(),e),(!e._dur||hh(0,e.totalDuration(),n)-e._tTime>Pa)&&e.render(n,!0)),jo(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Qo=function(t,e,n,i){return e.parent&&Vo(e),e._start=So((ja(n)?n:n||t!==ga?sh(t,n,e):t._time)+e._delay),e._end=So(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Fo(t,e,"_first","_last",t._sort?"_start":0),eh(e)||(t._recent=e),i||Jo(t,e),t._ts<0&&Zo(t,t._tTime),t},Ko=function(t,e){return(io.ScrollTrigger||ao("scrollTrigger",e))&&io.ScrollTrigger.create(e,t)},$o=function(t,e,n,i,r){return il(t,e,r),t._initted?!n&&t._pt&&!ma&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&ba!==Lh.frame?(fo.push(t),t._lazy=[r,i],1):void 0:1},th=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},eh=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},nh=function(t,e,n,i){var r=t._repeat,s=So(e)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=s/t._dur),t._dur=s,t._tDur=r?r<0?1e10:So(s*(r+1)+t._rDelay*r):s,a>0&&!i&&Zo(t,t._tTime=t._tDur*a),t.parent&&Yo(t),n||jo(t.parent,t),t},ih=function(t){return t instanceof Qh?jo(t):nh(t,t._dur)},rh={_start:0,endTime:lo,totalDuration:lo},sh=function t(e,n,i){var r,s,a,o=e.labels,h=e._recent||rh,l=e.duration()>=za?h.endTime(!1):e._dur;return Ua(n)&&(isNaN(n)||n in o)?(s=n.charAt(0),a="%"===n.substr(-1),r=n.indexOf("="),"<"===s||">"===s?(r>=0&&(n=n.replace(/=/,"")),("<"===s?h._start:h.endTime(h._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(r<0?h:i).totalDuration()/100:1)):r<0?(n in o||(o[n]=l),o[n]):(s=parseFloat(n.charAt(r-1)+n.substr(r+1)),a&&i&&(s=s/100*(Za(i)?i[0]:i).totalDuration()),r>1?t(e,n.substr(0,r-1),i)+s:l+s)):null==n?l:+n},ah=function(t,e,n){var i,r,s=ja(e[1]),a=(s?2:1)+(t<2?0:1),o=e[a];if(s&&(o.duration=e[1]),o.parent=n,t){for(i=o,r=n;r&&!("immediateRender"in i);)i=r.vars.defaults||{},r=qa(r.vars.inherit)&&r.parent;o.immediateRender=qa(i.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return new hl(e[0],o,e[a+1])},oh=function(t,e){return t||0===t?e(t):e},hh=function(t,e,n){return n<t?t:n>e?e:n},lh=function(t,e){return Ua(t)&&(e=no.exec(t))?e[1]:""},ch=[].slice,uh=function(t,e){return t&&Ha(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Ha(t[0]))&&!t.nodeType&&t!==ya},dh=function(t,e,n){return fa&&!e&&fa.selector?fa.selector(t):!Ua(t)||n||!_a&&Dh()?Za(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var i;return Ua(t)&&!e||uh(t,1)?(i=n).push.apply(i,dh(t)):n.push(t)}))||n}(t,n):uh(t)?ch.call(t,0):t?[t]:[]:ch.call((e||va).querySelectorAll(t),0)},ph=function(t){return t=dh(t)[0]||oo("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return dh(e,n.querySelectorAll?n:n===t?oo("Invalid scope")||va.createElement("div"):t)}},mh=function(t){return t.sort((function(){return.5-Math.random()}))},fh=function(t){if(Va(t))return t;var e=Ha(t)?t:{each:t},n=Hh(e.ease),i=e.from||0,r=parseFloat(e.base)||0,s={},a=i>0&&i<1,o=isNaN(i)||a,h=e.axis,l=i,c=i;return Ua(i)?l=c={center:.5,edges:.5,end:1}[i]||0:!a&&o&&(l=i[0],c=i[1]),function(t,a,u){var d,p,m,f,g,y,_,v,x,b=(u||e).length,A=s[b];if(!A){if(!(x="auto"===e.grid?0:(e.grid||[1,za])[1])){for(_=-za;_<(_=u[x++].getBoundingClientRect().left)&&x<b;);x<b&&x--}for(A=s[b]=[],d=o?Math.min(x,b)*l-.5:i%x,p=x===za?0:o?b*c/x-.5:i/x|0,_=0,v=za,y=0;y<b;y++)m=y%x-d,f=p-(y/x|0),A[y]=g=h?Math.abs("y"===h?f:m):Da(m*m+f*f),g>_&&(_=g),g<v&&(v=g);"random"===i&&mh(A),A.max=_-v,A.min=v,A.v=b=(parseFloat(e.amount)||parseFloat(e.each)*(x>b?b-1:h?"y"===h?b/x:x:Math.max(x,b/x))||0)*("edges"===i?-1:1),A.b=b<0?r-b:r,A.u=lh(e.amount||e.each)||0,n=n&&b<0?jh(n):n}return b=(A[t]-A.min)/A.max||0,So(A.b+(n?n(b):b)*A.v)+A.u}},gh=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var i=So(Math.round(parseFloat(n)/t)*t*e);return(i-i%1)/e+(ja(n)?0:lh(n))}},yh=function(t,e){var n,i,r=Za(t);return!r&&Ha(t)&&(n=r=t.radius||za,t.values?(t=dh(t.values),(i=!ja(t[0]))&&(n*=n)):t=gh(t.increment)),oh(e,r?Va(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){for(var r,s,a=parseFloat(i?e.x:e),o=parseFloat(i?e.y:0),h=za,l=0,c=t.length;c--;)(r=i?(r=t[c].x-a)*r+(s=t[c].y-o)*s:Math.abs(t[c]-a))<h&&(h=r,l=c);return l=!n||h<=n?t[l]:e,i||l===e||ja(e)?l:l+lh(e)}:gh(t))},_h=function(t,e,n,i){return oh(Za(t)?!e:!0===n?!!(n=0):!i,(function(){return Za(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i}))},vh=function(t,e,n){return oh(n,(function(n){return t[~~e(n)]}))},xh=function(t){for(var e,n,i,r,s=0,a="";~(e=t.indexOf("random(",s));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?eo:Ja),a+=t.substr(s,e-s)+_h(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),s=i+1;return a+t.substr(s,t.length-s)},bh=function(t,e,n,i,r){var s=e-t,a=i-n;return oh(r,(function(e){return n+((e-t)/s*a||0)}))},Ah=function(t,e,n){var i,r,s,a=t.labels,o=za;for(i in a)(r=a[i]-e)<0==!!n&&r&&o>(r=Math.abs(r))&&(s=i,o=r);return s},wh=function(t,e,n){var i,r,s,a=t.vars,o=a[e],h=fa,l=t._ctx;if(o)return i=a[e+"Params"],r=a.callbackScope||t,n&&fo.length&&ko(),l&&(fa=l),s=i?o.apply(r,i):o.call(r),fa=h,s},Mh=function(t){return Vo(t),t.scrollTrigger&&t.scrollTrigger.kill(!!ma),t.progress()<1&&wh(t,"onInterrupt"),t},Th=[],Ch=function(t){if(t)if(t=!t.name&&t.default||t,Ga()||t.headless){var e=t.name,n=Va(t),i=e&&!n&&t.init?function(){this._props=[]}:t,r={init:lo,render:yl,add:el,kill:vl,modifier:_l,rawVars:0},s={targetTest:0,get:0,getSetter:pl,aliases:{},register:0};if(Dh(),t!==i){if(yo[e])return;Ro(i,Ro(Do(t,r),s)),Oo(i.prototype,Oo(r,Do(t,s))),yo[i.prop=e]=i,t.targetTest&&(xo.push(i),mo[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ho(e,i),t.register&&t.register(Ol,i,Al)}else Th.push(t)},Sh=255,Bh={aqua:[0,Sh,Sh],lime:[0,Sh,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Sh],navy:[0,0,128],white:[Sh,Sh,Sh],olive:[128,128,0],yellow:[Sh,Sh,0],orange:[Sh,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Sh,0,0],pink:[Sh,192,203],cyan:[0,Sh,Sh],transparent:[Sh,Sh,Sh,0]},Eh=function(t,e,n){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*Sh+.5|0},kh=function(t,e,n){var i,r,s,a,o,h,l,c,u,d,p=t?ja(t)?[t>>16,t>>8&Sh,t&Sh]:0:Bh.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Bh[t])p=Bh[t];else if("#"===t.charAt(0)){if(t.length<6&&(i=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t="#"+i+i+r+r+s+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Sh,p&Sh,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Sh,t&Sh]}else if("hsl"===t.substr(0,3))if(p=d=t.match(Ja),e){if(~t.indexOf("="))return p=t.match(Qa),n&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,o=+p[1]/100,i=2*(h=+p[2]/100)-(r=h<=.5?h*(o+1):h+o-h*o),p.length>3&&(p[3]*=1),p[0]=Eh(a+1/3,i,r),p[1]=Eh(a,i,r),p[2]=Eh(a-1/3,i,r);else p=t.match(Ja)||Bh.transparent;p=p.map(Number)}return e&&!d&&(i=p[0]/Sh,r=p[1]/Sh,s=p[2]/Sh,h=((l=Math.max(i,r,s))+(c=Math.min(i,r,s)))/2,l===c?a=o=0:(u=l-c,o=h>.5?u/(2-l-c):u/(l+c),a=l===i?(r-s)/u+(r<s?6:0):l===r?(s-i)/u+2:(i-r)/u+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*o+.5),p[2]=~~(100*h+.5)),n&&p.length<4&&(p[3]=1),p},Ih=function(t){var e=[],n=[],i=-1;return t.split(Ph).forEach((function(t){var r=t.match(Ka)||[];e.push.apply(e,r),n.push(i+=r.length+1)})),e.c=n,e},zh=function(t,e,n){var i,r,s,a,o="",h=(t+o).match(Ph),l=e?"hsla(":"rgba(",c=0;if(!h)return t;if(h=h.map((function(t){return(t=kh(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(s=Ih(t),(i=n.c).join(o)!==s.c.join(o)))for(a=(r=t.replace(Ph,"1").split(Ka)).length-1;c<a;c++)o+=r[c]+(~i.indexOf(c)?h.shift()||l+"0,0,0,0)":(s.length?s:h.length?h:n).shift());if(!r)for(a=(r=t.split(Ph)).length-1;c<a;c++)o+=r[c]+h[c];return o+r[a]},Ph=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Bh)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Rh=/hsl[a]?\(/,Oh=function(t){var e,n=t.join(" ");if(Ph.lastIndex=0,Ph.test(n))return e=Rh.test(n),t[1]=zh(t[1],e),t[0]=zh(t[0],e,Ih(t[1])),!0},Lh=function(){var t,e,n,i,r,s,a=Date.now,o=500,h=33,l=a(),c=l,u=1e3/240,d=u,p=[],m=function n(m){var f,g,y,_,v=a()-c,x=!0===m;if((v>o||v<0)&&(l+=v-h),((f=(y=(c+=v)-l)-d)>0||x)&&(_=++i.frame,r=y-1e3*i.time,i.time=y/=1e3,d+=f+(f>=u?4:u-f),g=1),x||(t=e(n)),g)for(s=0;s<p.length;s++)p[s](y,r,_,m)};return i={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(t){return r/(1e3/(t||60))},wake:function(){xa&&(!_a&&Ga()&&(ya=_a=window,va=ya.document||{},io.gsap=Ol,(ya.gsapVersions||(ya.gsapVersions=[])).push(Ol.version),so(ro||ya.GreenSockGlobals||!ya.gsap&&ya||{}),Th.forEach(Ch)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&i.sleep(),e=n||function(t){return setTimeout(t,d-1e3*i.time+1|0)},wa=1,m(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),wa=0,e=lo},lagSmoothing:function(t,e){o=t||1/0,h=Math.min(e||33,o)},fps:function(t){u=1e3/(t||240),d=1e3*i.time+u},add:function(t,e,n){var r=e?function(e,n,s,a){t(e,n,s,a),i.remove(r)}:t;return i.remove(t),p[n?"unshift":"push"](r),Dh(),r},remove:function(t,e){~(e=p.indexOf(t))&&p.splice(e,1)&&s>=e&&s--},_listeners:p}}(),Dh=function(){return!wa&&Lh.wake()},Nh={},Fh=/^[\d.\-M][\d.\-,\s]/,Uh=/["']/g,Vh=function(t){for(var e,n,i,r={},s=t.substr(1,t.length-3).split(":"),a=s[0],o=1,h=s.length;o<h;o++)n=s[o],e=o!==h-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[a]=isNaN(i)?i.replace(Uh,"").trim():+i,a=n.substr(e+1).trim();return r},jh=function(t){return function(e){return 1-t(1-e)}},Wh=function t(e,n){for(var i,r=e._first;r;)r instanceof Qh?t(r,n):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===n||(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Hh=function(t,e){return t&&(Va(t)?t:Nh[t]||function(t){var e,n,i,r,s=(t+"").split("("),a=Nh[s[0]];return a&&s.length>1&&a.config?a.config.apply(null,~t.indexOf("{")?[Vh(s[1])]:(e=t,n=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",n),e.substring(n,~r&&r<i?e.indexOf(")",i+1):i)).split(",").map(zo)):Nh._CE&&Fh.test(t)?Nh._CE("",t):a}(t))||e},qh=function(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,s={easeIn:e,easeOut:n,easeInOut:i};return To(t,(function(t){for(var e in Nh[t]=io[t]=s,Nh[r=t.toLowerCase()]=n,s)Nh[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Nh[t+"."+e]=s[e]})),s},Gh=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Xh=function t(e,n,i){var r=n>=1?n:1,s=(i||(e?.3:.45))/(n<1?n:1),a=s/Ra*(Math.asin(1/r)||0),o=function(t){return 1===t?1:r*Math.pow(2,-10*t)*Fa((t-a)*s)+1},h="out"===e?o:"in"===e?function(t){return 1-o(1-t)}:Gh(o);return s=Ra/s,h.config=function(n,i){return t(e,n,i)},h},Yh=function t(e,n){void 0===n&&(n=1.70158);var i=function(t){return t?--t*t*((n+1)*t+n)+1:0},r="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:Gh(i);return r.config=function(n){return t(e,n)},r};To("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;qh(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Nh.Linear.easeNone=Nh.none=Nh.Linear.easeIn,qh("Elastic",Xh("in"),Xh("out"),Xh()),Ma=7.5625,Sa=2*(Ca=1/(Ta=2.75)),Ba=2.5*Ca,qh("Bounce",(function(t){return 1-Ea(1-t)}),Ea=function(t){return t<Ca?Ma*t*t:t<Sa?Ma*Math.pow(t-1.5/Ta,2)+.75:t<Ba?Ma*(t-=2.25/Ta)*t+.9375:Ma*Math.pow(t-2.625/Ta,2)+.984375}),qh("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),qh("Circ",(function(t){return-(Da(1-t*t)-1)})),qh("Sine",(function(t){return 1===t?1:1-Na(t*Oa)})),qh("Back",Yh("in"),Yh("out"),Yh()),Nh.SteppedEase=Nh.steps=io.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0;return function(t){return((i*hh(0,.99999999,t)|0)+r)*n}}},Ia.ease=Nh["quad.out"],To("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return bo+=t+","+t+"Params,"}));var Zh=function(t,e){this.id=La++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Mo,this.set=e?e.getSetter:pl},Jh=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,nh(this,+t.duration,1,1),this.data=t.data,fa&&(this._ctx=fa,fa.data.push(this)),wa||Lh.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,nh(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Dh(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Zo(this,t),!n._dp||n.parent||Jo(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Qo(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Pa||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Io(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+qo(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+qo(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Go(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?Xo(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(hh(-Math.abs(this._delay),this._tDur,n),!1!==e),Yo(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Dh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Pa&&(this._tTime-=Pa)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Qo(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(qa(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Xo(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=po);var e=ma;return ma=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),ma=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,ih(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,ih(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(sh(this,t),qa(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,qa(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-Pa))},e.eventCallback=function(t,e,n){var i=this.vars;return arguments.length>1?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(t){var e=this;return new Promise((function(n){var i=Va(t)?t:Po,r=function(){var t=e.then;e.then=null,Va(i)&&(i=i(e))&&(i.then||i===e)&&(e.then=t),n(i),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r}))},e.kill=function(){Mh(this)},t}();Ro(Jh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Qh=function(t){function e(e,n){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=qa(e.sortChildren),ga&&Qo(e.parent||ga,ua(i),n),e.reversed&&i.reverse(),e.paused&&i.paused(!0),e.scrollTrigger&&Ko(ua(i),e.scrollTrigger),i}da(e,t);var n=e.prototype;return n.to=function(t,e,n){return ah(0,arguments,this),this},n.from=function(t,e,n){return ah(1,arguments,this),this},n.fromTo=function(t,e,n,i){return ah(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,No(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new hl(t,e,sh(this,n),1),this},n.call=function(t,e,n){return Qo(this,hl.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,i,r,s,a){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=s,n.onCompleteParams=a,n.parent=this,new hl(t,n,sh(this,r)),this},n.staggerFrom=function(t,e,n,i,r,s,a){return n.runBackwards=1,No(n).immediateRender=qa(n.immediateRender),this.staggerTo(t,e,n,i,r,s,a)},n.staggerFromTo=function(t,e,n,i,r,s,a,o){return i.startAt=n,No(i).immediateRender=qa(i.immediateRender),this.staggerTo(t,e,i,r,s,a,o)},n.render=function(t,e,n){var i,r,s,a,o,h,l,c,u,d,p,m,f=this._time,g=this._dirty?this.totalDuration():this._tDur,y=this._dur,_=t<=0?0:So(t),v=this._zTime<0!=t<0&&(this._initted||!y);if(this!==ga&&_>g&&t>=0&&(_=g),_!==this._tTime||n||v){if(f!==this._time&&y&&(_+=this._time-f,t+=this._time-f),i=_,u=this._start,h=!(c=this._ts),v&&(y||(f=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,o=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,n);if(i=So(_%o),_===g?(a=this._repeat,i=y):((a=~~(_/o))&&a===_/o&&(i=y,a--),i>y&&(i=y)),d=Go(this._tTime,o),!f&&this._tTime&&d!==a&&this._tTime-d*o-this._dur<=0&&(d=a),p&&1&a&&(i=y-i,m=1),a!==d&&!this._lock){var x=p&&1&d,b=x===(p&&1&a);if(a<d&&(x=!x),f=x?0:_%y?y:_,this._lock=1,this.render(f||(m?0:So(a*o)),e,!y)._lock=0,this._tTime=_,!e&&this.parent&&wh(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),f&&f!==this._time||h!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,g=this._tDur,b&&(this._lock=2,f=x?y:-1e-4,this.render(f,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!h)return this;Wh(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,n){var i;if(n>e)for(i=t._first;i&&i._start<=n;){if("isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if("isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,So(f),So(i)),l&&(_-=i-(i=l._start))),this._tTime=_,this._time=i,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,f=0),!f&&i&&!e&&!a&&(wh(this,"onStart"),this._tTime!==_))return this;if(i>=f&&t>=0)for(r=this._first;r;){if(s=r._next,(r._act||i>=r._start)&&r._ts&&l!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!h){l=0,s&&(_+=this._zTime=-1e-8);break}}r=s}else{r=this._last;for(var A=t<0?t:i;r;){if(s=r._prev,(r._act||A<=r._end)&&r._ts&&l!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(A-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(A-r._start)*r._ts,e,n||ma&&(r._initted||r._startAt)),i!==this._time||!this._ts&&!h){l=0,s&&(_+=this._zTime=A?-1e-8:Pa);break}}r=s}}if(l&&!e&&(this.pause(),l.render(i>=f?0:-1e-8)._zTime=i>=f?1:-1,this._ts))return this._start=u,Yo(this),this.render(t,e,n);this._onUpdate&&!e&&wh(this,"onUpdate",!0),(_===g&&this._tTime>=this.totalDuration()||!_&&f)&&(u!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((t||!y)&&(_===g&&this._ts>0||!_&&this._ts<0)&&Vo(this,1),e||t<0&&!f||!_&&!f&&g||(wh(this,_===g&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(ja(e)||(e=sh(this,e,t)),!(t instanceof Jh)){if(Za(t))return t.forEach((function(t){return n.add(t,e)})),this;if(Ua(t))return this.addLabel(t,e);if(!Va(t))return this;t=hl.delayedCall(0,t)}return this!==t?Qo(this,t,e):this},n.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-za);for(var r=[],s=this._first;s;)s._start>=i&&(s instanceof hl?e&&r.push(s):(n&&r.push(s),t&&r.push.apply(r,s.getChildren(!0,e,n)))),s=s._next;return r},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return Ua(t)?this.removeLabel(t):Va(t)?this.killTweensOf(t):(Uo(this,t),t===this._recent&&(this._recent=this._last),jo(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=So(Lh.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=sh(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var i=hl.delayedCall(0,e||lo,n);return i.data="isPause",this._hasPause=1,Qo(this,i,sh(this,t))},n.removePause=function(t){var e=this._first;for(t=sh(this,t);e;)e._start===t&&"isPause"===e.data&&Vo(e),e=e._next},n.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)Kh!==i[r]&&i[r].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,i=[],r=dh(t),s=this._first,a=ja(e);s;)s instanceof hl?Eo(s._targets,r)&&(a?(!Kh||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&i.push(s):(n=s.getTweensOf(r,e)).length&&i.push.apply(i,n),s=s._next;return i},n.tweenTo=function(t,e){e=e||{};var n,i=this,r=sh(i,t),s=e,a=s.startAt,o=s.onStart,h=s.onStartParams,l=s.immediateRender,c=hl.to(i,Ro({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(a&&"time"in a?a.time:i._time))/i.timeScale())||Pa,onStart:function(){if(i.pause(),!n){var t=e.duration||Math.abs((r-(a&&"time"in a?a.time:i._time))/i.timeScale());c._dur!==t&&nh(c,t,0,1).render(c._time,!0,!0),n=1}o&&o.apply(c,h||[])}},e));return l?c.render(0):c},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Ro({startAt:{time:sh(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),Ah(this,sh(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),Ah(this,sh(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Pa)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var i,r=this._first,s=this.labels;r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in s)s[i]>=n&&(s[i]+=t);return jo(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),jo(this)},n.totalDuration=function(t){var e,n,i,r=0,s=this,a=s._last,o=za;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(i=s.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>o&&s._sort&&a._ts&&!s._lock?(s._lock=1,Qo(s,a,n-a._delay,1)._lock=0):o=n,n<0&&a._ts&&(r-=n,(!i&&!s._dp||i&&i.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),o=0),a._end>r&&a._ts&&(r=a._end),a=e;nh(s,s===ga&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(ga._ts&&(Io(ga,Xo(t,ga)),ba=Lh.frame),Lh.frame>=vo){vo+=ka.autoSleep||120;var e=ga._first;if((!e||!e._ts)&&ka.autoSleep&&Lh._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Lh.sleep()}}},e}(Jh);Ro(Qh.prototype,{_lock:0,_hasPause:0,_forcing:0});var Kh,$h,tl=function(t,e,n,i,r,s,a){var o,h,l,c,u,d,p,m,f=new Al(this._pt,t,e,0,1,gl,null,r),g=0,y=0;for(f.b=n,f.e=i,n+="",(p=~(i+="").indexOf("random("))&&(i=xh(i)),s&&(s(m=[n,i],t,e),n=m[0],i=m[1]),h=n.match($a)||[];o=$a.exec(i);)c=o[0],u=i.substring(g,o.index),l?l=(l+1)%5:"rgba("===u.substr(-5)&&(l=1),c!==h[y++]&&(d=parseFloat(h[y-1])||0,f._pt={_next:f._pt,p:u||1===y?u:",",s:d,c:"="===c.charAt(1)?Bo(d,c)-d:parseFloat(c)-d,m:l&&l<4?Math.round:0},g=$a.lastIndex);return f.c=g<i.length?i.substring(g,i.length):"",f.fp=a,(to.test(i)||p)&&(f.e=0),this._pt=f,f},el=function(t,e,n,i,r,s,a,o,h,l){Va(i)&&(i=i(r||0,t,s));var c,u=t[e],d="get"!==n?n:Va(u)?h?t[e.indexOf("set")||!Va(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():u,p=Va(u)?h?ul:cl:ll;if(Ua(i)&&(~i.indexOf("random(")&&(i=xh(i)),"="===i.charAt(1)&&((c=Bo(d,i)+(lh(d)||0))||0===c)&&(i=c)),!l||d!==i||$h)return isNaN(d*i)||""===i?(!u&&!(e in t)&&ao(e,i),tl.call(this,t,e,d,i,p,o||ka.stringFilter,h)):(c=new Al(this._pt,t,e,+d||0,i-(d||0),"boolean"==typeof u?fl:ml,0,p),h&&(c.fp=h),a&&c.modifier(a,this,t),this._pt=c)},nl=function(t,e,n,i,r,s){var a,o,h,l;if(yo[t]&&!1!==(a=new yo[t]).init(r,a.rawVars?e[t]:function(t,e,n,i,r){if(Va(t)&&(t=sl(t,r,e,n,i)),!Ha(t)||t.style&&t.nodeType||Za(t)||Ya(t))return Ua(t)?sl(t,r,e,n,i):t;var s,a={};for(s in t)a[s]=sl(t[s],r,e,n,i);return a}(e[t],i,r,s,n),n,i,s)&&(n._pt=o=new Al(n._pt,r,t,0,1,a.render,a,0,a.priority),n!==Aa))for(h=n._ptLookup[n._targets.indexOf(r)],l=a._props.length;l--;)h[a._props[l]]=o;return a},il=function t(e,n,i){var r,s,a,o,h,l,c,u,d,p,m,f,g,y=e.vars,_=y.ease,v=y.startAt,x=y.immediateRender,b=y.lazy,A=y.onUpdate,w=y.runBackwards,M=y.yoyoEase,T=y.keyframes,C=y.autoRevert,S=e._dur,B=e._startAt,E=e._targets,k=e.parent,I=k&&"nested"===k.data?k.vars.targets:E,z="auto"===e._overwrite&&!pa,P=e.timeline;if(P&&(!T||!_)&&(_="none"),e._ease=Hh(_,Ia.ease),e._yEase=M?jh(Hh(!0===M?_:M,Ia.ease)):0,M&&e._yoyo&&!e._repeat&&(M=e._yEase,e._yEase=e._ease,e._ease=M),e._from=!P&&!!y.runBackwards,!P||T&&!y.stagger){if(f=(u=E[0]?wo(E[0]).harness:0)&&y[u.prop],r=Do(y,mo),B&&(B._zTime<0&&B.progress(1),n<0&&w&&x&&!C?B.render(-1,!0):B.revert(w&&S?uo:co),B._lazy=0),v){if(Vo(e._startAt=hl.set(E,Ro({data:"isStart",overwrite:!1,parent:k,immediateRender:!0,lazy:!B&&qa(b),startAt:null,delay:0,onUpdate:A&&function(){return wh(e,"onUpdate")},stagger:0},v))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(ma||!x&&!C)&&e._startAt.revert(uo),x&&S&&n<=0&&i<=0)return void(n&&(e._zTime=n))}else if(w&&S&&!B)if(n&&(x=!1),a=Ro({overwrite:!1,data:"isFromStart",lazy:x&&!B&&qa(b),immediateRender:x,stagger:0,parent:k},r),f&&(a[u.prop]=f),Vo(e._startAt=hl.set(E,a)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(ma?e._startAt.revert(uo):e._startAt.render(-1,!0)),e._zTime=n,x){if(!n)return}else t(e._startAt,Pa,Pa);for(e._pt=e._ptCache=0,b=S&&qa(b)||b&&!S,s=0;s<E.length;s++){if(c=(h=E[s])._gsap||Ao(E)[s]._gsap,e._ptLookup[s]=p={},go[c.id]&&fo.length&&ko(),m=I===E?s:I.indexOf(h),u&&!1!==(d=new u).init(h,f||r,e,m,I)&&(e._pt=o=new Al(e._pt,h,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){p[t]=o})),d.priority&&(l=1)),!u||f)for(a in r)yo[a]&&(d=nl(a,r,e,m,h,I))?d.priority&&(l=1):p[a]=o=el.call(e,h,a,"get",r[a],m,I,0,y.stringFilter);e._op&&e._op[s]&&e.kill(h,e._op[s]),z&&e._pt&&(Kh=e,ga.killTweensOf(h,p,e.globalTime(n)),g=!e.parent,Kh=0),e._pt&&b&&(go[c.id]=1)}l&&bl(e),e._onInit&&e._onInit(e)}e._onUpdate=A,e._initted=(!e._op||e._pt)&&!g,T&&n<=0&&P.render(za,!0,!0)},rl=function(t,e,n,i){var r,s,a=e.ease||i||"power1.inOut";if(Za(e))s=n[t]||(n[t]=[]),e.forEach((function(t,n){return s.push({t:n/(e.length-1)*100,v:t,e:a})}));else for(r in e)s=n[r]||(n[r]=[]),"ease"===r||s.push({t:parseFloat(t),v:e[r],e:a})},sl=function(t,e,n,i,r){return Va(t)?t.call(e,n,i,r):Ua(t)&&~t.indexOf("random(")?xh(t):t},al=bo+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ol={};To(al+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return ol[t]=1}));var hl=function(t){function e(e,n,i,r){var s;"number"==typeof n&&(i.duration=n,n=i,i=null);var a,o,h,l,c,u,d,p,m=(s=t.call(this,r?n:No(n))||this).vars,f=m.duration,g=m.delay,y=m.immediateRender,_=m.stagger,v=m.overwrite,x=m.keyframes,b=m.defaults,A=m.scrollTrigger,w=m.yoyoEase,M=n.parent||ga,T=(Za(e)||Ya(e)?ja(e[0]):"length"in n)?[e]:dh(e);if(s._targets=T.length?Ao(T):oo("GSAP target "+e+" not found. https://gsap.com",!ka.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=v,x||_||Xa(f)||Xa(g)){if(n=s.vars,(a=s.timeline=new Qh({data:"nested",defaults:b||{},targets:M&&"nested"===M.data?M.vars.targets:T})).kill(),a.parent=a._dp=ua(s),a._start=0,_||Xa(f)||Xa(g)){if(l=T.length,d=_&&fh(_),Ha(_))for(c in _)~al.indexOf(c)&&(p||(p={}),p[c]=_[c]);for(o=0;o<l;o++)(h=Do(n,ol)).stagger=0,w&&(h.yoyoEase=w),p&&Oo(h,p),u=T[o],h.duration=+sl(f,ua(s),o,u,T),h.delay=(+sl(g,ua(s),o,u,T)||0)-s._delay,!_&&1===l&&h.delay&&(s._delay=g=h.delay,s._start+=g,h.delay=0),a.to(u,h,d?d(o,u,T):0),a._ease=Nh.none;a.duration()?f=g=0:s.timeline=0}else if(x){No(Ro(a.vars.defaults,{ease:"none"})),a._ease=Hh(x.ease||n.ease||"none");var C,S,B,E=0;if(Za(x))x.forEach((function(t){return a.to(T,t,">")})),a.duration();else{for(c in h={},x)"ease"===c||"easeEach"===c||rl(c,x[c],h,x.easeEach);for(c in h)for(C=h[c].sort((function(t,e){return t.t-e.t})),E=0,o=0;o<C.length;o++)(B={ease:(S=C[o]).e,duration:(S.t-(o?C[o-1].t:0))/100*f})[c]=S.v,a.to(T,B,E),E+=B.duration;a.duration()<f&&a.to({},{duration:f-a.duration()})}}f||s.duration(f=a.duration())}else s.timeline=0;return!0!==v||pa||(Kh=ua(s),ga.killTweensOf(T),Kh=0),Qo(M,ua(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(y||!f&&!x&&s._start===So(M._time)&&qa(y)&&Ho(ua(s))&&"nested"!==M.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-g)||0)),A&&Ko(ua(s),A),s}da(e,t);var n=e.prototype;return n.render=function(t,e,n){var i,r,s,a,o,h,l,c,u,d=this._time,p=this._tDur,m=this._dur,f=t<0,g=t>p-Pa&&!f?p:t<Pa?0:t;if(m){if(g!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(i=g,c=this.timeline,this._repeat){if(a=m+this._rDelay,this._repeat<-1&&f)return this.totalTime(100*a+t,e,n);if(i=So(g%a),g===p?(s=this._repeat,i=m):((s=~~(g/a))&&s===So(g/a)&&(i=m,s--),i>m&&(i=m)),(h=this._yoyo&&1&s)&&(u=this._yEase,i=m-i),o=Go(this._tTime,a),i===d&&!n&&this._initted&&s===o)return this._tTime=g,this;s!==o&&(c&&this._yEase&&Wh(c,h),this.vars.repeatRefresh&&!h&&!this._lock&&this._time!==a&&this._initted&&(this._lock=n=1,this.render(So(a*s),!0).invalidate()._lock=0))}if(!this._initted){if($o(this,f?t:i,n,e,g))return this._tTime=0,this;if(!(d===this._time||n&&this.vars.repeatRefresh&&s!==o))return this;if(m!==this._dur)return this.render(t,e,n)}if(this._tTime=g,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(u||this._ease)(i/m),this._from&&(this.ratio=l=1-l),i&&!d&&!e&&!s&&(wh(this,"onStart"),this._tTime!==g))return this;for(r=this._pt;r;)r.r(l,r.d),r=r._next;c&&c.render(t<0?t:c._dur*c._ease(i/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(f&&Wo(this,t,0,n),wh(this,"onUpdate")),this._repeat&&s!==o&&this.vars.onRepeat&&!e&&this.parent&&wh(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(f&&!this._onUpdate&&Wo(this,t,0,!0),(t||!m)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Vo(this,1),e||f&&!d||!(g||d||h)||(wh(this,g===p?"onComplete":"onReverseComplete",!0),this._prom&&!(g<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,i){var r,s,a,o=t.ratio,h=e<0||!e&&(!t._start&&th(t)&&(t._initted||!eh(t))||(t._ts<0||t._dp._ts<0)&&!eh(t))?0:1,l=t._rDelay,c=0;if(l&&t._repeat&&(c=hh(0,t._tDur,e),s=Go(c,l),t._yoyo&&1&s&&(h=1-h),s!==Go(t._tTime,l)&&(o=1-h,t.vars.repeatRefresh&&t._initted&&t.invalidate())),h!==o||ma||i||t._zTime===Pa||!e&&t._zTime){if(!t._initted&&$o(t,e,i,n,c))return;for(a=t._zTime,t._zTime=e||(n?Pa:0),n||(n=e&&!a),t.ratio=h,t._from&&(h=1-h),t._time=0,t._tTime=c,r=t._pt;r;)r.r(h,r.d),r=r._next;e<0&&Wo(t,e,0,!0),t._onUpdate&&!n&&wh(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&wh(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===h&&(h&&Vo(t,1),n||ma||(wh(t,h?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,i,r){wa||Lh.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||il(this,s),function(t,e,n,i,r,s,a,o){var h,l,c,u,d=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!d)for(d=t._ptCache[e]=[],c=t._ptLookup,u=t._targets.length;u--;){if((h=c[u][e])&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==e&&h.fp!==e;)h=h._next;if(!h)return $h=1,t.vars[e]="+=0",il(t,a),$h=0,o?oo(e+" not eligible for reset"):1;d.push(h)}for(u=d.length;u--;)(h=(l=d[u])._pt||l).s=!i&&0!==i||r?h.s+(i||0)+s*h.c:i,h.c=n-h.s,l.e&&(l.e=Co(n)+lh(l.e)),l.b&&(l.b=h.s+lh(l.b))}(this,t,e,n,i,this._ease(s/this._dur),s,r)?this.resetTo(t,e,n,i,1):(Zo(this,0),this.parent||Fo(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?Mh(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Kh&&!0!==Kh.vars.overwrite)._first||Mh(this),this.parent&&n!==this.timeline.totalDuration()&&nh(this,this._dur*this.timeline._tDur/n,0,1),this}var i,r,s,a,o,h,l,c=this._targets,u=t?dh(t):c,d=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0}(c,u))return"all"===e&&(this._pt=0),Mh(this);for(i=this._op=this._op||[],"all"!==e&&(Ua(e)&&(o={},To(e,(function(t){return o[t]=1})),e=o),e=function(t,e){var n,i,r,s,a=t[0]?wo(t[0]).harness:0,o=a&&a.aliases;if(!o)return e;for(i in n=Oo({},e),o)if(i in n)for(r=(s=o[i].split(",")).length;r--;)n[s[r]]=n[i];return n}(c,e)),l=c.length;l--;)if(~u.indexOf(c[l]))for(o in r=d[l],"all"===e?(i[l]=e,a=r,s={}):(s=i[l]=i[l]||{},a=e),a)(h=r&&r[o])&&("kill"in h.d&&!0!==h.d.kill(o)||Uo(this,h,"_pt"),delete r[o]),"all"!==s&&(s[o]=1);return this._initted&&!this._pt&&p&&Mh(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return ah(1,arguments)},e.delayedCall=function(t,n,i,r){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},e.fromTo=function(t,e,n){return ah(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return ga.killTweensOf(t,e,n)},e}(Jh);Ro(hl.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),To("staggerTo,staggerFrom,staggerFromTo",(function(t){hl[t]=function(){var e=new Qh,n=ch.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var ll=function(t,e,n){return t[e]=n},cl=function(t,e,n){return t[e](n)},ul=function(t,e,n,i){return t[e](i.fp,n)},dl=function(t,e,n){return t.setAttribute(e,n)},pl=function(t,e){return Va(t[e])?cl:Wa(t[e])&&t.setAttribute?dl:ll},ml=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},fl=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},gl=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},yl=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},_l=function(t,e,n,i){for(var r,s=this._pt;s;)r=s._next,s.p===i&&s.modifier(t,e,n),s=r},vl=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?Uo(this,i,"_pt"):i.dep||(e=1),i=n;return!e},xl=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},bl=function(t){for(var e,n,i,r,s=t._pt;s;){for(e=s._next,n=i;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:r)?s._prev._next=s:i=s,(s._next=n)?n._prev=s:r=s,s=e}t._pt=i},Al=function(){function t(t,e,n,i,r,s,a,o,h){this.t=e,this.s=i,this.c=r,this.p=n,this.r=s||ml,this.d=a||this,this.set=o||ll,this.pr=h||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=xl,this.m=t,this.mt=n,this.tween=e},t}();To(bo+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return mo[t]=1})),io.TweenMax=io.TweenLite=hl,io.TimelineLite=io.TimelineMax=Qh,ga=new Qh({sortChildren:!1,defaults:Ia,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),ka.stringFilter=Oh;var wl=[],Ml={},Tl=[],Cl=0,Sl=0,Bl=function(t){return(Ml[t]||Tl).map((function(t){return t()}))},El=function(){var t=Date.now(),e=[];t-Cl>2&&(Bl("matchMediaInit"),wl.forEach((function(t){var n,i,r,s,a=t.queries,o=t.conditions;for(i in a)(n=ya.matchMedia(a[i]).matches)&&(r=1),n!==o[i]&&(o[i]=n,s=1);s&&(t.revert(),r&&e.push(t))})),Bl("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),Cl=t,Bl("matchMedia"))},kl=function(){function t(t,e){this.selector=e&&ph(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Sl++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){Va(t)&&(n=e,e=t,t=Va);var i=this,r=function(){var t,r=fa,s=i.selector;return r&&r!==i&&r.data.push(i),n&&(i.selector=ph(n)),fa=i,t=e.apply(i,arguments),Va(t)&&i._r.push(t),fa=r,i.selector=s,i.isReverted=!1,t};return i.last=r,t===Va?r(i,(function(t){return i.add(null,t)})):t?i[t]=r:r},e.ignore=function(t){var e=fa;fa=null,t(this),fa=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof hl&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,i=n.getTweens(),r=n.data.length;r--;)"isFlip"===(e=n.data[r]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return i.splice(i.indexOf(t),1)})));for(i.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),r=n.data.length;r--;)(e=n.data[r])instanceof Qh?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof hl)&&e.revert&&e.revert(t);n._r.forEach((function(e){return e(t,n)})),n.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var i=wl.length;i--;)wl[i].id===this.id&&wl.splice(i,1)},e.revert=function(t){this.kill(t||{})},t}(),Il=function(){function t(t){this.contexts=[],this.scope=t,fa&&fa.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){Ha(t)||(t={matches:t});var i,r,s,a=new kl(0,n||this.scope),o=a.conditions={};for(r in fa&&!a.selector&&(a.selector=fa.selector),this.contexts.push(a),e=a.add("onMatch",e),a.queries=t,t)"all"===r?s=1:(i=ya.matchMedia(t[r]))&&(wl.indexOf(a)<0&&wl.push(a),(o[r]=i.matches)&&(s=1),i.addListener?i.addListener(El):i.addEventListener("change",El));return s&&e(a,(function(t){return a.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),zl={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return Ch(t)}))},timeline:function(t){return new Qh(t)},getTweensOf:function(t,e){return ga.getTweensOf(t,e)},getProperty:function(t,e,n,i){Ua(t)&&(t=dh(t)[0]);var r=wo(t||{}).get,s=n?Po:zo;return"native"===n&&(n=""),t?e?s((yo[e]&&yo[e].get||r)(t,e,n,i)):function(e,n,i){return s((yo[e]&&yo[e].get||r)(t,e,n,i))}:t},quickSetter:function(t,e,n){if((t=dh(t)).length>1){var i=t.map((function(t){return Ol.quickSetter(t,e,n)})),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var s=yo[e],a=wo(t),o=a.harness&&(a.harness.aliases||{})[e]||e,h=s?function(e){var i=new s;Aa._pt=0,i.init(t,n?e+n:e,Aa,0,[t]),i.render(1,i),Aa._pt&&yl(1,Aa)}:a.set(t,o);return s?h:function(e){return h(t,o,n?e+n:e,a,1)}},quickTo:function(t,e,n){var i,r=Ol.to(t,Oo(((i={})[e]="+=0.1",i.paused=!0,i),n||{})),s=function(t,n,i){return r.resetTo(e,t,n,i)};return s.tween=r,s},isTweening:function(t){return ga.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Hh(t.ease,Ia.ease)),Lo(Ia,t||{})},config:function(t){return Lo(ka,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,s=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!yo[t]&&!io[t]&&oo(e+" effect requires "+t+" plugin.")})),_o[e]=function(t,e,i){return n(dh(t),Ro(e||{},r),i)},s&&(Qh.prototype[e]=function(t,n,i){return this.add(_o[e](t,Ha(n)?n:(i=n)&&{},this),i)})},registerEase:function(t,e){Nh[t]=Hh(e)},parseEase:function(t,e){return arguments.length?Hh(t,e):Nh},getById:function(t){return ga.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new Qh(t);for(r.smoothChildTiming=qa(t.smoothChildTiming),ga.remove(r),r._dp=0,r._time=r._tTime=ga._time,n=ga._first;n;)i=n._next,!e&&!n._dur&&n instanceof hl&&n.vars.onComplete===n._targets[0]||Qo(r,n,n._start-n._delay),n=i;return Qo(ga,r,0),r},context:function(t,e){return t?new kl(t,e):fa},matchMedia:function(t){return new Il(t)},matchMediaRefresh:function(){return wl.forEach((function(t){var e,n,i=t.conditions;for(n in i)i[n]&&(i[n]=!1,e=1);e&&t.revert()}))||El()},addEventListener:function(t,e){var n=Ml[t]||(Ml[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=Ml[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},utils:{wrap:function t(e,n,i){var r=n-e;return Za(e)?vh(e,t(0,e.length),n):oh(i,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,n,i){var r=n-e,s=2*r;return Za(e)?vh(e,t(0,e.length-1),n):oh(i,(function(t){return e+((t=(s+(t-e)%s)%s||0)>r?s-t:t)}))},distribute:fh,random:_h,snap:yh,normalize:function(t,e,n){return bh(t,e,0,1,n)},getUnit:lh,clamp:function(t,e,n){return oh(n,(function(n){return hh(t,e,n)}))},splitColor:kh,toArray:dh,selector:ph,mapRange:bh,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||lh(n))}},interpolate:function t(e,n,i,r){var s=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!s){var a,o,h,l,c,u=Ua(e),d={};if(!0===i&&(r=1)&&(i=null),u)e={p:e},n={p:n};else if(Za(e)&&!Za(n)){for(h=[],l=e.length,c=l-2,o=1;o<l;o++)h.push(t(e[o-1],e[o]));l--,s=function(t){t*=l;var e=Math.min(c,~~t);return h[e](t-e)},i=n}else r||(e=Oo(Za(e)?[]:{},e));if(!h){for(a in n)el.call(d,e,a,"get",n[a]);s=function(t){return yl(t,d)||(u?e.p:e)}}}return oh(i,s)},shuffle:mh},install:so,effects:_o,ticker:Lh,updateRoot:Qh.updateRoot,plugins:yo,globalTimeline:ga,core:{PropTween:Al,globals:ho,Tween:hl,Timeline:Qh,Animation:Jh,getCache:wo,_removeLinkedListItem:Uo,reverting:function(){return ma},context:function(t){return t&&fa&&(fa.data.push(t),t._ctx=fa),fa},suppressOverwrites:function(t){return pa=t}}};To("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return zl[t]=hl[t]})),Lh.add(Qh.updateRoot),Aa=zl.to({},{duration:0});var Pl=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},Rl=function(t,e){return{name:t,rawVars:1,init:function(t,n,i){i._onInit=function(t){var i,r;if(Ua(n)&&(i={},To(n,(function(t){return i[t]=1})),n=i),e){for(r in i={},n)i[r]=e(n[r]);n=i}!function(t,e){var n,i,r,s=t._targets;for(n in e)for(i=s.length;i--;)(r=t._ptLookup[i][n])&&(r=r.d)&&(r._pt&&(r=Pl(r,n)),r&&r.modifier&&r.modifier(e[n],t,s[i],n))}(t,n)}}}},Ol=zl.registerPlugin({name:"attr",init:function(t,e,n,i,r){var s,a,o;for(s in this.tween=n,e)o=t.getAttribute(s)||"",(a=this.add(t,"setAttribute",(o||0)+"",e[s],i,r,0,0,s)).op=s,a.b=o,this._props.push(s)},render:function(t,e){for(var n=e._pt;n;)ma?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},Rl("roundProps",gh),Rl("modifiers"),Rl("snap",yh))||zl;hl.version=Qh.version=Ol.version="3.12.5",xa=1,Ga()&&Dh(),Nh.Power0,Nh.Power1,Nh.Power2,Nh.Power3,Nh.Power4,Nh.Linear,Nh.Quad,Nh.Cubic,Nh.Quart,Nh.Quint,Nh.Strong,Nh.Elastic,Nh.Back,Nh.SteppedEase,Nh.Bounce,Nh.Sine,Nh.Expo,Nh.Circ;var Ll,Dl,Nl,Fl,Ul,Vl,jl,Wl,Hl={},ql=180/Math.PI,Gl=Math.PI/180,Xl=Math.atan2,Yl=/([A-Z])/g,Zl=/(left|right|width|margin|padding|x)/i,Jl=/[\s,\(]\S/,Ql={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Kl=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},$l=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},tc=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},ec=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},nc=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ic=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},rc=function(t,e,n){return t.style[e]=n},sc=function(t,e,n){return t.style.setProperty(e,n)},ac=function(t,e,n){return t._gsap[e]=n},oc=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},hc=function(t,e,n,i,r){var s=t._gsap;s.scaleX=s.scaleY=n,s.renderTransform(r,s)},lc=function(t,e,n,i,r){var s=t._gsap;s[e]=n,s.renderTransform(r,s)},cc="transform",uc=cc+"Origin",dc=function t(e,n){var i=this,r=this.target,s=r.style,a=r._gsap;if(e in Hl&&s){if(this.tfm=this.tfm||{},"transform"===e)return Ql.transform.split(",").forEach((function(e){return t.call(i,e,n)}));if(~(e=Ql[e]||e).indexOf(",")?e.split(",").forEach((function(t){return i.tfm[t]=kc(r,t)})):this.tfm[e]=a.x?a[e]:kc(r,e),e===uc&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(cc)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(uc,n,"")),e=cc}(s||n)&&this.props.push(e,n,s[e])},pc=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},mc=function(){var t,e,n=this.props,i=this.target,r=i.style,s=i._gsap;for(t=0;t<n.length;t+=3)n[t+1]?i[n[t]]=n[t+2]:n[t+2]?r[n[t]]=n[t+2]:r.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(Yl,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)s[e]=this.tfm[e];s.svg&&(s.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),(t=jl())&&t.isStart||r[cc]||(pc(r),s.zOrigin&&r[uc]&&(r[uc]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},fc=function(t,e){var n={target:t,props:[],revert:mc,save:dc};return t._gsap||Ol.core.getCache(t),e&&e.split(",").forEach((function(t){return n.save(t)})),n},gc=function(t,e){var n=Dl.createElementNS?Dl.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Dl.createElement(t);return n&&n.style?n:Dl.createElement(t)},yc=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(Yl,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,vc(n)||n,1)||""},_c="O,Moz,ms,Ms,Webkit".split(","),vc=function(t,e,n){var i=(e||Ul).style,r=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(_c[r]+t in i););return r<0?null:(3===r?"ms":r>=0?_c[r]:"")+t},xc=function(){"undefined"!=typeof window&&window.document&&(Ll=window,Dl=Ll.document,Nl=Dl.documentElement,Ul=gc("div")||{style:{}},gc("div"),cc=vc(cc),uc=cc+"Origin",Ul.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Wl=!!vc("perspective"),jl=Ol.core.reverting,Fl=1)},bc=function t(e){var n,i=gc("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,s=this.nextSibling,a=this.style.cssText;if(Nl.appendChild(i),i.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),Nl.removeChild(i),this.style.cssText=a,n},Ac=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},wc=function(t){var e;try{e=t.getBBox()}catch(n){e=bc.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===bc||(e=bc.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Ac(t,["x","cx","x1"])||0,y:+Ac(t,["y","cy","y1"])||0,width:0,height:0}},Mc=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!wc(t))},Tc=function(t,e){if(e){var n,i=t.style;e in Hl&&e!==uc&&(e=cc),i.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),i.removeProperty("--"===n?e:e.replace(Yl,"-$1").toLowerCase())):i.removeAttribute(e)}},Cc=function(t,e,n,i,r,s){var a=new Al(t._pt,e,n,0,1,s?ic:nc);return t._pt=a,a.b=i,a.e=r,t._props.push(n),a},Sc={deg:1,rad:1,turn:1},Bc={grid:1,flex:1},Ec=function t(e,n,i,r){var s,a,o,h,l=parseFloat(i)||0,c=(i+"").trim().substr((l+"").length)||"px",u=Ul.style,d=Zl.test(n),p="svg"===e.tagName.toLowerCase(),m=(p?"client":"offset")+(d?"Width":"Height"),f=100,g="px"===r,y="%"===r;if(r===c||!l||Sc[r]||Sc[c])return l;if("px"!==c&&!g&&(l=t(e,n,i,"px")),h=e.getCTM&&Mc(e),(y||"%"===c)&&(Hl[n]||~n.indexOf("adius")))return s=h?e.getBBox()[d?"width":"height"]:e[m],Co(y?l/s*f:l/100*s);if(u[d?"width":"height"]=f+(g?c:r),a=~n.indexOf("adius")||"em"===r&&e.appendChild&&!p?e:e.parentNode,h&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==Dl&&a.appendChild||(a=Dl.body),(o=a._gsap)&&y&&o.width&&d&&o.time===Lh.time&&!o.uncache)return Co(l/o.width*f);if(!y||"height"!==n&&"width"!==n)(y||"%"===c)&&!Bc[yc(a,"display")]&&(u.position=yc(e,"position")),a===e&&(u.position="static"),a.appendChild(Ul),s=Ul[m],a.removeChild(Ul),u.position="absolute";else{var _=e.style[n];e.style[n]=f+r,s=e[m],_?e.style[n]=_:Tc(e,n)}return d&&y&&((o=wo(a)).time=Lh.time,o.width=a[m]),Co(g?s*l/f:s&&l?f/s*l:0)},kc=function(t,e,n,i){var r;return Fl||xc(),e in Ql&&"transform"!==e&&~(e=Ql[e]).indexOf(",")&&(e=e.split(",")[0]),Hl[e]&&"transform"!==e?(r=Vc(t,i),r="transformOrigin"!==e?r[e]:r.svg?r.origin:jc(yc(t,uc))+" "+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||i||~(r+"").indexOf("calc("))&&(r=Rc[e]&&Rc[e](t,e,n)||yc(t,e)||Mo(t,e)||("opacity"===e?1:0)),n&&!~(r+"").trim().indexOf(" ")?Ec(t,e,r,n)+n:r},Ic=function(t,e,n,i){if(!n||"none"===n){var r=vc(e,t,1),s=r&&yc(t,r,1);s&&s!==n?(e=r,n=s):"borderColor"===e&&(n=yc(t,"borderTopColor"))}var a,o,h,l,c,u,d,p,m,f,g,y=new Al(this._pt,t.style,e,0,1,gl),_=0,v=0;if(y.b=n,y.e=i,n+="","auto"==(i+="")&&(u=t.style[e],t.style[e]=i,i=yc(t,e)||i,u?t.style[e]=u:Tc(t,e)),Oh(a=[n,i]),i=a[1],h=(n=a[0]).match(Ka)||[],(i.match(Ka)||[]).length){for(;o=Ka.exec(i);)d=o[0],m=i.substring(_,o.index),c?c=(c+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(c=1),d!==(u=h[v++]||"")&&(l=parseFloat(u)||0,g=u.substr((l+"").length),"="===d.charAt(1)&&(d=Bo(l,d)+g),p=parseFloat(d),f=d.substr((p+"").length),_=Ka.lastIndex-f.length,f||(f=f||ka.units[e]||g,_===i.length&&(i+=f,y.e+=f)),g!==f&&(l=Ec(t,e,u,f)||0),y._pt={_next:y._pt,p:m||1===v?m:",",s:l,c:p-l,m:c&&c<4||"zIndex"===e?Math.round:0});y.c=_<i.length?i.substring(_,i.length):""}else y.r="display"===e&&"none"===i?ic:nc;return to.test(i)&&(y.e=0),this._pt=y,y},zc={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Pc=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,s=e.t,a=s.style,o=e.u,h=s._gsap;if("all"===o||!0===o)a.cssText="",i=1;else for(r=(o=o.split(",")).length;--r>-1;)n=o[r],Hl[n]&&(i=1,n="transformOrigin"===n?uc:cc),Tc(s,n);i&&(Tc(s,cc),h&&(h.svg&&s.removeAttribute("transform"),Vc(s,1),h.uncache=1,pc(a)))}},Rc={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var s=t._pt=new Al(t._pt,e,n,0,0,Pc);return s.u=i,s.pr=-10,s.tween=r,t._props.push(n),1}}},Oc=[1,0,0,1,0,0],Lc={},Dc=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Nc=function(t){var e=yc(t,cc);return Dc(e)?Oc:e.substr(7).match(Qa).map(Co)},Fc=function(t,e){var n,i,r,s,a=t._gsap||wo(t),o=t.style,h=Nc(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(h=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Oc:h:(h!==Oc||t.offsetParent||t===Nl||a.svg||(r=o.display,o.display="block",(n=t.parentNode)&&t.offsetParent||(s=1,i=t.nextElementSibling,Nl.appendChild(t)),h=Nc(t),r?o.display=r:Tc(t,"display"),s&&(i?n.insertBefore(t,i):n?n.appendChild(t):Nl.removeChild(t))),e&&h.length>6?[h[0],h[1],h[4],h[5],h[12],h[13]]:h)},Uc=function(t,e,n,i,r,s){var a,o,h,l=t._gsap,c=r||Fc(t,!0),u=l.xOrigin||0,d=l.yOrigin||0,p=l.xOffset||0,m=l.yOffset||0,f=c[0],g=c[1],y=c[2],_=c[3],v=c[4],x=c[5],b=e.split(" "),A=parseFloat(b[0])||0,w=parseFloat(b[1])||0;n?c!==Oc&&(o=f*_-g*y)&&(h=A*(-g/o)+w*(f/o)-(f*x-g*v)/o,A=A*(_/o)+w*(-y/o)+(y*x-_*v)/o,w=h):(A=(a=wc(t)).x+(~b[0].indexOf("%")?A/100*a.width:A),w=a.y+(~(b[1]||b[0]).indexOf("%")?w/100*a.height:w)),i||!1!==i&&l.smooth?(v=A-u,x=w-d,l.xOffset=p+(v*f+x*y)-v,l.yOffset=m+(v*g+x*_)-x):l.xOffset=l.yOffset=0,l.xOrigin=A,l.yOrigin=w,l.smooth=!!i,l.origin=e,l.originIsAbsolute=!!n,t.style[uc]="0px 0px",s&&(Cc(s,l,"xOrigin",u,A),Cc(s,l,"yOrigin",d,w),Cc(s,l,"xOffset",p,l.xOffset),Cc(s,l,"yOffset",m,l.yOffset)),t.setAttribute("data-svg-origin",A+" "+w)},Vc=function(t,e){var n=t._gsap||new Zh(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,s,a,o,h,l,c,u,d,p,m,f,g,y,_,v,x,b,A,w,M,T,C,S,B,E,k,I,z,P,R,O=t.style,L=n.scaleX<0,D="px",N="deg",F=getComputedStyle(t),U=yc(t,uc)||"0";return i=r=s=h=l=c=u=d=p=0,a=o=1,n.svg=!(!t.getCTM||!Mc(t)),F.translate&&("none"===F.translate&&"none"===F.scale&&"none"===F.rotate||(O[cc]=("none"!==F.translate?"translate3d("+(F.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==F.rotate?"rotate("+F.rotate+") ":"")+("none"!==F.scale?"scale("+F.scale.split(" ").join(",")+") ":"")+("none"!==F[cc]?F[cc]:"")),O.scale=O.rotate=O.translate="none"),g=Fc(t,n.svg),n.svg&&(n.uncache?(S=t.getBBox(),U=n.xOrigin-S.x+"px "+(n.yOrigin-S.y)+"px",C=""):C=!e&&t.getAttribute("data-svg-origin"),Uc(t,C||U,!!C||n.originIsAbsolute,!1!==n.smooth,g)),m=n.xOrigin||0,f=n.yOrigin||0,g!==Oc&&(x=g[0],b=g[1],A=g[2],w=g[3],i=M=g[4],r=T=g[5],6===g.length?(a=Math.sqrt(x*x+b*b),o=Math.sqrt(w*w+A*A),h=x||b?Xl(b,x)*ql:0,(u=A||w?Xl(A,w)*ql+h:0)&&(o*=Math.abs(Math.cos(u*Gl))),n.svg&&(i-=m-(m*x+f*A),r-=f-(m*b+f*w))):(R=g[6],z=g[7],E=g[8],k=g[9],I=g[10],P=g[11],i=g[12],r=g[13],s=g[14],l=(y=Xl(R,I))*ql,y&&(C=M*(_=Math.cos(-y))+E*(v=Math.sin(-y)),S=T*_+k*v,B=R*_+I*v,E=M*-v+E*_,k=T*-v+k*_,I=R*-v+I*_,P=z*-v+P*_,M=C,T=S,R=B),c=(y=Xl(-A,I))*ql,y&&(_=Math.cos(-y),P=w*(v=Math.sin(-y))+P*_,x=C=x*_-E*v,b=S=b*_-k*v,A=B=A*_-I*v),h=(y=Xl(b,x))*ql,y&&(C=x*(_=Math.cos(y))+b*(v=Math.sin(y)),S=M*_+T*v,b=b*_-x*v,T=T*_-M*v,x=C,M=S),l&&Math.abs(l)+Math.abs(h)>359.9&&(l=h=0,c=180-c),a=Co(Math.sqrt(x*x+b*b+A*A)),o=Co(Math.sqrt(T*T+R*R)),y=Xl(M,T),u=Math.abs(y)>2e-4?y*ql:0,p=P?1/(P<0?-P:P):0),n.svg&&(C=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Dc(yc(t,cc)),C&&t.setAttribute("transform",C))),Math.abs(u)>90&&Math.abs(u)<270&&(L?(a*=-1,u+=h<=0?180:-180,h+=h<=0?180:-180):(o*=-1,u+=u<=0?180:-180)),e=e||n.uncache,n.x=i-((n.xPercent=i&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+D,n.y=r-((n.yPercent=r&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+D,n.z=s+D,n.scaleX=Co(a),n.scaleY=Co(o),n.rotation=Co(h)+N,n.rotationX=Co(l)+N,n.rotationY=Co(c)+N,n.skewX=u+N,n.skewY=d+N,n.transformPerspective=p+D,(n.zOrigin=parseFloat(U.split(" ")[2])||!e&&n.zOrigin||0)&&(O[uc]=jc(U)),n.xOffset=n.yOffset=0,n.force3D=ka.force3D,n.renderTransform=n.svg?Zc:Wl?Yc:Hc,n.uncache=0,n},jc=function(t){return(t=t.split(" "))[0]+" "+t[1]},Wc=function(t,e,n){var i=lh(e);return Co(parseFloat(e)+parseFloat(Ec(t,"x",n+"px",i)))+i},Hc=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Yc(t,e)},qc="0deg",Gc="0px",Xc=") ",Yc=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,s=n.x,a=n.y,o=n.z,h=n.rotation,l=n.rotationY,c=n.rotationX,u=n.skewX,d=n.skewY,p=n.scaleX,m=n.scaleY,f=n.transformPerspective,g=n.force3D,y=n.target,_=n.zOrigin,v="",x="auto"===g&&t&&1!==t||!0===g;if(_&&(c!==qc||l!==qc)){var b,A=parseFloat(l)*Gl,w=Math.sin(A),M=Math.cos(A);A=parseFloat(c)*Gl,b=Math.cos(A),s=Wc(y,s,w*b*-_),a=Wc(y,a,-Math.sin(A)*-_),o=Wc(y,o,M*b*-_+_)}f!==Gc&&(v+="perspective("+f+Xc),(i||r)&&(v+="translate("+i+"%, "+r+"%) "),(x||s!==Gc||a!==Gc||o!==Gc)&&(v+=o!==Gc||x?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+Xc),h!==qc&&(v+="rotate("+h+Xc),l!==qc&&(v+="rotateY("+l+Xc),c!==qc&&(v+="rotateX("+c+Xc),u===qc&&d===qc||(v+="skew("+u+", "+d+Xc),1===p&&1===m||(v+="scale("+p+", "+m+Xc),y.style[cc]=v||"translate(0, 0)"},Zc=function(t,e){var n,i,r,s,a,o=e||this,h=o.xPercent,l=o.yPercent,c=o.x,u=o.y,d=o.rotation,p=o.skewX,m=o.skewY,f=o.scaleX,g=o.scaleY,y=o.target,_=o.xOrigin,v=o.yOrigin,x=o.xOffset,b=o.yOffset,A=o.forceCSS,w=parseFloat(c),M=parseFloat(u);d=parseFloat(d),p=parseFloat(p),(m=parseFloat(m))&&(p+=m=parseFloat(m),d+=m),d||p?(d*=Gl,p*=Gl,n=Math.cos(d)*f,i=Math.sin(d)*f,r=Math.sin(d-p)*-g,s=Math.cos(d-p)*g,p&&(m*=Gl,a=Math.tan(p-m),r*=a=Math.sqrt(1+a*a),s*=a,m&&(a=Math.tan(m),n*=a=Math.sqrt(1+a*a),i*=a)),n=Co(n),i=Co(i),r=Co(r),s=Co(s)):(n=f,s=g,i=r=0),(w&&!~(c+"").indexOf("px")||M&&!~(u+"").indexOf("px"))&&(w=Ec(y,"x",c,"px"),M=Ec(y,"y",u,"px")),(_||v||x||b)&&(w=Co(w+_-(_*n+v*r)+x),M=Co(M+v-(_*i+v*s)+b)),(h||l)&&(a=y.getBBox(),w=Co(w+h/100*a.width),M=Co(M+l/100*a.height)),a="matrix("+n+","+i+","+r+","+s+","+w+","+M+")",y.setAttribute("transform",a),A&&(y.style[cc]=a)},Jc=function(t,e,n,i,r){var s,a,o=360,h=Ua(r),l=parseFloat(r)*(h&&~r.indexOf("rad")?ql:1)-i,c=i+l+"deg";return h&&("short"===(s=r.split("_")[1])&&(l%=o)!=l%180&&(l+=l<0?o:-360),"cw"===s&&l<0?l=(l+36e9)%o-~~(l/o)*o:"ccw"===s&&l>0&&(l=(l-36e9)%o-~~(l/o)*o)),t._pt=a=new Al(t._pt,e,n,i,l,$l),a.e=c,a.u="deg",t._props.push(n),a},Qc=function(t,e){for(var n in e)t[n]=e[n];return t},Kc=function(t,e,n){var i,r,s,a,o,h,l,c=Qc({},n._gsap),u=n.style;for(r in c.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),u[cc]=e,i=Vc(n,1),Tc(n,cc),n.setAttribute("transform",s)):(s=getComputedStyle(n)[cc],u[cc]=e,i=Vc(n,1),u[cc]=s),Hl)(s=c[r])!==(a=i[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(o=lh(s)!==(l=lh(a))?Ec(n,r,s,l):parseFloat(s),h=parseFloat(a),t._pt=new Al(t._pt,i,r,o,h-o,Kl),t._pt.u=l||0,t._props.push(r));Qc(i,c)};To("padding,margin,Width,Radius",(function(t,e){var n="Top",i="Right",r="Bottom",s="Left",a=(e<3?[n,i,r,s]:[n+s,n+i,r+i,r+s]).map((function(n){return e<2?t+n:"border"+n+t}));Rc[e>1?"border"+t:t]=function(t,e,n,i,r){var s,o;if(arguments.length<4)return s=a.map((function(e){return kc(t,e,n)})),5===(o=s.join(" ")).split(s[0]).length?s[0]:o;s=(i+"").split(" "),o={},a.forEach((function(t,e){return o[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,o,r)}}));var $c,tu,eu={name:"css",register:xc,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,r){var s,a,o,h,l,c,u,d,p,m,f,g,y,_,v,x,b,A,w,M,T=this._props,C=t.style,S=n.vars.startAt;for(u in Fl||xc(),this.styles=this.styles||fc(t),x=this.styles.props,this.tween=n,e)if("autoRound"!==u&&(a=e[u],!yo[u]||!nl(u,e,n,i,t,r)))if(l=typeof a,c=Rc[u],"function"===l&&(l=typeof(a=a.call(n,i,t,r))),"string"===l&&~a.indexOf("random(")&&(a=xh(a)),c)c(this,t,u,a,n)&&(v=1);else if("--"===u.substr(0,2))s=(getComputedStyle(t).getPropertyValue(u)+"").trim(),a+="",Ph.lastIndex=0,Ph.test(s)||(d=lh(s),p=lh(a)),p?d!==p&&(s=Ec(t,u,s,p)+p):d&&(a+=d),this.add(C,"setProperty",s,a,i,r,0,0,u),T.push(u),x.push(u,0,C[u]);else if("undefined"!==l){if(S&&u in S?(s="function"==typeof S[u]?S[u].call(n,i,t,r):S[u],Ua(s)&&~s.indexOf("random(")&&(s=xh(s)),lh(s+"")||"auto"===s||(s+=ka.units[u]||lh(kc(t,u))||""),"="===(s+"").charAt(1)&&(s=kc(t,u))):s=kc(t,u),h=parseFloat(s),(m="string"===l&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),o=parseFloat(a),u in Ql&&("autoAlpha"===u&&(1===h&&"hidden"===kc(t,"visibility")&&o&&(h=0),x.push("visibility",0,C.visibility),Cc(this,C,"visibility",h?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==u&&"transform"!==u&&~(u=Ql[u]).indexOf(",")&&(u=u.split(",")[0])),f=u in Hl)if(this.styles.save(u),g||((y=t._gsap).renderTransform&&!e.parseTransform||Vc(t,e.parseTransform),_=!1!==e.smoothOrigin&&y.smooth,(g=this._pt=new Al(this._pt,C,cc,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===u)this._pt=new Al(this._pt,y,"scaleY",y.scaleY,(m?Bo(y.scaleY,m+o):o)-y.scaleY||0,Kl),this._pt.u=0,T.push("scaleY",u),u+="X";else{if("transformOrigin"===u){x.push(uc,0,C[uc]),A=void 0,w=void 0,M=void 0,w=(A=(b=a).split(" "))[0],M=A[1]||"50%","top"!==w&&"bottom"!==w&&"left"!==M&&"right"!==M||(b=w,w=M,M=b),A[0]=zc[w]||w,A[1]=zc[M]||M,a=A.join(" "),y.svg?Uc(t,a,0,_,0,this):((p=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&Cc(this,y,"zOrigin",y.zOrigin,p),Cc(this,C,u,jc(s),jc(a)));continue}if("svgOrigin"===u){Uc(t,a,1,_,0,this);continue}if(u in Lc){Jc(this,y,u,h,m?Bo(h,m+a):a);continue}if("smoothOrigin"===u){Cc(this,y,"smooth",y.smooth,a);continue}if("force3D"===u){y[u]=a;continue}if("transform"===u){Kc(this,a,t);continue}}else u in C||(u=vc(u)||u);if(f||(o||0===o)&&(h||0===h)&&!Jl.test(a)&&u in C)o||(o=0),(d=(s+"").substr((h+"").length))!==(p=lh(a)||(u in ka.units?ka.units[u]:d))&&(h=Ec(t,u,s,p)),this._pt=new Al(this._pt,f?y:C,u,h,(m?Bo(h,m+o):o)-h,f||"px"!==p&&"zIndex"!==u||!1===e.autoRound?Kl:ec),this._pt.u=p||0,d!==p&&"%"!==p&&(this._pt.b=s,this._pt.r=tc);else if(u in C)Ic.call(this,t,u,s,m?m+a:a);else if(u in t)this.add(t,u,s||t[u],m?m+a:a,i,r);else if("parseTransform"!==u){ao(u,a);continue}f||(u in C?x.push(u,0,C[u]):x.push(u,1,s||t[u])),T.push(u)}v&&bl(this)},render:function(t,e){if(e.tween._time||!jl())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:kc,aliases:Ql,getSetter:function(t,e,n){var i=Ql[e];return i&&i.indexOf(",")<0&&(e=i),e in Hl&&e!==uc&&(t._gsap.x||kc(t,"x"))?n&&Vl===n?"scale"===e?oc:ac:(Vl=n||{})&&("scale"===e?hc:lc):t.style&&!Wa(t.style[e])?rc:~e.indexOf("-")?sc:pl(t,e)},core:{_removeProperty:Tc,_getMatrix:Fc}};Ol.utils.checkPrefix=vc,Ol.core.getStyleSaver=fc,tu=To("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+($c="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Hl[t]=1})),To($c,(function(t){ka.units[t]="deg",Lc[t]=1})),Ql[tu[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+$c,To("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Ql[e[1]]=tu[e[0]]})),To("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){ka.units[t]="px"})),Ol.registerPlugin(eu);var nu={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},iu={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},ru=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],su={CSS:{},springs:{}};function au(t,e,n){return Math.min(Math.max(t,e),n)}function ou(t,e){return t.indexOf(e)>-1}function hu(t,e){return t.apply(null,e)}var lu={arr:function(t){return Array.isArray(t)},obj:function(t){return ou(Object.prototype.toString.call(t),"Object")},pth:function(t){return lu.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||lu.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nil:function(t){return lu.und(t)||null===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return lu.hex(t)||lu.rgb(t)||lu.hsl(t)},key:function(t){return!nu.hasOwnProperty(t)&&!iu.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function cu(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function uu(t,e){var n=cu(t),i=au(lu.und(n[0])?1:n[0],.1,100),r=au(lu.und(n[1])?100:n[1],.1,100),s=au(lu.und(n[2])?10:n[2],.1,100),a=au(lu.und(n[3])?0:n[3],.1,100),o=Math.sqrt(r/i),h=s/(2*Math.sqrt(r*i)),l=h<1?o*Math.sqrt(1-h*h):0,c=h<1?(h*o-a)/l:-a+o;function u(t){var n=e?e*t/1e3:t;return n=h<1?Math.exp(-n*h*o)*(1*Math.cos(l*n)+c*Math.sin(l*n)):(1+c*n)*Math.exp(-n*o),0===t||1===t?t:1-n}return e?u:function(){var e=su.springs[t];if(e)return e;for(var n=1/6,i=0,r=0;;)if(1===u(i+=n)){if(++r>=16)break}else r=0;var s=i*n*1e3;return su.springs[t]=s,s}}function du(t){return void 0===t&&(t=10),function(e){return Math.ceil(au(e,1e-6,1)*t)*(1/t)}}var pu,mu,fu=function(){var t=.1;function e(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function i(t){return 3*t}function r(t,r,s){return((e(r,s)*t+n(r,s))*t+i(r))*t}function s(t,r,s){return 3*e(r,s)*t*t+2*n(r,s)*t+i(r)}return function(e,n,i,a){if(0<=e&&e<=1&&0<=i&&i<=1){var o=new Float32Array(11);if(e!==n||i!==a)for(var h=0;h<11;++h)o[h]=r(h*t,e,i);return function(h){return e===n&&i===a||0===h||1===h?h:r(function(n){for(var a=0,h=1;10!==h&&o[h]<=n;++h)a+=t;--h;var l=a+(n-o[h])/(o[h+1]-o[h])*t,c=s(l,e,i);return c>=.001?function(t,e,n,i){for(var a=0;a<4;++a){var o=s(e,n,i);if(0===o)return e;e-=(r(e,n,i)-t)/o}return e}(n,l,e,i):0===c?l:function(t,e,n,i,s){var a,o,h=0;do{(a=r(o=e+(n-e)/2,i,s)-t)>0?n=o:e=o}while(Math.abs(a)>1e-7&&++h<10);return o}(n,a,a+t,e,i)}(h),n,a)}}}}(),gu=(pu={linear:function(){return function(t){return t}}},mu={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Expo:function(){return function(t){return t?Math.pow(2,10*t-10):0}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=au(t,1,10),i=au(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint"].forEach((function(t,e){mu[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(mu).forEach((function(t){var e=mu[t];pu["easeIn"+t]=e,pu["easeOut"+t]=function(t,n){return function(i){return 1-e(t,n)(1-i)}},pu["easeInOut"+t]=function(t,n){return function(i){return i<.5?e(t,n)(2*i)/2:1-e(t,n)(-2*i+2)/2}},pu["easeOutIn"+t]=function(t,n){return function(i){return i<.5?(1-e(t,n)(1-2*i))/2:(e(t,n)(2*i-1)+1)/2}}})),pu);function yu(t,e){if(lu.fnc(t))return t;var n=t.split("(")[0],i=gu[n],r=cu(t);switch(n){case"spring":return uu(t,e);case"cubicBezier":return hu(fu,r);case"steps":return hu(du,r);default:return hu(i,r)}}function _u(t){try{return document.querySelectorAll(t)}catch(t){return}}function vu(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,r=[],s=0;s<n;s++)if(s in t){var a=t[s];e.call(i,a,s,t)&&r.push(a)}return r}function xu(t){return t.reduce((function(t,e){return t.concat(lu.arr(e)?xu(e):e)}),[])}function bu(t){return lu.arr(t)?t:(lu.str(t)&&(t=_u(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function Au(t,e){return t.some((function(t){return t===e}))}function wu(t){var e={};for(var n in t)e[n]=t[n];return e}function Mu(t,e){var n=wu(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function Tu(t,e){var n=wu(t);for(var i in e)n[i]=lu.und(t[i])?e[i]:t[i];return n}function Cu(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function Su(t,e){return lu.fnc(t)?t(e.target,e.id,e.total):t}function Bu(t,e){return t.getAttribute(e)}function Eu(t,e,n){if(Au([n,"deg","rad","turn"],Cu(e)))return e;var i=su.CSS[e+n];if(!lu.und(i))return i;var r=document.createElement(t.tagName),s=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;s.appendChild(r),r.style.position="absolute",r.style.width=100+n;var a=100/r.offsetWidth;s.removeChild(r);var o=a*parseFloat(e);return su.CSS[e+n]=o,o}function ku(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?Eu(t,r,n):r}}function Iu(t,e){return lu.dom(t)&&!lu.inp(t)&&(!lu.nil(Bu(t,e))||lu.svg(t)&&t[e])?"attribute":lu.dom(t)&&Au(ru,e)?"transform":lu.dom(t)&&"transform"!==e&&ku(t,e)?"css":null!=t[e]?"object":void 0}function zu(t){if(lu.dom(t)){for(var e,n=t.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;e=i.exec(n);)r.set(e[1],e[2]);return r}}function Pu(t,e,n,i){switch(Iu(t,e)){case"transform":return function(t,e,n,i){var r=ou(e,"scale")?1:0+function(t){return ou(t,"translate")||"perspective"===t?"px":ou(t,"rotate")||ou(t,"skew")?"deg":void 0}(e),s=zu(t).get(e)||r;return n&&(n.transforms.list.set(e,s),n.transforms.last=e),i?Eu(t,s,i):s}(t,e,i,n);case"css":return ku(t,e,n);case"attribute":return Bu(t,e);default:return t[e]||0}}function Ru(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=Cu(t)||0,r=parseFloat(e),s=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+s+i;case"-":return r-s+i;case"*":return r*s+i}}function Ou(t,e){if(lu.col(t))return function(t){return lu.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:lu.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):lu.hsl(t)?function(t){var e,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),s=parseInt(r[1],10)/360,a=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100,h=r[4]||1;function l(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==a)e=n=i=o;else{var c=o<.5?o*(1+a):o+a-o*a,u=2*o-c;e=l(u,c,s+1/3),n=l(u,c,s),i=l(u,c,s-1/3)}return"rgba("+255*e+","+255*n+","+255*i+","+h+")"}(t):void 0;var e,n}(t);if(/\s/g.test(t))return t;var n=Cu(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function Lu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Du(t){for(var e,n=t.points,i=0,r=0;r<n.numberOfItems;r++){var s=n.getItem(r);r>0&&(i+=Lu(e,s)),e=s}return i}function Nu(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*Bu(t,"r")}(t);case"rect":return function(t){return 2*Bu(t,"width")+2*Bu(t,"height")}(t);case"line":return function(t){return Lu({x:Bu(t,"x1"),y:Bu(t,"y1")},{x:Bu(t,"x2"),y:Bu(t,"y2")})}(t);case"polyline":return Du(t);case"polygon":return function(t){var e=t.points;return Du(t)+Lu(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function Fu(t,e){var n=e||{},i=n.el||function(t){for(var e=t.parentNode;lu.svg(e)&&lu.svg(e.parentNode);)e=e.parentNode;return e}(t),r=i.getBoundingClientRect(),s=Bu(i,"viewBox"),a=r.width,o=r.height,h=n.viewBox||(s?s.split(" "):[0,0,a,o]);return{el:i,viewBox:h,x:h[0]/1,y:h[1]/1,w:a,h:o,vW:h[2],vH:h[3]}}function Uu(t,e,n){function i(n){void 0===n&&(n=0);var i=e+n>=1?e+n:0;return t.el.getPointAtLength(i)}var r=Fu(t.el,t.svg),s=i(),a=i(-1),o=i(1),h=n?1:r.w/r.vW,l=n?1:r.h/r.vH;switch(t.property){case"x":return(s.x-r.x)*h;case"y":return(s.y-r.y)*l;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}function Vu(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=Ou(lu.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:lu.str(t)||e?i.split(n):[]}}function ju(t){return vu(t?xu(lu.arr(t)?t.map(bu):bu(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function Wu(t){var e=ju(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:zu(t)}}}))}function Hu(t,e){var n=wu(e);if(/^spring/.test(n.easing)&&(n.duration=uu(n.easing)),lu.arr(t)){var i=t.length;2!==i||lu.obj(t[0])?lu.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}var r=lu.arr(t)?t:[t];return r.map((function(t,n){var i=lu.obj(t)&&!lu.pth(t)?t:{value:t};return lu.und(i.delay)&&(i.delay=n?0:e.delay),lu.und(i.endDelay)&&(i.endDelay=n===r.length-1?e.endDelay:0),i})).map((function(t){return Tu(t,n)}))}var qu={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){if(i.list.set(e,n),e===i.last||r){var s="";i.list.forEach((function(t,e){s+=e+"("+t+") "})),t.style.transform=s}}};function Gu(t,e){Wu(t).forEach((function(t){for(var n in e){var i=Su(e[n],t),r=t.target,s=Cu(i),a=Pu(r,n,s,t),o=Ru(Ou(i,s||Cu(a)),a),h=Iu(r,n);qu[h](r,n,o,t.transforms,!0)}}))}function Xu(t,e){return vu(xu(t.map((function(t){return e.map((function(e){return function(t,e){var n=Iu(t.target,e.name);if(n){var i=function(t,e){var n;return t.tweens.map((function(i){var r=function(t,e){var n={};for(var i in t){var r=Su(t[i],e);lu.arr(r)&&1===(r=r.map((function(t){return Su(t,e)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,e),s=r.value,a=lu.arr(s)?s[1]:s,o=Cu(a),h=Pu(e.target,t.name,o,e),l=n?n.to.original:h,c=lu.arr(s)?s[0]:l,u=Cu(c)||Cu(h),d=o||u;return lu.und(a)&&(a=l),r.from=Vu(c,d),r.to=Vu(Ru(a,c),d),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=yu(r.easing,r.duration),r.isPath=lu.pth(s),r.isPathTargetInsideSVG=r.isPath&&lu.svg(e.target),r.isColor=lu.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}(e,t),r=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(t,e)}))}))),(function(t){return!lu.und(t)}))}function Yu(t,e){var n=t.length,i=function(t){return t.timelineOffset?t.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,t.map((function(t){return i(t)+t.duration}))):e.duration,r.delay=n?Math.min.apply(Math,t.map((function(t){return i(t)+t.delay}))):e.delay,r.endDelay=n?r.duration-Math.max.apply(Math,t.map((function(t){return i(t)+t.duration-t.endDelay}))):e.endDelay,r}var Zu=0,Ju=[],Qu=function(){var t;function e(n){for(var i=Ju.length,r=0;r<i;){var s=Ju[r];s.paused?(Ju.splice(r,1),i--):(s.tick(n),r++)}t=r>0?requestAnimationFrame(e):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){$u.suspendWhenDocumentHidden&&(Ku()?t=cancelAnimationFrame(t):(Ju.forEach((function(t){return t._onDocumentVisibility()})),Qu()))})),function(){t||Ku()&&$u.suspendWhenDocumentHidden||!(Ju.length>0)||(t=requestAnimationFrame(e))}}();function Ku(){return!!document&&document.hidden}function $u(t){void 0===t&&(t={});var e,n=0,i=0,r=0,s=0,a=null;function o(t){var e=window.Promise&&new Promise((function(t){return a=t}));return t.finished=e,e}var h=function(t){var e=Mu(nu,t),n=Mu(iu,t),i=function(t,e){var n=[],i=e.keyframes;for(var r in i&&(e=Tu(function(t){for(var e=vu(xu(t.map((function(t){return Object.keys(t)}))),(function(t){return lu.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},i=function(i){var r=e[i];n[r]=t.map((function(t){var e={};for(var n in t)lu.key(n)?n==r&&(e.value=t[n]):e[n]=t[n];return e}))},r=0;r<e.length;r++)i(r);return n}(i),e)),e)lu.key(r)&&n.push({name:r,tweens:Hu(e[r],t)});return n}(n,t),r=Wu(t.targets),s=Xu(r,i),a=Yu(s,n),o=Zu;return Zu++,Tu(e,{id:o,children:[],animatables:r,animations:s,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}(t);function l(){var t=h.direction;"alternate"!==t&&(h.direction="normal"!==t?"normal":"reverse"),h.reversed=!h.reversed,e.forEach((function(t){return t.reversed=h.reversed}))}function c(t){return h.reversed?h.duration-t:t}function u(){n=0,i=c(h.currentTime)*(1/$u.speed)}function d(t,e){e&&e.seek(t-e.timelineOffset)}function p(t){for(var e=0,n=h.animations,i=n.length;e<i;){var r=n[e],s=r.animatable,a=r.tweens,o=a.length-1,l=a[o];o&&(l=vu(a,(function(e){return t<e.end}))[0]||l);for(var c=au(t-l.start-l.delay,0,l.duration)/l.duration,u=isNaN(c)?1:l.easing(c),d=l.to.strings,p=l.round,m=[],f=l.to.numbers.length,g=void 0,y=0;y<f;y++){var _=void 0,v=l.to.numbers[y],x=l.from.numbers[y]||0;_=l.isPath?Uu(l.value,u*v,l.isPathTargetInsideSVG):x+u*(v-x),p&&(l.isColor&&y>2||(_=Math.round(_*p)/p)),m.push(_)}var b=d.length;if(b){g=d[0];for(var A=0;A<b;A++){d[A];var w=d[A+1],M=m[A];isNaN(M)||(g+=w?M+w:M+" ")}}else g=m[0];qu[r.type](s.target,r.property,g,s.transforms),r.currentValue=g,e++}}function m(t){h[t]&&!h.passThrough&&h[t](h)}function f(t){var u=h.duration,f=h.delay,g=u-h.endDelay,y=c(t);h.progress=au(y/u*100,0,100),h.reversePlayback=y<h.currentTime,e&&function(t){if(h.reversePlayback)for(var n=s;n--;)d(t,e[n]);else for(var i=0;i<s;i++)d(t,e[i])}(y),!h.began&&h.currentTime>0&&(h.began=!0,m("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,m("loopBegin")),y<=f&&0!==h.currentTime&&p(0),(y>=g&&h.currentTime!==u||!u)&&p(u),y>f&&y<g?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,m("changeBegin")),m("change"),p(y)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,m("changeComplete")),h.currentTime=au(y,0,u),h.began&&m("update"),t>=u&&(i=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=r,m("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&l()):(h.paused=!0,h.completed||(h.completed=!0,m("loopComplete"),m("complete"),!h.passThrough&&"Promise"in window&&(a(),o(h)))))}return o(h),h.reset=function(){var t=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===t,h.remaining=h.loop,e=h.children;for(var n=s=e.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===t&&1===h.loop)&&h.remaining++,p(h.reversed?h.duration:0)},h._onDocumentVisibility=u,h.set=function(t,e){return Gu(t,e),h},h.tick=function(t){r=t,n||(n=r),f((r+(i-n))*$u.speed)},h.seek=function(t){f(c(t))},h.pause=function(){h.paused=!0,u()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,Ju.push(h),u(),Qu())},h.reverse=function(){l(),h.completed=!h.reversed,u()},h.restart=function(){h.reset(),h.play()},h.remove=function(t){ed(ju(t),h)},h.reset(),h.autoplay&&h.play(),h}function td(t,e){for(var n=e.length;n--;)Au(t,e[n].animatable.target)&&e.splice(n,1)}function ed(t,e){var n=e.animations,i=e.children;td(t,n);for(var r=i.length;r--;){var s=i[r],a=s.animations;td(t,a),a.length||s.children.length||i.splice(r,1)}n.length||i.length||e.pause()}$u.version="3.2.1",$u.speed=1,$u.suspendWhenDocumentHidden=!0,$u.running=Ju,$u.remove=function(t){for(var e=ju(t),n=Ju.length;n--;)ed(e,Ju[n])},$u.get=Pu,$u.set=Gu,$u.convertPx=Eu,$u.path=function(t,e){var n=lu.str(t)?_u(t)[0]:t,i=e||100;return function(t){return{property:t,el:n,svg:Fu(n),totalLength:Nu(n)*(i/100)}}},$u.setDashoffset=function(t){var e=Nu(t);return t.setAttribute("stroke-dasharray",e),e},$u.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",i=e.easing?yu(e.easing):null,r=e.grid,s=e.axis,a=e.from||0,o="first"===a,h="center"===a,l="last"===a,c=lu.arr(t),u=c?parseFloat(t[0]):parseFloat(t),d=c?parseFloat(t[1]):0,p=Cu(c?t[1]:t)||0,m=e.start||0+(c?u:0),f=[],g=0;return function(t,e,y){if(o&&(a=0),h&&(a=(y-1)/2),l&&(a=y-1),!f.length){for(var _=0;_<y;_++){if(r){var v=h?(r[0]-1)/2:a%r[0],x=h?(r[1]-1)/2:Math.floor(a/r[0]),b=v-_%r[0],A=x-Math.floor(_/r[0]),w=Math.sqrt(b*b+A*A);"x"===s&&(w=-b),"y"===s&&(w=-A),f.push(w)}else f.push(Math.abs(a-_));g=Math.max.apply(Math,f)}i&&(f=f.map((function(t){return i(t/g)*g}))),"reverse"===n&&(f=f.map((function(t){return s?t<0?-1*t:-t:Math.abs(g-t)})))}return m+(c?(d-u)/g:u)*(Math.round(100*f[e])/100)+p}},$u.timeline=function(t){void 0===t&&(t={});var e=$u(t);return e.duration=0,e.add=function(n,i){var r=Ju.indexOf(e),s=e.children;function a(t){t.passThrough=!0}r>-1&&Ju.splice(r,1);for(var o=0;o<s.length;o++)a(s[o]);var h=Tu(n,Mu(iu,t));h.targets=h.targets||t.targets;var l=e.duration;h.autoplay=!1,h.direction=e.direction,h.timelineOffset=lu.und(i)?l:Ru(i,l),a(e),e.seek(h.timelineOffset);var c=$u(h);a(c),s.push(c);var u=Yu(s,t);return e.delay=u.delay,e.endDelay=u.endDelay,e.duration=u.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},$u.easing=yu,$u.penner=gu,$u.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const nd=$u;Ol.registerPlugin(eu);const id=new _r,rd=document.querySelector(".loading-screen");let sd=document.querySelector(".count p"),ad=0,od=nd.timeline({loop:!1}),hd=!1;id.onProgress=(t,e,n)=>{const i=e/n*100;i>ad&&100>=i&&(ad=i),sd.textContent=Math.floor(ad),e!==n||hd||(Ol.to(".count",{opacity:0,delay:.5,duration:.5}),od.add({targets:".ml16 .letter",translateY:[0,100],easing:"easeOutExpo",duration:500,delay:(t,e)=>30*e}),Ol.to(".pre-loader",{scale:.5,ease:"power4.inOut",duration:2}),Ol.to(".loader-bg",{height:"0",ease:"power4.inOut",duration:1.5,delay:1}),rd.style.display="none",hd=!0)};let ld=document.querySelector(".ml16");ld.innerHTML=ld.textContent.replace(/\S/g,"<span class='letter'>$&</span>"),od.add({targets:".ml16 .letter",translateY:[-100,0],easing:"easeOutExpo",duration:1500,delay:(t,e)=>100+30*e}),Ol.to(".loader",{height:"0",ease:"power4.inOut",duration:1.5});const cd=new class extends xr{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new As(t)})),this.register((function(t){return new ws(t)})),this.register((function(t){return new zs(t)})),this.register((function(t){return new Ps(t)})),this.register((function(t){return new Rs(t)})),this.register((function(t){return new Ts(t)})),this.register((function(t){return new Cs(t)})),this.register((function(t){return new Ss(t)})),this.register((function(t){return new Bs(t)})),this.register((function(t){return new bs(t)})),this.register((function(t){return new Es(t)})),this.register((function(t){return new Ms(t)})),this.register((function(t){return new Is(t)})),this.register((function(t){return new ks(t)})),this.register((function(t){return new vs(t)})),this.register((function(t){return new Os(t)})),this.register((function(t){return new Ls(t)}))}load(t,e,n,i){const r=this;let s;if(""!==this.resourcePath)s=this.resourcePath;else if(""!==this.path){const e=Ur.extractUrlBase(t);s=Ur.resolveURL(e,this.path)}else s=Ur.extractUrlBase(t);this.manager.itemStart(t);const a=function(e){i?i(e):console.error(e),r.manager.itemError(t),r.manager.itemEnd(t)},o=new wr(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(n){try{r.parse(n,s,(function(n){e(n),r.manager.itemEnd(t)}),a)}catch(t){a(t)}}),n,a)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,i){let r;const s={},a={},o=new TextDecoder;if("string"==typeof t)r=JSON.parse(t);else if(t instanceof ArrayBuffer)if(o.decode(new Uint8Array(t,0,4))===Ds){try{s[Qr]=new Ns(t)}catch(t){return void(i&&i(t))}r=JSON.parse(s[Qr].content)}else r=JSON.parse(o.decode(t));else r=t;if(void 0===r.asset||r.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const h=new oa(r,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let t=0;t<this.pluginCallbacks.length;t++){const e=this.pluginCallbacks[t](h);e.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[e.name]=e,s[e.name]=!0}if(r.extensionsUsed)for(let t=0;t<r.extensionsUsed.length;++t){const e=r.extensionsUsed[t],n=r.extensionsRequired||[];switch(e){case hs:s[e]=new xs;break;case Kr:s[e]=new Fs(r,this.dracoLoader);break;case us:s[e]=new Us;break;case ds:s[e]=new Vs;break;default:n.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}h.setExtensions(s),h.setPlugins(a),h.parse(n,i)}parseAsync(t,e){const n=this;return new Promise((function(i,r){n.parse(t,e,i,r)}))}}(id),ud=new class extends xr{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,n,i){const r=new wr(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,(t=>{this.parse(t,e,i)}),n,i)}parse(t,e,n=()=>{}){this.decodeDracoFile(t,e,null,null,u,n).catch(n)}decodeDracoFile(t,e,n,i,r=d,s=()=>{}){const a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:r};return this.decodeGeometry(t,a).then(e).catch(s)}decodeGeometry(t,e){const n=JSON.stringify(e);if(la.has(t)){const e=la.get(t);if(e.key===n)return e.promise;if(0===t.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const r=this.workerNextTaskID++,s=t.byteLength,a=this._getWorker(r,s).then((n=>(i=n,new Promise(((n,s)=>{i._callbacks[r]={resolve:n,reject:s},i.postMessage({type:"decode",id:r,taskConfig:e,buffer:t},[t])}))))).then((t=>this._createGeometry(t.geometry)));return a.catch((()=>!0)).then((()=>{i&&r&&this._releaseTask(i,r)})),la.set(t,{key:n,promise:a}),a}_createGeometry(t){const e=new Ne;t.index&&e.setIndex(new Se(t.index.array,1));for(let n=0;n<t.attributes.length;n++){const i=t.attributes[n],r=i.name,s=i.array,a=i.itemSize,o=new Se(s,a);"color"===r&&(this._assignVertexColorSpace(o,i.vertexColorSpace),o.normalized=s instanceof Float32Array==0),e.setAttribute(r,o)}return e}_assignVertexColorSpace(t,e){if(e!==u)return;const n=new xe;for(let e=0,i=t.count;e<i;e++)n.fromBufferAttribute(t,e).convertSRGBToLinear(),t.setXYZ(e,n.r,n.g,n.b)}_loadLibrary(t,e){const n=new wr(this.manager);return n.setPath(this.decoderPath),n.setResponseType(e),n.setWithCredentials(this.withCredentials),new Promise(((e,i)=>{n.load(t,e,void 0,i)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then((e=>{const n=e[0];t||(this.decoderConfig.wasmBinary=e[1]);const i=ca.toString(),r=["/* draco decoder */",n,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r]))})),this.decoderPending}_getWorker(t,e){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(e){const n=e.data;switch(n.type){case"decode":t._callbacks[n.id].resolve(n);break;case"error":t._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort((function(t,e){return t._taskLoad>e._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[t]=e,n._taskLoad+=e,n}))}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map((t=>t._taskLoad)))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}};ud.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.7/"),ud.setDecoderConfig({type:"js"}),cd.setDRACOLoader(ud);var dd=n(72),pd=n.n(dd),md=n(825),fd=n.n(md),gd=n(659),yd=n.n(gd),_d=n(56),vd=n.n(_d),xd=n(540),bd=n.n(xd),Ad=n(113),wd=n.n(Ad),Md=n(568),Td={};Td.styleTagTransform=wd(),Td.setAttributes=vd(),Td.insert=yd().bind(null,"head"),Td.domAPI=fd(),Td.insertStyleElement=bd(),pd()(Md.A,Td),Md.A&&Md.A.locals&&Md.A.locals})();
//# sourceMappingURL=bundle.js.map